import{w as Na}from"./index.ea2ec12e.js";import{Q as xe}from"./scheduler.a001ff14.js";function Kh(n){return n?.length!==void 0?n:Array.from(n)}var Pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cr(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Ti(n){if(n.__esModule)return n;var t=n.default;if(typeof t=="function"){var e=function r(){if(this instanceof r){var o=[null];o.push.apply(o,arguments);var i=Function.bind.apply(t,o);return new i}return t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}),e}var Wn={exports:{}},yo;function Ci(){return yo||(yo=1,function(n){var t=Object.prototype.hasOwnProperty,e="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(e=!1));function o(d,v,B){this.fn=d,this.context=v,this.once=B||!1}function i(d,v,B,A,O){if(typeof B!="function")throw new TypeError("The listener must be a function");var T=new o(B,A||d,O),L=e?e+v:v;return d._events[L]?d._events[L].fn?d._events[L]=[d._events[L],T]:d._events[L].push(T):(d._events[L]=T,d._eventsCount++),d}function s(d,v){--d._eventsCount===0?d._events=new r:delete d._events[v]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var v=[],B,A;if(this._eventsCount===0)return v;for(A in B=this._events)t.call(B,A)&&v.push(e?A.slice(1):A);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(B)):v},u.prototype.listeners=function(v){var B=e?e+v:v,A=this._events[B];if(!A)return[];if(A.fn)return[A.fn];for(var O=0,T=A.length,L=new Array(T);O<T;O++)L[O]=A[O].fn;return L},u.prototype.listenerCount=function(v){var B=e?e+v:v,A=this._events[B];return A?A.fn?1:A.length:0},u.prototype.emit=function(v,B,A,O,T,L){var I=e?e+v:v;if(!this._events[I])return!1;var k=this._events[I],F=arguments.length,q,M;if(k.fn){switch(k.once&&this.removeListener(v,k.fn,void 0,!0),F){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,B),!0;case 3:return k.fn.call(k.context,B,A),!0;case 4:return k.fn.call(k.context,B,A,O),!0;case 5:return k.fn.call(k.context,B,A,O,T),!0;case 6:return k.fn.call(k.context,B,A,O,T,L),!0}for(M=1,q=new Array(F-1);M<F;M++)q[M-1]=arguments[M];k.fn.apply(k.context,q)}else{var G=k.length,C;for(M=0;M<G;M++)switch(k[M].once&&this.removeListener(v,k[M].fn,void 0,!0),F){case 1:k[M].fn.call(k[M].context);break;case 2:k[M].fn.call(k[M].context,B);break;case 3:k[M].fn.call(k[M].context,B,A);break;case 4:k[M].fn.call(k[M].context,B,A,O);break;default:if(!q)for(C=1,q=new Array(F-1);C<F;C++)q[C-1]=arguments[C];k[M].fn.apply(k[M].context,q)}}return!0},u.prototype.on=function(v,B,A){return i(this,v,B,A,!1)},u.prototype.once=function(v,B,A){return i(this,v,B,A,!0)},u.prototype.removeListener=function(v,B,A,O){var T=e?e+v:v;if(!this._events[T])return this;if(!B)return s(this,T),this;var L=this._events[T];if(L.fn)L.fn===B&&(!O||L.once)&&(!A||L.context===A)&&s(this,T);else{for(var I=0,k=[],F=L.length;I<F;I++)(L[I].fn!==B||O&&!L[I].once||A&&L[I].context!==A)&&k.push(L[I]);k.length?this._events[T]=k.length===1?k[0]:k:s(this,T)}return this},u.prototype.removeAllListeners=function(v){var B;return v?(B=e?e+v:v,this._events[B]&&s(this,B)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=e,u.EventEmitter=u,n.exports=u}(Wn)),Wn.exports}var Pa=Ci();const qa=Cr(Pa);class Re extends Error{constructor(t,e){super(t),this.error=e}}class Da extends Re{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class Hh extends Re{constructor(){super(...arguments),this.name="WalletLoadError"}}class Wh extends Re{constructor(){super(...arguments),this.name="WalletConfigError"}}class jh extends Re{constructor(){super(...arguments),this.name="WalletConnectionError"}}class Gh extends Re{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class Vh extends Re{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class Zh extends Re{constructor(){super(...arguments),this.name="WalletAccountError"}}class Yh extends Re{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class zr extends Re{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class Jh extends Re{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class Xh extends Re{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class Qh extends Re{constructor(){super(...arguments),this.name="WalletSignMessageError"}}var Ir;(function(n){n.Installed="Installed",n.NotDetected="NotDetected",n.Loadable="Loadable",n.Unsupported="Unsupported"})(Ir||(Ir={}));class td extends qa{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(t,e,r={}){const o=this.publicKey;if(!o)throw new zr;return t.feePayer=t.feePayer||o,t.recentBlockhash=t.recentBlockhash||(await e.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,t}}function ed(n){if(typeof window>"u"||typeof document>"u")return;const t=[];function e(){if(n())for(const i of t)i()}const r=setInterval(e,1e3);t.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",e,{once:!0}),t.push(()=>document.removeEventListener("DOMContentLoaded",e))),document.readyState!=="complete"&&(window.addEventListener("load",e,{once:!0}),t.push(()=>window.removeEventListener("load",e))),e()}function rd(){if(!navigator)return!1;const n=navigator.userAgent.toLowerCase(),t=n.includes("iphone")||n.includes("ipad"),e=n.includes("safari");return t&&e}class Qo extends Re{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}function za(n,t=null){try{const e=localStorage.getItem(n);if(e)return JSON.parse(e)}catch(e){typeof window<"u"&&console.error(e)}return t}function $a(n,t=null){try{t===null?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(t))}catch(e){typeof window<"u"&&console.error(e)}}const Et=ja();function Ka(n){const{onError:t,wallets:e}=xe(Et);e.forEach(({adapter:r})=>{r.on("readyStateChange",ns,r)}),n.on("connect",es),n.on("disconnect",rs),n.on("error",t)}async function Ha(){const{adapter:n}=xe(Et);try{Et.setConnecting(!0),await n?.connect()}catch{Et.resetWallet()}finally{Et.setConnecting(!1)}}async function Wa(){const{connected:n,connecting:t,disconnecting:e,ready:r,adapter:o}=xe(Et);if(!(n||t||e)){if(!o)throw lr(new Qo);if(!(r===Ir.Installed||r===Ir.Loadable))throw Et.resetWallet(),typeof window<"u"&&window.open(o.url,"_blank"),lr(new Da);try{Et.setConnecting(!0),await o.connect()}catch(i){throw Et.resetWallet(),i}finally{Et.setConnecting(!1)}}}function ja(){const{subscribe:n,update:t}=Na({autoConnect:!1,wallets:[],adapter:null,connected:!1,connecting:!1,disconnecting:!1,localStorageKey:"walletAdapter",onError:i=>console.error(i),publicKey:null,ready:"Unsupported",wallet:null,name:null,walletsByName:{},connect:Wa,disconnect:ts,select:Ga,sendTransaction:Va,signTransaction:void 0,signAllTransactions:void 0,signMessage:void 0});function e(i){o(i),t(s=>({...s,name:i?.name||null,wallet:i,ready:i?.readyState||"Unsupported",publicKey:i?.publicKey||null,connected:i?.connected||!1})),i&&Za()&&Ha()}function r(i){var s;const{localStorageKey:u,walletsByName:d}=xe(Et),v=(s=d?.[i])!==null&&s!==void 0?s:null;$a(u,i),e(v)}function o(i){is();let s,u,d;i&&("signTransaction"in i&&(s=async function(v){const{connected:B}=xe(Et);if(!B)throw lr(new zr);return await i.signTransaction(v)}),"signAllTransactions"in i&&(u=async function(v){const{connected:B}=xe(Et);if(!B)throw lr(new zr);return await i.signAllTransactions(v)}),"signMessage"in i&&(d=async function(v){const{connected:B}=xe(Et);if(!B)throw lr(new zr);return await i.signMessage(v)}),Ka(i)),t(v=>({...v,adapter:i,signTransaction:s,signAllTransactions:u,signMessage:d}))}return{resetWallet:()=>r(null),setConnecting:i=>t(s=>({...s,connecting:i})),setDisconnecting:i=>t(s=>({...s,disconnecting:i})),setReady:i=>t(s=>({...s,ready:i})),subscribe:n,updateConfig:i=>t(s=>({...s,...i})),updateWallets:i=>t(s=>({...s,...i})),updateStatus:i=>t(s=>({...s,...i})),updateWallet:i=>r(i)}}async function ts(){const{disconnecting:n,adapter:t}=xe(Et);if(!n){if(!t)return Et.resetWallet();try{Et.setDisconnecting(!0),await t.disconnect()}finally{Et.resetWallet(),Et.setDisconnecting(!1)}}}async function nd({wallets:n,autoConnect:t=!1,localStorageKey:e="walletAdapter",onError:r=o=>console.error(o)}){const o=n.reduce((u,d)=>(u[d.name]=d,u),{}),i=n.map(u=>({adapter:u,readyState:u.readyState}));Et.updateConfig({wallets:i,walletsByName:o,autoConnect:t,localStorageKey:e,onError:r});const s=za(e);s&&Et.updateWallet(s)}function lr(n){const{onError:t}=xe(Et);return t(n),n}function es(){const{adapter:n}=xe(Et);n&&Et.updateStatus({publicKey:n.publicKey,connected:n.connected})}function rs(){Et.resetWallet()}function ns(n){const{adapter:t,wallets:e}=xe(Et);if(!t)return;Et.setReady(t.readyState);const r=e.findIndex(({adapter:o})=>o.name===this.name);r!==-1&&Et.updateWallets([...e.slice(0,r),{...e[r],readyState:n},...e.slice(r+1)])}function is(){const{adapter:n,onError:t,wallets:e}=xe(Et);n&&(e.forEach(({adapter:r})=>{r.off("readyStateChange",ns,r)}),n.off("connect",es),n.off("disconnect",rs),n.off("error",t))}async function Ga(n){const{name:t,adapter:e}=xe(Et);t!==n&&(e&&await ts(),Et.updateWallet(n))}async function Va(n,t,e){const{connected:r,adapter:o}=xe(Et);if(!r)throw lr(new zr);if(!o)throw lr(new Qo);return await o.sendTransaction(n,t,e)}function Za(){const{adapter:n,autoConnect:t,ready:e,connected:r,connecting:o}=xe(Et);return!(!t||!n||!(e===Ir.Installed||e===Ir.Loadable)||r||o)}typeof window<"u"&&window.addEventListener("beforeunload",is);var rt={},dn={};dn.byteLength=Xa;dn.toByteArray=tc;dn.fromByteArray=nc;var $e=[],Te=[],Ya=typeof Uint8Array<"u"?Uint8Array:Array,jn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var xr=0,Ja=jn.length;xr<Ja;++xr)$e[xr]=jn[xr],Te[jn.charCodeAt(xr)]=xr;Te["-".charCodeAt(0)]=62;Te["_".charCodeAt(0)]=63;function os(n){var t=n.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=n.indexOf("=");e===-1&&(e=t);var r=e===t?0:4-e%4;return[e,r]}function Xa(n){var t=os(n),e=t[0],r=t[1];return(e+r)*3/4-r}function Qa(n,t,e){return(t+e)*3/4-e}function tc(n){var t,e=os(n),r=e[0],o=e[1],i=new Ya(Qa(n,r,o)),s=0,u=o>0?r-4:r,d;for(d=0;d<u;d+=4)t=Te[n.charCodeAt(d)]<<18|Te[n.charCodeAt(d+1)]<<12|Te[n.charCodeAt(d+2)]<<6|Te[n.charCodeAt(d+3)],i[s++]=t>>16&255,i[s++]=t>>8&255,i[s++]=t&255;return o===2&&(t=Te[n.charCodeAt(d)]<<2|Te[n.charCodeAt(d+1)]>>4,i[s++]=t&255),o===1&&(t=Te[n.charCodeAt(d)]<<10|Te[n.charCodeAt(d+1)]<<4|Te[n.charCodeAt(d+2)]>>2,i[s++]=t>>8&255,i[s++]=t&255),i}function ec(n){return $e[n>>18&63]+$e[n>>12&63]+$e[n>>6&63]+$e[n&63]}function rc(n,t,e){for(var r,o=[],i=t;i<e;i+=3)r=(n[i]<<16&16711680)+(n[i+1]<<8&65280)+(n[i+2]&255),o.push(ec(r));return o.join("")}function nc(n){for(var t,e=n.length,r=e%3,o=[],i=16383,s=0,u=e-r;s<u;s+=i)o.push(rc(n,s,s+i>u?u:s+i));return r===1?(t=n[e-1],o.push($e[t>>2]+$e[t<<4&63]+"==")):r===2&&(t=(n[e-2]<<8)+n[e-1],o.push($e[t>>10]+$e[t>>4&63]+$e[t<<2&63]+"=")),o.join("")}var Ui={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Ui.read=function(n,t,e,r,o){var i,s,u=o*8-r-1,d=(1<<u)-1,v=d>>1,B=-7,A=e?o-1:0,O=e?-1:1,T=n[t+A];for(A+=O,i=T&(1<<-B)-1,T>>=-B,B+=u;B>0;i=i*256+n[t+A],A+=O,B-=8);for(s=i&(1<<-B)-1,i>>=-B,B+=r;B>0;s=s*256+n[t+A],A+=O,B-=8);if(i===0)i=1-v;else{if(i===d)return s?NaN:(T?-1:1)*(1/0);s=s+Math.pow(2,r),i=i-v}return(T?-1:1)*s*Math.pow(2,i-r)};Ui.write=function(n,t,e,r,o,i){var s,u,d,v=i*8-o-1,B=(1<<v)-1,A=B>>1,O=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=r?0:i-1,L=r?1:-1,I=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,s=B):(s=Math.floor(Math.log(t)/Math.LN2),t*(d=Math.pow(2,-s))<1&&(s--,d*=2),s+A>=1?t+=O/d:t+=O*Math.pow(2,1-A),t*d>=2&&(s++,d/=2),s+A>=B?(u=0,s=B):s+A>=1?(u=(t*d-1)*Math.pow(2,o),s=s+A):(u=t*Math.pow(2,A-1)*Math.pow(2,o),s=0));o>=8;n[e+T]=u&255,T+=L,u/=256,o-=8);for(s=s<<o|u,v+=o;v>0;n[e+T]=s&255,T+=L,s/=256,v-=8);n[e+T-L]|=I*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const t=dn,e=Ui,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=u,n.SlowBuffer=q,n.INSPECT_MAX_BYTES=50;const o=2147483647;n.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=i(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const g=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(g,f),g.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function s(g){if(g>o)throw new RangeError('The value "'+g+'" is invalid for option "size"');const f=new Uint8Array(g);return Object.setPrototypeOf(f,u.prototype),f}function u(g,f,l){if(typeof g=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return A(g)}return d(g,f,l)}u.poolSize=8192;function d(g,f,l){if(typeof g=="string")return O(g,f);if(ArrayBuffer.isView(g))return L(g);if(g==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g);if(ge(g,ArrayBuffer)||g&&ge(g.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ge(g,SharedArrayBuffer)||g&&ge(g.buffer,SharedArrayBuffer)))return I(g,f,l);if(typeof g=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const E=g.valueOf&&g.valueOf();if(E!=null&&E!==g)return u.from(E,f,l);const R=k(g);if(R)return R;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof g[Symbol.toPrimitive]=="function")return u.from(g[Symbol.toPrimitive]("string"),f,l);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g)}u.from=function(g,f,l){return d(g,f,l)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function v(g){if(typeof g!="number")throw new TypeError('"size" argument must be of type number');if(g<0)throw new RangeError('The value "'+g+'" is invalid for option "size"')}function B(g,f,l){return v(g),g<=0?s(g):f!==void 0?typeof l=="string"?s(g).fill(f,l):s(g).fill(f):s(g)}u.alloc=function(g,f,l){return B(g,f,l)};function A(g){return v(g),s(g<0?0:F(g)|0)}u.allocUnsafe=function(g){return A(g)},u.allocUnsafeSlow=function(g){return A(g)};function O(g,f){if((typeof f!="string"||f==="")&&(f="utf8"),!u.isEncoding(f))throw new TypeError("Unknown encoding: "+f);const l=M(g,f)|0;let E=s(l);const R=E.write(g,f);return R!==l&&(E=E.slice(0,R)),E}function T(g){const f=g.length<0?0:F(g.length)|0,l=s(f);for(let E=0;E<f;E+=1)l[E]=g[E]&255;return l}function L(g){if(ge(g,Uint8Array)){const f=new Uint8Array(g);return I(f.buffer,f.byteOffset,f.byteLength)}return T(g)}function I(g,f,l){if(f<0||g.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(g.byteLength<f+(l||0))throw new RangeError('"length" is outside of buffer bounds');let E;return f===void 0&&l===void 0?E=new Uint8Array(g):l===void 0?E=new Uint8Array(g,f):E=new Uint8Array(g,f,l),Object.setPrototypeOf(E,u.prototype),E}function k(g){if(u.isBuffer(g)){const f=F(g.length)|0,l=s(f);return l.length===0||g.copy(l,0,0,f),l}if(g.length!==void 0)return typeof g.length!="number"||Rt(g.length)?s(0):T(g);if(g.type==="Buffer"&&Array.isArray(g.data))return T(g.data)}function F(g){if(g>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return g|0}function q(g){return+g!=g&&(g=0),u.alloc(+g)}u.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==u.prototype},u.compare=function(f,l){if(ge(f,Uint8Array)&&(f=u.from(f,f.offset,f.byteLength)),ge(l,Uint8Array)&&(l=u.from(l,l.offset,l.byteLength)),!u.isBuffer(f)||!u.isBuffer(l))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===l)return 0;let E=f.length,R=l.length;for(let U=0,D=Math.min(E,R);U<D;++U)if(f[U]!==l[U]){E=f[U],R=l[U];break}return E<R?-1:R<E?1:0},u.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(f,l){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return u.alloc(0);let E;if(l===void 0)for(l=0,E=0;E<f.length;++E)l+=f[E].length;const R=u.allocUnsafe(l);let U=0;for(E=0;E<f.length;++E){let D=f[E];if(ge(D,Uint8Array))U+D.length>R.length?(u.isBuffer(D)||(D=u.from(D)),D.copy(R,U)):Uint8Array.prototype.set.call(R,D,U);else if(u.isBuffer(D))D.copy(R,U);else throw new TypeError('"list" argument must be an Array of Buffers');U+=D.length}return R};function M(g,f){if(u.isBuffer(g))return g.length;if(ArrayBuffer.isView(g)||ge(g,ArrayBuffer))return g.byteLength;if(typeof g!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof g);const l=g.length,E=arguments.length>2&&arguments[2]===!0;if(!E&&l===0)return 0;let R=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return l;case"utf8":case"utf-8":return kt(g).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l*2;case"hex":return l>>>1;case"base64":return Ct(g).length;default:if(R)return E?-1:kt(g).length;f=(""+f).toLowerCase(),R=!0}}u.byteLength=M;function G(g,f,l){let E=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((l===void 0||l>this.length)&&(l=this.length),l<=0)||(l>>>=0,f>>>=0,l<=f))return"";for(g||(g="utf8");;)switch(g){case"hex":return m(this,f,l);case"utf8":case"utf-8":return a(this,f,l);case"ascii":return S(this,f,l);case"latin1":case"binary":return x(this,f,l);case"base64":return _(this,f,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,f,l);default:if(E)throw new TypeError("Unknown encoding: "+g);g=(g+"").toLowerCase(),E=!0}}u.prototype._isBuffer=!0;function C(g,f,l){const E=g[f];g[f]=g[l],g[l]=E}u.prototype.swap16=function(){const f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let l=0;l<f;l+=2)C(this,l,l+1);return this},u.prototype.swap32=function(){const f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let l=0;l<f;l+=4)C(this,l,l+3),C(this,l+1,l+2);return this},u.prototype.swap64=function(){const f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let l=0;l<f;l+=8)C(this,l,l+7),C(this,l+1,l+6),C(this,l+2,l+5),C(this,l+3,l+4);return this},u.prototype.toString=function(){const f=this.length;return f===0?"":arguments.length===0?a(this,0,f):G.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(f){if(!u.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:u.compare(this,f)===0},u.prototype.inspect=function(){let f="";const l=n.INSPECT_MAX_BYTES;return f=this.toString("hex",0,l).replace(/(.{2})/g,"$1 ").trim(),this.length>l&&(f+=" ... "),"<Buffer "+f+">"},r&&(u.prototype[r]=u.prototype.inspect),u.prototype.compare=function(f,l,E,R,U){if(ge(f,Uint8Array)&&(f=u.from(f,f.offset,f.byteLength)),!u.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(l===void 0&&(l=0),E===void 0&&(E=f?f.length:0),R===void 0&&(R=0),U===void 0&&(U=this.length),l<0||E>f.length||R<0||U>this.length)throw new RangeError("out of range index");if(R>=U&&l>=E)return 0;if(R>=U)return-1;if(l>=E)return 1;if(l>>>=0,E>>>=0,R>>>=0,U>>>=0,this===f)return 0;let D=U-R,gt=E-l;const pt=Math.min(D,gt),ht=this.slice(R,U),Ot=f.slice(l,E);for(let ft=0;ft<pt;++ft)if(ht[ft]!==Ot[ft]){D=ht[ft],gt=Ot[ft];break}return D<gt?-1:gt<D?1:0};function z(g,f,l,E,R){if(g.length===0)return-1;if(typeof l=="string"?(E=l,l=0):l>2147483647?l=2147483647:l<-2147483648&&(l=-2147483648),l=+l,Rt(l)&&(l=R?0:g.length-1),l<0&&(l=g.length+l),l>=g.length){if(R)return-1;l=g.length-1}else if(l<0)if(R)l=0;else return-1;if(typeof f=="string"&&(f=u.from(f,E)),u.isBuffer(f))return f.length===0?-1:K(g,f,l,E,R);if(typeof f=="number")return f=f&255,typeof Uint8Array.prototype.indexOf=="function"?R?Uint8Array.prototype.indexOf.call(g,f,l):Uint8Array.prototype.lastIndexOf.call(g,f,l):K(g,[f],l,E,R);throw new TypeError("val must be string, number or Buffer")}function K(g,f,l,E,R){let U=1,D=g.length,gt=f.length;if(E!==void 0&&(E=String(E).toLowerCase(),E==="ucs2"||E==="ucs-2"||E==="utf16le"||E==="utf-16le")){if(g.length<2||f.length<2)return-1;U=2,D/=2,gt/=2,l/=2}function pt(Ot,ft){return U===1?Ot[ft]:Ot.readUInt16BE(ft*U)}let ht;if(R){let Ot=-1;for(ht=l;ht<D;ht++)if(pt(g,ht)===pt(f,Ot===-1?0:ht-Ot)){if(Ot===-1&&(Ot=ht),ht-Ot+1===gt)return Ot*U}else Ot!==-1&&(ht-=ht-Ot),Ot=-1}else for(l+gt>D&&(l=D-gt),ht=l;ht>=0;ht--){let Ot=!0;for(let ft=0;ft<gt;ft++)if(pt(g,ht+ft)!==pt(f,ft)){Ot=!1;break}if(Ot)return ht}return-1}u.prototype.includes=function(f,l,E){return this.indexOf(f,l,E)!==-1},u.prototype.indexOf=function(f,l,E){return z(this,f,l,E,!0)},u.prototype.lastIndexOf=function(f,l,E){return z(this,f,l,E,!1)};function W(g,f,l,E){l=Number(l)||0;const R=g.length-l;E?(E=Number(E),E>R&&(E=R)):E=R;const U=f.length;E>U/2&&(E=U/2);let D;for(D=0;D<E;++D){const gt=parseInt(f.substr(D*2,2),16);if(Rt(gt))return D;g[l+D]=gt}return D}function ct(g,f,l,E){return Mt(kt(f,g.length-l),g,l,E)}function st(g,f,l,E){return Mt(Nt(f),g,l,E)}function Q(g,f,l,E){return Mt(Ct(f),g,l,E)}function yt(g,f,l,E){return Mt(vr(f,g.length-l),g,l,E)}u.prototype.write=function(f,l,E,R){if(l===void 0)R="utf8",E=this.length,l=0;else if(E===void 0&&typeof l=="string")R=l,E=this.length,l=0;else if(isFinite(l))l=l>>>0,isFinite(E)?(E=E>>>0,R===void 0&&(R="utf8")):(R=E,E=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const U=this.length-l;if((E===void 0||E>U)&&(E=U),f.length>0&&(E<0||l<0)||l>this.length)throw new RangeError("Attempt to write outside buffer bounds");R||(R="utf8");let D=!1;for(;;)switch(R){case"hex":return W(this,f,l,E);case"utf8":case"utf-8":return ct(this,f,l,E);case"ascii":case"latin1":case"binary":return st(this,f,l,E);case"base64":return Q(this,f,l,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return yt(this,f,l,E);default:if(D)throw new TypeError("Unknown encoding: "+R);R=(""+R).toLowerCase(),D=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function _(g,f,l){return f===0&&l===g.length?t.fromByteArray(g):t.fromByteArray(g.slice(f,l))}function a(g,f,l){l=Math.min(g.length,l);const E=[];let R=f;for(;R<l;){const U=g[R];let D=null,gt=U>239?4:U>223?3:U>191?2:1;if(R+gt<=l){let pt,ht,Ot,ft;switch(gt){case 1:U<128&&(D=U);break;case 2:pt=g[R+1],(pt&192)===128&&(ft=(U&31)<<6|pt&63,ft>127&&(D=ft));break;case 3:pt=g[R+1],ht=g[R+2],(pt&192)===128&&(ht&192)===128&&(ft=(U&15)<<12|(pt&63)<<6|ht&63,ft>2047&&(ft<55296||ft>57343)&&(D=ft));break;case 4:pt=g[R+1],ht=g[R+2],Ot=g[R+3],(pt&192)===128&&(ht&192)===128&&(Ot&192)===128&&(ft=(U&15)<<18|(pt&63)<<12|(ht&63)<<6|Ot&63,ft>65535&&ft<1114112&&(D=ft))}}D===null?(D=65533,gt=1):D>65535&&(D-=65536,E.push(D>>>10&1023|55296),D=56320|D&1023),E.push(D),R+=gt}return y(E)}const h=4096;function y(g){const f=g.length;if(f<=h)return String.fromCharCode.apply(String,g);let l="",E=0;for(;E<f;)l+=String.fromCharCode.apply(String,g.slice(E,E+=h));return l}function S(g,f,l){let E="";l=Math.min(g.length,l);for(let R=f;R<l;++R)E+=String.fromCharCode(g[R]&127);return E}function x(g,f,l){let E="";l=Math.min(g.length,l);for(let R=f;R<l;++R)E+=String.fromCharCode(g[R]);return E}function m(g,f,l){const E=g.length;(!f||f<0)&&(f=0),(!l||l<0||l>E)&&(l=E);let R="";for(let U=f;U<l;++U)R+=Tt[g[U]];return R}function b(g,f,l){const E=g.slice(f,l);let R="";for(let U=0;U<E.length-1;U+=2)R+=String.fromCharCode(E[U]+E[U+1]*256);return R}u.prototype.slice=function(f,l){const E=this.length;f=~~f,l=l===void 0?E:~~l,f<0?(f+=E,f<0&&(f=0)):f>E&&(f=E),l<0?(l+=E,l<0&&(l=0)):l>E&&(l=E),l<f&&(l=f);const R=this.subarray(f,l);return Object.setPrototypeOf(R,u.prototype),R};function p(g,f,l){if(g%1!==0||g<0)throw new RangeError("offset is not uint");if(g+f>l)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(f,l,E){f=f>>>0,l=l>>>0,E||p(f,l,this.length);let R=this[f],U=1,D=0;for(;++D<l&&(U*=256);)R+=this[f+D]*U;return R},u.prototype.readUintBE=u.prototype.readUIntBE=function(f,l,E){f=f>>>0,l=l>>>0,E||p(f,l,this.length);let R=this[f+--l],U=1;for(;l>0&&(U*=256);)R+=this[f+--l]*U;return R},u.prototype.readUint8=u.prototype.readUInt8=function(f,l){return f=f>>>0,l||p(f,1,this.length),this[f]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(f,l){return f=f>>>0,l||p(f,2,this.length),this[f]|this[f+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(f,l){return f=f>>>0,l||p(f,2,this.length),this[f]<<8|this[f+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(f,l){return f=f>>>0,l||p(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(f,l){return f=f>>>0,l||p(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},u.prototype.readBigUInt64LE=Se(function(f){f=f>>>0,Lt(f,"offset");const l=this[f],E=this[f+7];(l===void 0||E===void 0)&&xt(f,this.length-8);const R=l+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,U=this[++f]+this[++f]*2**8+this[++f]*2**16+E*2**24;return BigInt(R)+(BigInt(U)<<BigInt(32))}),u.prototype.readBigUInt64BE=Se(function(f){f=f>>>0,Lt(f,"offset");const l=this[f],E=this[f+7];(l===void 0||E===void 0)&&xt(f,this.length-8);const R=l*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],U=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+E;return(BigInt(R)<<BigInt(32))+BigInt(U)}),u.prototype.readIntLE=function(f,l,E){f=f>>>0,l=l>>>0,E||p(f,l,this.length);let R=this[f],U=1,D=0;for(;++D<l&&(U*=256);)R+=this[f+D]*U;return U*=128,R>=U&&(R-=Math.pow(2,8*l)),R},u.prototype.readIntBE=function(f,l,E){f=f>>>0,l=l>>>0,E||p(f,l,this.length);let R=l,U=1,D=this[f+--R];for(;R>0&&(U*=256);)D+=this[f+--R]*U;return U*=128,D>=U&&(D-=Math.pow(2,8*l)),D},u.prototype.readInt8=function(f,l){return f=f>>>0,l||p(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},u.prototype.readInt16LE=function(f,l){f=f>>>0,l||p(f,2,this.length);const E=this[f]|this[f+1]<<8;return E&32768?E|4294901760:E},u.prototype.readInt16BE=function(f,l){f=f>>>0,l||p(f,2,this.length);const E=this[f+1]|this[f]<<8;return E&32768?E|4294901760:E},u.prototype.readInt32LE=function(f,l){return f=f>>>0,l||p(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},u.prototype.readInt32BE=function(f,l){return f=f>>>0,l||p(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},u.prototype.readBigInt64LE=Se(function(f){f=f>>>0,Lt(f,"offset");const l=this[f],E=this[f+7];(l===void 0||E===void 0)&&xt(f,this.length-8);const R=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(E<<24);return(BigInt(R)<<BigInt(32))+BigInt(l+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),u.prototype.readBigInt64BE=Se(function(f){f=f>>>0,Lt(f,"offset");const l=this[f],E=this[f+7];(l===void 0||E===void 0)&&xt(f,this.length-8);const R=(l<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(R)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+E)}),u.prototype.readFloatLE=function(f,l){return f=f>>>0,l||p(f,4,this.length),e.read(this,f,!0,23,4)},u.prototype.readFloatBE=function(f,l){return f=f>>>0,l||p(f,4,this.length),e.read(this,f,!1,23,4)},u.prototype.readDoubleLE=function(f,l){return f=f>>>0,l||p(f,8,this.length),e.read(this,f,!0,52,8)},u.prototype.readDoubleBE=function(f,l){return f=f>>>0,l||p(f,8,this.length),e.read(this,f,!1,52,8)};function c(g,f,l,E,R,U){if(!u.isBuffer(g))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>R||f<U)throw new RangeError('"value" argument is out of bounds');if(l+E>g.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(f,l,E,R){if(f=+f,l=l>>>0,E=E>>>0,!R){const gt=Math.pow(2,8*E)-1;c(this,f,l,E,gt,0)}let U=1,D=0;for(this[l]=f&255;++D<E&&(U*=256);)this[l+D]=f/U&255;return l+E},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(f,l,E,R){if(f=+f,l=l>>>0,E=E>>>0,!R){const gt=Math.pow(2,8*E)-1;c(this,f,l,E,gt,0)}let U=E-1,D=1;for(this[l+U]=f&255;--U>=0&&(D*=256);)this[l+U]=f/D&255;return l+E},u.prototype.writeUint8=u.prototype.writeUInt8=function(f,l,E){return f=+f,l=l>>>0,E||c(this,f,l,1,255,0),this[l]=f&255,l+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(f,l,E){return f=+f,l=l>>>0,E||c(this,f,l,2,65535,0),this[l]=f&255,this[l+1]=f>>>8,l+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(f,l,E){return f=+f,l=l>>>0,E||c(this,f,l,2,65535,0),this[l]=f>>>8,this[l+1]=f&255,l+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(f,l,E){return f=+f,l=l>>>0,E||c(this,f,l,4,4294967295,0),this[l+3]=f>>>24,this[l+2]=f>>>16,this[l+1]=f>>>8,this[l]=f&255,l+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(f,l,E){return f=+f,l=l>>>0,E||c(this,f,l,4,4294967295,0),this[l]=f>>>24,this[l+1]=f>>>16,this[l+2]=f>>>8,this[l+3]=f&255,l+4};function w(g,f,l,E,R){dt(f,E,R,g,l,7);let U=Number(f&BigInt(4294967295));g[l++]=U,U=U>>8,g[l++]=U,U=U>>8,g[l++]=U,U=U>>8,g[l++]=U;let D=Number(f>>BigInt(32)&BigInt(4294967295));return g[l++]=D,D=D>>8,g[l++]=D,D=D>>8,g[l++]=D,D=D>>8,g[l++]=D,l}function $(g,f,l,E,R){dt(f,E,R,g,l,7);let U=Number(f&BigInt(4294967295));g[l+7]=U,U=U>>8,g[l+6]=U,U=U>>8,g[l+5]=U,U=U>>8,g[l+4]=U;let D=Number(f>>BigInt(32)&BigInt(4294967295));return g[l+3]=D,D=D>>8,g[l+2]=D,D=D>>8,g[l+1]=D,D=D>>8,g[l]=D,l+8}u.prototype.writeBigUInt64LE=Se(function(f,l=0){return w(this,f,l,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Se(function(f,l=0){return $(this,f,l,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(f,l,E,R){if(f=+f,l=l>>>0,!R){const pt=Math.pow(2,8*E-1);c(this,f,l,E,pt-1,-pt)}let U=0,D=1,gt=0;for(this[l]=f&255;++U<E&&(D*=256);)f<0&&gt===0&&this[l+U-1]!==0&&(gt=1),this[l+U]=(f/D>>0)-gt&255;return l+E},u.prototype.writeIntBE=function(f,l,E,R){if(f=+f,l=l>>>0,!R){const pt=Math.pow(2,8*E-1);c(this,f,l,E,pt-1,-pt)}let U=E-1,D=1,gt=0;for(this[l+U]=f&255;--U>=0&&(D*=256);)f<0&&gt===0&&this[l+U+1]!==0&&(gt=1),this[l+U]=(f/D>>0)-gt&255;return l+E},u.prototype.writeInt8=function(f,l,E){return f=+f,l=l>>>0,E||c(this,f,l,1,127,-128),f<0&&(f=255+f+1),this[l]=f&255,l+1},u.prototype.writeInt16LE=function(f,l,E){return f=+f,l=l>>>0,E||c(this,f,l,2,32767,-32768),this[l]=f&255,this[l+1]=f>>>8,l+2},u.prototype.writeInt16BE=function(f,l,E){return f=+f,l=l>>>0,E||c(this,f,l,2,32767,-32768),this[l]=f>>>8,this[l+1]=f&255,l+2},u.prototype.writeInt32LE=function(f,l,E){return f=+f,l=l>>>0,E||c(this,f,l,4,2147483647,-2147483648),this[l]=f&255,this[l+1]=f>>>8,this[l+2]=f>>>16,this[l+3]=f>>>24,l+4},u.prototype.writeInt32BE=function(f,l,E){return f=+f,l=l>>>0,E||c(this,f,l,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[l]=f>>>24,this[l+1]=f>>>16,this[l+2]=f>>>8,this[l+3]=f&255,l+4},u.prototype.writeBigInt64LE=Se(function(f,l=0){return w(this,f,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Se(function(f,l=0){return $(this,f,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function H(g,f,l,E,R,U){if(l+E>g.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("Index out of range")}function V(g,f,l,E,R){return f=+f,l=l>>>0,R||H(g,f,l,4),e.write(g,f,l,E,23,4),l+4}u.prototype.writeFloatLE=function(f,l,E){return V(this,f,l,!0,E)},u.prototype.writeFloatBE=function(f,l,E){return V(this,f,l,!1,E)};function tt(g,f,l,E,R){return f=+f,l=l>>>0,R||H(g,f,l,8),e.write(g,f,l,E,52,8),l+8}u.prototype.writeDoubleLE=function(f,l,E){return tt(this,f,l,!0,E)},u.prototype.writeDoubleBE=function(f,l,E){return tt(this,f,l,!1,E)},u.prototype.copy=function(f,l,E,R){if(!u.isBuffer(f))throw new TypeError("argument should be a Buffer");if(E||(E=0),!R&&R!==0&&(R=this.length),l>=f.length&&(l=f.length),l||(l=0),R>0&&R<E&&(R=E),R===E||f.length===0||this.length===0)return 0;if(l<0)throw new RangeError("targetStart out of bounds");if(E<0||E>=this.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("sourceEnd out of bounds");R>this.length&&(R=this.length),f.length-l<R-E&&(R=f.length-l+E);const U=R-E;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(l,E,R):Uint8Array.prototype.set.call(f,this.subarray(E,R),l),U},u.prototype.fill=function(f,l,E,R){if(typeof f=="string"){if(typeof l=="string"?(R=l,l=0,E=this.length):typeof E=="string"&&(R=E,E=this.length),R!==void 0&&typeof R!="string")throw new TypeError("encoding must be a string");if(typeof R=="string"&&!u.isEncoding(R))throw new TypeError("Unknown encoding: "+R);if(f.length===1){const D=f.charCodeAt(0);(R==="utf8"&&D<128||R==="latin1")&&(f=D)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(l<0||this.length<l||this.length<E)throw new RangeError("Out of range index");if(E<=l)return this;l=l>>>0,E=E===void 0?this.length:E>>>0,f||(f=0);let U;if(typeof f=="number")for(U=l;U<E;++U)this[U]=f;else{const D=u.isBuffer(f)?f:u.from(f,R),gt=D.length;if(gt===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(U=0;U<E-l;++U)this[U+l]=D[U%gt]}return this};const et={};function it(g,f,l){et[g]=class extends l{constructor(){super(),Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${g}]`,this.stack,delete this.name}get code(){return g}set code(R){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:R,writable:!0})}toString(){return`${this.name} [${g}]: ${this.message}`}}}it("ERR_BUFFER_OUT_OF_BOUNDS",function(g){return g?`${g} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),it("ERR_INVALID_ARG_TYPE",function(g,f){return`The "${g}" argument must be of type number. Received type ${typeof f}`},TypeError),it("ERR_OUT_OF_RANGE",function(g,f,l){let E=`The value of "${g}" is out of range.`,R=l;return Number.isInteger(l)&&Math.abs(l)>2**32?R=Bt(String(l)):typeof l=="bigint"&&(R=String(l),(l>BigInt(2)**BigInt(32)||l<-(BigInt(2)**BigInt(32)))&&(R=Bt(R)),R+="n"),E+=` It must be ${f}. Received ${R}`,E},RangeError);function Bt(g){let f="",l=g.length;const E=g[0]==="-"?1:0;for(;l>=E+4;l-=3)f=`_${g.slice(l-3,l)}${f}`;return`${g.slice(0,l)}${f}`}function mt(g,f,l){Lt(f,"offset"),(g[f]===void 0||g[f+l]===void 0)&&xt(f,g.length-(l+1))}function dt(g,f,l,E,R,U){if(g>l||g<f){const D=typeof f=="bigint"?"n":"";let gt;throw U>3?f===0||f===BigInt(0)?gt=`>= 0${D} and < 2${D} ** ${(U+1)*8}${D}`:gt=`>= -(2${D} ** ${(U+1)*8-1}${D}) and < 2 ** ${(U+1)*8-1}${D}`:gt=`>= ${f}${D} and <= ${l}${D}`,new et.ERR_OUT_OF_RANGE("value",gt,g)}mt(E,R,U)}function Lt(g,f){if(typeof g!="number")throw new et.ERR_INVALID_ARG_TYPE(f,"number",g)}function xt(g,f,l){throw Math.floor(g)!==g?(Lt(g,l),new et.ERR_OUT_OF_RANGE(l||"offset","an integer",g)):f<0?new et.ERR_BUFFER_OUT_OF_BOUNDS:new et.ERR_OUT_OF_RANGE(l||"offset",`>= ${l?1:0} and <= ${f}`,g)}const At=/[^+/0-9A-Za-z-_]/g;function De(g){if(g=g.split("=")[0],g=g.trim().replace(At,""),g.length<2)return"";for(;g.length%4!==0;)g=g+"=";return g}function kt(g,f){f=f||1/0;let l;const E=g.length;let R=null;const U=[];for(let D=0;D<E;++D){if(l=g.charCodeAt(D),l>55295&&l<57344){if(!R){if(l>56319){(f-=3)>-1&&U.push(239,191,189);continue}else if(D+1===E){(f-=3)>-1&&U.push(239,191,189);continue}R=l;continue}if(l<56320){(f-=3)>-1&&U.push(239,191,189),R=l;continue}l=(R-55296<<10|l-56320)+65536}else R&&(f-=3)>-1&&U.push(239,191,189);if(R=null,l<128){if((f-=1)<0)break;U.push(l)}else if(l<2048){if((f-=2)<0)break;U.push(l>>6|192,l&63|128)}else if(l<65536){if((f-=3)<0)break;U.push(l>>12|224,l>>6&63|128,l&63|128)}else if(l<1114112){if((f-=4)<0)break;U.push(l>>18|240,l>>12&63|128,l>>6&63|128,l&63|128)}else throw new Error("Invalid code point")}return U}function Nt(g){const f=[];for(let l=0;l<g.length;++l)f.push(g.charCodeAt(l)&255);return f}function vr(g,f){let l,E,R;const U=[];for(let D=0;D<g.length&&!((f-=2)<0);++D)l=g.charCodeAt(D),E=l>>8,R=l%256,U.push(R),U.push(E);return U}function Ct(g){return t.toByteArray(De(g))}function Mt(g,f,l,E){let R;for(R=0;R<E&&!(R+l>=f.length||R>=g.length);++R)f[R+l]=g[R];return R}function ge(g,f){return g instanceof f||g!=null&&g.constructor!=null&&g.constructor.name!=null&&g.constructor.name===f.name}function Rt(g){return g!==g}const Tt=function(){const g="0123456789abcdef",f=new Array(256);for(let l=0;l<16;++l){const E=l*16;for(let R=0;R<16;++R)f[E+R]=g[l]+g[R]}return f}();function Se(g){return typeof BigInt>"u"?Ut:g}function Ut(){throw new Error("BigInt not supported")}})(rt);function mo(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function ss(n,...t){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(n.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${n.length}`)}function ic(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");mo(n.outputLen),mo(n.blockLen)}function on(n,t=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(t&&n.finished)throw new Error("Hash#digest() has already been called")}function oc(n,t){ss(n);const e=t.outputLen;if(n.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}const Gn=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const as=n=>n instanceof Uint8Array,Vn=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),ze=(n,t)=>n<<32-t|n>>>t,sc=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!sc)throw new Error("Non little-endian hardware is not supported");function cs(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function Oi(n){if(typeof n=="string"&&(n=cs(n)),!as(n))throw new Error(`expected Uint8Array, got ${typeof n}`);return n}function us(...n){const t=new Uint8Array(n.reduce((r,o)=>r+o.length,0));let e=0;return n.forEach(r=>{if(!as(r))throw new Error("Uint8Array expected");t.set(r,e),e+=r.length}),t}class fs{clone(){return this._cloneInto()}}function ls(n){const t=r=>n().update(Oi(r)).digest(),e=n();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>n(),t}function hs(n=32){if(Gn&&typeof Gn.getRandomValues=="function")return Gn.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function ac(n,t,e,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(t,e,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(e>>o&i),u=Number(e&i),d=r?4:0,v=r?0:4;n.setUint32(t+d,s,r),n.setUint32(t+v,u,r)}class ds extends fs{constructor(t,e,r,o){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Vn(this.buffer)}update(t){on(this);const{view:e,buffer:r,blockLen:o}=this;t=Oi(t);const i=t.length;for(let s=0;s<i;){const u=Math.min(o-this.pos,i-s);if(u===o){const d=Vn(t);for(;o<=i-s;s+=o)this.process(d,s);continue}r.set(t.subarray(s,s+u),this.pos),this.pos+=u,s+=u,this.pos===o&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){on(this),oc(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:o,isLE:i}=this;let{pos:s}=this;e[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(r,0),s=0);for(let A=s;A<o;A++)e[A]=0;ac(r,o-8,BigInt(this.length*8),i),this.process(r,0);const u=Vn(t),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const v=d/4,B=this.get();if(v>B.length)throw new Error("_sha2: outputLen bigger than state");for(let A=0;A<v;A++)u.setUint32(4*A,B[A],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:o,finished:i,destroyed:s,pos:u}=this;return t.length=o,t.pos=u,t.finished=i,t.destroyed=s,o%e&&t.buffer.set(r),t}}const Xr=BigInt(2**32-1),vi=BigInt(32);function ps(n,t=!1){return t?{h:Number(n&Xr),l:Number(n>>vi&Xr)}:{h:Number(n>>vi&Xr)|0,l:Number(n&Xr)|0}}function cc(n,t=!1){let e=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let o=0;o<n.length;o++){const{h:i,l:s}=ps(n[o],t);[e[o],r[o]]=[i,s]}return[e,r]}const uc=(n,t)=>BigInt(n>>>0)<<vi|BigInt(t>>>0),fc=(n,t,e)=>n>>>e,lc=(n,t,e)=>n<<32-e|t>>>e,hc=(n,t,e)=>n>>>e|t<<32-e,dc=(n,t,e)=>n<<32-e|t>>>e,pc=(n,t,e)=>n<<64-e|t>>>e-32,gc=(n,t,e)=>n>>>e-32|t<<64-e,yc=(n,t)=>t,mc=(n,t)=>n,wc=(n,t,e)=>n<<e|t>>>32-e,bc=(n,t,e)=>t<<e|n>>>32-e,vc=(n,t,e)=>t<<e-32|n>>>64-e,xc=(n,t,e)=>n<<e-32|t>>>64-e;function Ec(n,t,e,r){const o=(t>>>0)+(r>>>0);return{h:n+e+(o/2**32|0)|0,l:o|0}}const Sc=(n,t,e)=>(n>>>0)+(t>>>0)+(e>>>0),Bc=(n,t,e,r)=>t+e+r+(n/2**32|0)|0,_c=(n,t,e,r)=>(n>>>0)+(t>>>0)+(e>>>0)+(r>>>0),Ac=(n,t,e,r,o)=>t+e+r+o+(n/2**32|0)|0,Ic=(n,t,e,r,o)=>(n>>>0)+(t>>>0)+(e>>>0)+(r>>>0)+(o>>>0),kc=(n,t,e,r,o,i)=>t+e+r+o+i+(n/2**32|0)|0,Mc={fromBig:ps,split:cc,toBig:uc,shrSH:fc,shrSL:lc,rotrSH:hc,rotrSL:dc,rotrBH:pc,rotrBL:gc,rotr32H:yc,rotr32L:mc,rotlSH:wc,rotlSL:bc,rotlBH:vc,rotlBL:xc,add:Ec,add3L:Sc,add3H:Bc,add4L:_c,add4H:Ac,add5H:kc,add5L:Ic},wt=Mc,[Rc,Lc]=(()=>wt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),Xe=new Uint32Array(80),Qe=new Uint32Array(80);class Tc extends ds{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:r,Bl:o,Ch:i,Cl:s,Dh:u,Dl:d,Eh:v,El:B,Fh:A,Fl:O,Gh:T,Gl:L,Hh:I,Hl:k}=this;return[t,e,r,o,i,s,u,d,v,B,A,O,T,L,I,k]}set(t,e,r,o,i,s,u,d,v,B,A,O,T,L,I,k){this.Ah=t|0,this.Al=e|0,this.Bh=r|0,this.Bl=o|0,this.Ch=i|0,this.Cl=s|0,this.Dh=u|0,this.Dl=d|0,this.Eh=v|0,this.El=B|0,this.Fh=A|0,this.Fl=O|0,this.Gh=T|0,this.Gl=L|0,this.Hh=I|0,this.Hl=k|0}process(t,e){for(let M=0;M<16;M++,e+=4)Xe[M]=t.getUint32(e),Qe[M]=t.getUint32(e+=4);for(let M=16;M<80;M++){const G=Xe[M-15]|0,C=Qe[M-15]|0,z=wt.rotrSH(G,C,1)^wt.rotrSH(G,C,8)^wt.shrSH(G,C,7),K=wt.rotrSL(G,C,1)^wt.rotrSL(G,C,8)^wt.shrSL(G,C,7),W=Xe[M-2]|0,ct=Qe[M-2]|0,st=wt.rotrSH(W,ct,19)^wt.rotrBH(W,ct,61)^wt.shrSH(W,ct,6),Q=wt.rotrSL(W,ct,19)^wt.rotrBL(W,ct,61)^wt.shrSL(W,ct,6),yt=wt.add4L(K,Q,Qe[M-7],Qe[M-16]),_=wt.add4H(yt,z,st,Xe[M-7],Xe[M-16]);Xe[M]=_|0,Qe[M]=yt|0}let{Ah:r,Al:o,Bh:i,Bl:s,Ch:u,Cl:d,Dh:v,Dl:B,Eh:A,El:O,Fh:T,Fl:L,Gh:I,Gl:k,Hh:F,Hl:q}=this;for(let M=0;M<80;M++){const G=wt.rotrSH(A,O,14)^wt.rotrSH(A,O,18)^wt.rotrBH(A,O,41),C=wt.rotrSL(A,O,14)^wt.rotrSL(A,O,18)^wt.rotrBL(A,O,41),z=A&T^~A&I,K=O&L^~O&k,W=wt.add5L(q,C,K,Lc[M],Qe[M]),ct=wt.add5H(W,F,G,z,Rc[M],Xe[M]),st=W|0,Q=wt.rotrSH(r,o,28)^wt.rotrBH(r,o,34)^wt.rotrBH(r,o,39),yt=wt.rotrSL(r,o,28)^wt.rotrBL(r,o,34)^wt.rotrBL(r,o,39),_=r&i^r&u^i&u,a=o&s^o&d^s&d;F=I|0,q=k|0,I=T|0,k=L|0,T=A|0,L=O|0,{h:A,l:O}=wt.add(v|0,B|0,ct|0,st|0),v=u|0,B=d|0,u=i|0,d=s|0,i=r|0,s=o|0;const h=wt.add3L(st,yt,a);r=wt.add3H(h,ct,Q,_),o=h|0}({h:r,l:o}=wt.add(this.Ah|0,this.Al|0,r|0,o|0)),{h:i,l:s}=wt.add(this.Bh|0,this.Bl|0,i|0,s|0),{h:u,l:d}=wt.add(this.Ch|0,this.Cl|0,u|0,d|0),{h:v,l:B}=wt.add(this.Dh|0,this.Dl|0,v|0,B|0),{h:A,l:O}=wt.add(this.Eh|0,this.El|0,A|0,O|0),{h:T,l:L}=wt.add(this.Fh|0,this.Fl|0,T|0,L|0),{h:I,l:k}=wt.add(this.Gh|0,this.Gl|0,I|0,k|0),{h:F,l:q}=wt.add(this.Hh|0,this.Hl|0,F|0,q|0),this.set(r,o,i,s,u,d,v,B,A,O,T,L,I,k,F,q)}roundClean(){Xe.fill(0),Qe.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const gs=ls(()=>new Tc);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ys=BigInt(0),pn=BigInt(1),Cc=BigInt(2),gn=n=>n instanceof Uint8Array,Uc=Array.from({length:256},(n,t)=>t.toString(16).padStart(2,"0"));function pr(n){if(!gn(n))throw new Error("Uint8Array expected");let t="";for(let e=0;e<n.length;e++)t+=Uc[n[e]];return t}function ms(n){const t=n.toString(16);return t.length&1?`0${t}`:t}function Fi(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}function kr(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const t=n.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const e=new Uint8Array(t/2);for(let r=0;r<e.length;r++){const o=r*2,i=n.slice(o,o+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}function hr(n){return Fi(pr(n))}function _r(n){if(!gn(n))throw new Error("Uint8Array expected");return Fi(pr(Uint8Array.from(n).reverse()))}function Mr(n,t){return kr(n.toString(16).padStart(t*2,"0"))}function $r(n,t){return Mr(n,t).reverse()}function Oc(n){return kr(ms(n))}function ue(n,t,e){let r;if(typeof t=="string")try{r=kr(t)}catch(i){throw new Error(`${n} must be valid hex string, got "${t}". Cause: ${i}`)}else if(gn(t))r=Uint8Array.from(t);else throw new Error(`${n} must be hex string or Uint8Array`);const o=r.length;if(typeof e=="number"&&o!==e)throw new Error(`${n} expected ${e} bytes, got ${o}`);return r}function gr(...n){const t=new Uint8Array(n.reduce((r,o)=>r+o.length,0));let e=0;return n.forEach(r=>{if(!gn(r))throw new Error("Uint8Array expected");t.set(r,e),e+=r.length}),t}function Fc(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}function Nc(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function Pc(n){let t;for(t=0;n>ys;n>>=pn,t+=1);return t}function qc(n,t){return n>>BigInt(t)&pn}const Dc=(n,t,e)=>n|(e?pn:ys)<<BigInt(t),Ni=n=>(Cc<<BigInt(n-1))-pn,Zn=n=>new Uint8Array(n),wo=n=>Uint8Array.from(n);function ws(n,t,e){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof e!="function")throw new Error("hmacFn must be a function");let r=Zn(n),o=Zn(n),i=0;const s=()=>{r.fill(1),o.fill(0),i=0},u=(...A)=>e(o,r,...A),d=(A=Zn())=>{o=u(wo([0]),A),r=u(),A.length!==0&&(o=u(wo([1]),A),r=u())},v=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let A=0;const O=[];for(;A<t;){r=u();const T=r.slice();O.push(T),A+=r.length}return gr(...O)};return(A,O)=>{s(),d(A);let T;for(;!(T=O(v()));)d();return s(),T}}const zc={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||n instanceof Uint8Array,isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,t)=>t.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function Ur(n,t,e={}){const r=(o,i,s)=>{const u=zc[i];if(typeof u!="function")throw new Error(`Invalid validator "${i}", expected function`);const d=n[o];if(!(s&&d===void 0)&&!u(d,n))throw new Error(`Invalid param ${String(o)}=${d} (${typeof d}), expected ${i}`)};for(const[o,i]of Object.entries(t))r(o,i,!1);for(const[o,i]of Object.entries(e))r(o,i,!0);return n}const $c=Object.freeze(Object.defineProperty({__proto__:null,bitGet:qc,bitLen:Pc,bitMask:Ni,bitSet:Dc,bytesToHex:pr,bytesToNumberBE:hr,bytesToNumberLE:_r,concatBytes:gr,createHmacDrbg:ws,ensureBytes:ue,equalBytes:Fc,hexToBytes:kr,hexToNumber:Fi,numberToBytesBE:Mr,numberToBytesLE:$r,numberToHexUnpadded:ms,numberToVarBytesBE:Oc,utf8ToBytes:Nc,validateObject:Ur},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fe=BigInt(0),$t=BigInt(1),ar=BigInt(2),Kc=BigInt(3),xi=BigInt(4),bo=BigInt(5),vo=BigInt(8);BigInt(9);BigInt(16);function Dt(n,t){const e=n%t;return e>=fe?e:t+e}function Hc(n,t,e){if(e<=fe||t<fe)throw new Error("Expected power/modulo > 0");if(e===$t)return fe;let r=$t;for(;t>fe;)t&$t&&(r=r*n%e),n=n*n%e,t>>=$t;return r}function Kt(n,t,e){let r=n;for(;t-- >fe;)r*=r,r%=e;return r}function Ei(n,t){if(n===fe||t<=fe)throw new Error(`invert: expected positive integers, got n=${n} mod=${t}`);let e=Dt(n,t),r=t,o=fe,i=$t;for(;e!==fe;){const u=r/e,d=r%e,v=o-i*u;r=e,e=d,o=i,i=v}if(r!==$t)throw new Error("invert: does not exist");return Dt(o,t)}function Wc(n){const t=(n-$t)/ar;let e,r,o;for(e=n-$t,r=0;e%ar===fe;e/=ar,r++);for(o=ar;o<n&&Hc(o,t,n)!==n-$t;o++);if(r===1){const s=(n+$t)/xi;return function(d,v){const B=d.pow(v,s);if(!d.eql(d.sqr(B),v))throw new Error("Cannot find square root");return B}}const i=(e+$t)/ar;return function(u,d){if(u.pow(d,t)===u.neg(u.ONE))throw new Error("Cannot find square root");let v=r,B=u.pow(u.mul(u.ONE,o),e),A=u.pow(d,i),O=u.pow(d,e);for(;!u.eql(O,u.ONE);){if(u.eql(O,u.ZERO))return u.ZERO;let T=1;for(let I=u.sqr(O);T<v&&!u.eql(I,u.ONE);T++)I=u.sqr(I);const L=u.pow(B,$t<<BigInt(v-T-1));B=u.sqr(L),A=u.mul(A,L),O=u.mul(O,B),v=T}return A}}function jc(n){if(n%xi===Kc){const t=(n+$t)/xi;return function(r,o){const i=r.pow(o,t);if(!r.eql(r.sqr(i),o))throw new Error("Cannot find square root");return i}}if(n%vo===bo){const t=(n-bo)/vo;return function(r,o){const i=r.mul(o,ar),s=r.pow(i,t),u=r.mul(o,s),d=r.mul(r.mul(u,ar),s),v=r.mul(u,r.sub(d,r.ONE));if(!r.eql(r.sqr(v),o))throw new Error("Cannot find square root");return v}}return Wc(n)}const Gc=(n,t)=>(Dt(n,t)&$t)===$t,Vc=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Zc(n){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},e=Vc.reduce((r,o)=>(r[o]="function",r),t);return Ur(n,e)}function Yc(n,t,e){if(e<fe)throw new Error("Expected power > 0");if(e===fe)return n.ONE;if(e===$t)return t;let r=n.ONE,o=t;for(;e>fe;)e&$t&&(r=n.mul(r,o)),o=n.sqr(o),e>>=$t;return r}function Jc(n,t){const e=new Array(t.length),r=t.reduce((i,s,u)=>n.is0(s)?i:(e[u]=i,n.mul(i,s)),n.ONE),o=n.inv(r);return t.reduceRight((i,s,u)=>n.is0(s)?i:(e[u]=n.mul(i,e[u]),n.mul(i,s)),o),e}function bs(n,t){const e=t!==void 0?t:n.toString(2).length,r=Math.ceil(e/8);return{nBitLength:e,nByteLength:r}}function vs(n,t,e=!1,r={}){if(n<=fe)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:o,nByteLength:i}=bs(n,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=jc(n),u=Object.freeze({ORDER:n,BITS:o,BYTES:i,MASK:Ni(o),ZERO:fe,ONE:$t,create:d=>Dt(d,n),isValid:d=>{if(typeof d!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof d}`);return fe<=d&&d<n},is0:d=>d===fe,isOdd:d=>(d&$t)===$t,neg:d=>Dt(-d,n),eql:(d,v)=>d===v,sqr:d=>Dt(d*d,n),add:(d,v)=>Dt(d+v,n),sub:(d,v)=>Dt(d-v,n),mul:(d,v)=>Dt(d*v,n),pow:(d,v)=>Yc(u,d,v),div:(d,v)=>Dt(d*Ei(v,n),n),sqrN:d=>d*d,addN:(d,v)=>d+v,subN:(d,v)=>d-v,mulN:(d,v)=>d*v,inv:d=>Ei(d,n),sqrt:r.sqrt||(d=>s(u,d)),invertBatch:d=>Jc(u,d),cmov:(d,v,B)=>B?v:d,toBytes:d=>e?$r(d,i):Mr(d,i),fromBytes:d=>{if(d.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${d.length}`);return e?_r(d):hr(d)}});return Object.freeze(u)}function Xc(n,t){if(!n.isOdd)throw new Error("Field doesn't have isOdd");const e=n.sqrt(t);return n.isOdd(e)?n.neg(e):e}function xs(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const t=n.toString(2).length;return Math.ceil(t/8)}function Es(n){const t=xs(n);return t+Math.ceil(t/2)}function Qc(n,t,e=!1){const r=n.length,o=xs(t),i=Es(t);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const s=e?hr(n):_r(n),u=Dt(s,t-$t)+$t;return e?$r(u,o):Mr(u,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tu=BigInt(0),Yn=BigInt(1);function Ss(n,t){const e=(o,i)=>{const s=i.negate();return o?s:i},r=o=>{const i=Math.ceil(t/o)+1,s=2**(o-1);return{windows:i,windowSize:s}};return{constTimeNegate:e,unsafeLadder(o,i){let s=n.ZERO,u=o;for(;i>tu;)i&Yn&&(s=s.add(u)),u=u.double(),i>>=Yn;return s},precomputeWindow(o,i){const{windows:s,windowSize:u}=r(i),d=[];let v=o,B=v;for(let A=0;A<s;A++){B=v,d.push(B);for(let O=1;O<u;O++)B=B.add(v),d.push(B);v=B.double()}return d},wNAF(o,i,s){const{windows:u,windowSize:d}=r(o);let v=n.ZERO,B=n.BASE;const A=BigInt(2**o-1),O=2**o,T=BigInt(o);for(let L=0;L<u;L++){const I=L*d;let k=Number(s&A);s>>=T,k>d&&(k-=O,s+=Yn);const F=I,q=I+Math.abs(k)-1,M=L%2!==0,G=k<0;k===0?B=B.add(e(M,i[F])):v=v.add(e(G,i[q]))}return{p:v,f:B}},wNAFCached(o,i,s,u){const d=o._WINDOW_SIZE||1;let v=i.get(o);return v||(v=this.precomputeWindow(o,d),d!==1&&i.set(o,u(v))),this.wNAF(d,v,s)}}}function Pi(n){return Zc(n.Fp),Ur(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...bs(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fe=BigInt(0),Ae=BigInt(1),Qr=BigInt(2),eu=BigInt(8),ru={zip215:!0};function nu(n){const t=Pi(n);return Ur(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function qi(n){const t=nu(n),{Fp:e,n:r,prehash:o,hash:i,randomBytes:s,nByteLength:u,h:d}=t,v=Qr<<BigInt(u*8)-Ae,B=e.create,A=t.uvRatio||((x,m)=>{try{return{isValid:!0,value:e.sqrt(x*e.inv(m))}}catch{return{isValid:!1,value:Fe}}}),O=t.adjustScalarBytes||(x=>x),T=t.domain||((x,m,b)=>{if(m.length||b)throw new Error("Contexts/pre-hash are not supported");return x}),L=x=>typeof x=="bigint"&&Fe<x,I=(x,m)=>L(x)&&L(m)&&x<m,k=x=>x===Fe||I(x,v);function F(x,m){if(I(x,m))return x;throw new Error(`Expected valid scalar < ${m}, got ${typeof x} ${x}`)}function q(x){return x===Fe?x:F(x,r)}const M=new Map;function G(x){if(!(x instanceof C))throw new Error("ExtendedPoint expected")}class C{constructor(m,b,p,c){if(this.ex=m,this.ey=b,this.ez=p,this.et=c,!k(m))throw new Error("x required");if(!k(b))throw new Error("y required");if(!k(p))throw new Error("z required");if(!k(c))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(m){if(m instanceof C)throw new Error("extended point not allowed");const{x:b,y:p}=m||{};if(!k(b)||!k(p))throw new Error("invalid affine point");return new C(b,p,Ae,B(b*p))}static normalizeZ(m){const b=e.invertBatch(m.map(p=>p.ez));return m.map((p,c)=>p.toAffine(b[c])).map(C.fromAffine)}_setWindowSize(m){this._WINDOW_SIZE=m,M.delete(this)}assertValidity(){const{a:m,d:b}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:p,ey:c,ez:w,et:$}=this,H=B(p*p),V=B(c*c),tt=B(w*w),et=B(tt*tt),it=B(H*m),Bt=B(tt*B(it+V)),mt=B(et+B(b*B(H*V)));if(Bt!==mt)throw new Error("bad point: equation left != right (1)");const dt=B(p*c),Lt=B(w*$);if(dt!==Lt)throw new Error("bad point: equation left != right (2)")}equals(m){G(m);const{ex:b,ey:p,ez:c}=this,{ex:w,ey:$,ez:H}=m,V=B(b*H),tt=B(w*c),et=B(p*H),it=B($*c);return V===tt&&et===it}is0(){return this.equals(C.ZERO)}negate(){return new C(B(-this.ex),this.ey,this.ez,B(-this.et))}double(){const{a:m}=t,{ex:b,ey:p,ez:c}=this,w=B(b*b),$=B(p*p),H=B(Qr*B(c*c)),V=B(m*w),tt=b+p,et=B(B(tt*tt)-w-$),it=V+$,Bt=it-H,mt=V-$,dt=B(et*Bt),Lt=B(it*mt),xt=B(et*mt),At=B(Bt*it);return new C(dt,Lt,At,xt)}add(m){G(m);const{a:b,d:p}=t,{ex:c,ey:w,ez:$,et:H}=this,{ex:V,ey:tt,ez:et,et:it}=m;if(b===BigInt(-1)){const ge=B((w-c)*(tt+V)),Rt=B((w+c)*(tt-V)),Tt=B(Rt-ge);if(Tt===Fe)return this.double();const Se=B($*Qr*it),Ut=B(H*Qr*et),g=Ut+Se,f=Rt+ge,l=Ut-Se,E=B(g*Tt),R=B(f*l),U=B(g*l),D=B(Tt*f);return new C(E,R,D,U)}const Bt=B(c*V),mt=B(w*tt),dt=B(H*p*it),Lt=B($*et),xt=B((c+w)*(V+tt)-Bt-mt),At=Lt-dt,De=Lt+dt,kt=B(mt-b*Bt),Nt=B(xt*At),vr=B(De*kt),Ct=B(xt*kt),Mt=B(At*De);return new C(Nt,vr,Mt,Ct)}subtract(m){return this.add(m.negate())}wNAF(m){return W.wNAFCached(this,M,m,C.normalizeZ)}multiply(m){const{p:b,f:p}=this.wNAF(F(m,r));return C.normalizeZ([b,p])[0]}multiplyUnsafe(m){let b=q(m);return b===Fe?K:this.equals(K)||b===Ae?this:this.equals(z)?this.wNAF(b).p:W.unsafeLadder(this,b)}isSmallOrder(){return this.multiplyUnsafe(d).is0()}isTorsionFree(){return W.unsafeLadder(this,r).is0()}toAffine(m){const{ex:b,ey:p,ez:c}=this,w=this.is0();m==null&&(m=w?eu:e.inv(c));const $=B(b*m),H=B(p*m),V=B(c*m);if(w)return{x:Fe,y:Ae};if(V!==Ae)throw new Error("invZ was invalid");return{x:$,y:H}}clearCofactor(){const{h:m}=t;return m===Ae?this:this.multiplyUnsafe(m)}static fromHex(m,b=!1){const{d:p,a:c}=t,w=e.BYTES;m=ue("pointHex",m,w);const $=m.slice(),H=m[w-1];$[w-1]=H&-129;const V=_r($);V===Fe||(b?F(V,v):F(V,e.ORDER));const tt=B(V*V),et=B(tt-Ae),it=B(p*tt-c);let{isValid:Bt,value:mt}=A(et,it);if(!Bt)throw new Error("Point.fromHex: invalid y coordinate");const dt=(mt&Ae)===Ae,Lt=(H&128)!==0;if(!b&&mt===Fe&&Lt)throw new Error("Point.fromHex: x=0 and x_0=1");return Lt!==dt&&(mt=B(-mt)),C.fromAffine({x:mt,y:V})}static fromPrivateKey(m){return Q(m).point}toRawBytes(){const{x:m,y:b}=this.toAffine(),p=$r(b,e.BYTES);return p[p.length-1]|=m&Ae?128:0,p}toHex(){return pr(this.toRawBytes())}}C.BASE=new C(t.Gx,t.Gy,Ae,B(t.Gx*t.Gy)),C.ZERO=new C(Fe,Ae,Ae,Fe);const{BASE:z,ZERO:K}=C,W=Ss(C,u*8);function ct(x){return Dt(x,r)}function st(x){return ct(_r(x))}function Q(x){const m=u;x=ue("private key",x,m);const b=ue("hashed private key",i(x),2*m),p=O(b.slice(0,m)),c=b.slice(m,2*m),w=st(p),$=z.multiply(w),H=$.toRawBytes();return{head:p,prefix:c,scalar:w,point:$,pointBytes:H}}function yt(x){return Q(x).pointBytes}function _(x=new Uint8Array,...m){const b=gr(...m);return st(i(T(b,ue("context",x),!!o)))}function a(x,m,b={}){x=ue("message",x),o&&(x=o(x));const{prefix:p,scalar:c,pointBytes:w}=Q(m),$=_(b.context,p,x),H=z.multiply($).toRawBytes(),V=_(b.context,H,w,x),tt=ct($+V*c);q(tt);const et=gr(H,$r(tt,e.BYTES));return ue("result",et,u*2)}const h=ru;function y(x,m,b,p=h){const{context:c,zip215:w}=p,$=e.BYTES;x=ue("signature",x,2*$),m=ue("message",m),o&&(m=o(m));const H=_r(x.slice($,2*$));let V,tt,et;try{V=C.fromHex(b,w),tt=C.fromHex(x.slice(0,$),w),et=z.multiplyUnsafe(H)}catch{return!1}if(!w&&V.isSmallOrder())return!1;const it=_(c,tt.toRawBytes(),V.toRawBytes(),m);return tt.add(V.multiplyUnsafe(it)).subtract(et).clearCofactor().equals(C.ZERO)}return z._setWindowSize(8),{CURVE:t,getPublicKey:yt,sign:a,verify:y,ExtendedPoint:C,utils:{getExtendedPublicKey:Q,randomPrivateKey:()=>s(e.BYTES),precompute(x=8,m=C.BASE){return m._setWindowSize(x),m.multiply(BigInt(3)),m}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Di=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),xo=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const iu=BigInt(1),Si=BigInt(2),ou=BigInt(5),Eo=BigInt(10),su=BigInt(20),au=BigInt(40),So=BigInt(80);function cu(n){const t=Di,r=n*n%t*n%t,o=Kt(r,Si,t)*r%t,i=Kt(o,iu,t)*n%t,s=Kt(i,ou,t)*i%t,u=Kt(s,Eo,t)*s%t,d=Kt(u,su,t)*u%t,v=Kt(d,au,t)*d%t,B=Kt(v,So,t)*v%t,A=Kt(B,So,t)*v%t,O=Kt(A,Eo,t)*s%t;return{pow_p_5_8:Kt(O,Si,t)*n%t,b2:r}}function uu(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function fu(n,t){const e=Di,r=Dt(t*t*t,e),o=Dt(r*r*t,e),i=cu(n*o).pow_p_5_8;let s=Dt(n*r*i,e);const u=Dt(t*s*s,e),d=s,v=Dt(s*xo,e),B=u===n,A=u===Dt(-n,e),O=u===Dt(-n*xo,e);return B&&(s=d),(A||O)&&(s=v),Gc(s,e)&&(s=Dt(-s,e)),{isValid:B||A,value:s}}const Ye=vs(Di,void 0,!0),zi={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Ye,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:gs,randomBytes:hs,adjustScalarBytes:uu,uvRatio:fu},yn=qi(zi);function Bs(n,t,e){if(t.length>255)throw new Error("Context is too big");return us(cs("SigEd25519 no Ed25519 collisions"),new Uint8Array([e?1:0,t.length]),t,n)}({...zi});({...zi});const lu=(Ye.ORDER+BigInt(3))/BigInt(8);Ye.pow(Si,lu);Ye.sqrt(Ye.neg(Ye.ONE));(Ye.ORDER-BigInt(5))/BigInt(8);BigInt(486662);Xc(Ye,Ye.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var $i={exports:{}};const hu={},du=Object.freeze(Object.defineProperty({__proto__:null,default:hu},Symbol.toStringTag,{value:"Module"})),pu=Ti(du);$i.exports;(function(n){(function(t,e){function r(_,a){if(!_)throw new Error(a||"Assertion failed")}function o(_,a){_.super_=a;var h=function(){};h.prototype=a.prototype,_.prototype=new h,_.prototype.constructor=_}function i(_,a,h){if(i.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((a==="le"||a==="be")&&(h=a,a=10),this._init(_||0,a||10,h||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=pu.Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,h){return a.cmp(h)>0?a:h},i.min=function(a,h){return a.cmp(h)<0?a:h},i.prototype._init=function(a,h,y){if(typeof a=="number")return this._initNumber(a,h,y);if(typeof a=="object")return this._initArray(a,h,y);h==="hex"&&(h=16),r(h===(h|0)&&h>=2&&h<=36),a=a.toString().replace(/\s+/g,"");var S=0;a[0]==="-"&&(S++,this.negative=1),S<a.length&&(h===16?this._parseHex(a,S,y):(this._parseBase(a,h,S),y==="le"&&this._initArray(this.toArray(),h,y)))},i.prototype._initNumber=function(a,h,y){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),h,y)},i.prototype._initArray=function(a,h,y){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var x,m,b=0;if(y==="be")for(S=a.length-1,x=0;S>=0;S-=3)m=a[S]|a[S-1]<<8|a[S-2]<<16,this.words[x]|=m<<b&67108863,this.words[x+1]=m>>>26-b&67108863,b+=24,b>=26&&(b-=26,x++);else if(y==="le")for(S=0,x=0;S<a.length;S+=3)m=a[S]|a[S+1]<<8|a[S+2]<<16,this.words[x]|=m<<b&67108863,this.words[x+1]=m>>>26-b&67108863,b+=24,b>=26&&(b-=26,x++);return this._strip()};function u(_,a){var h=_.charCodeAt(a);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;r(!1,"Invalid character in "+_)}function d(_,a,h){var y=u(_,h);return h-1>=a&&(y|=u(_,h-1)<<4),y}i.prototype._parseHex=function(a,h,y){this.length=Math.ceil((a.length-h)/6),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var x=0,m=0,b;if(y==="be")for(S=a.length-1;S>=h;S-=2)b=d(a,h,S)<<x,this.words[m]|=b&67108863,x>=18?(x-=18,m+=1,this.words[m]|=b>>>26):x+=8;else{var p=a.length-h;for(S=p%2===0?h+1:h;S<a.length;S+=2)b=d(a,h,S)<<x,this.words[m]|=b&67108863,x>=18?(x-=18,m+=1,this.words[m]|=b>>>26):x+=8}this._strip()};function v(_,a,h,y){for(var S=0,x=0,m=Math.min(_.length,h),b=a;b<m;b++){var p=_.charCodeAt(b)-48;S*=y,p>=49?x=p-49+10:p>=17?x=p-17+10:x=p,r(p>=0&&x<y,"Invalid character"),S+=x}return S}i.prototype._parseBase=function(a,h,y){this.words=[0],this.length=1;for(var S=0,x=1;x<=67108863;x*=h)S++;S--,x=x/h|0;for(var m=a.length-y,b=m%S,p=Math.min(m,m-b)+y,c=0,w=y;w<p;w+=S)c=v(a,w,w+S,h),this.imuln(x),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(b!==0){var $=1;for(c=v(a,w,a.length,h),w=0;w<b;w++)$*=h;this.imuln($),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var h=0;h<this.length;h++)a.words[h]=this.words[h];a.length=this.length,a.negative=this.negative,a.red=this.red};function B(_,a){_.words=a.words,_.length=a.length,_.negative=a.negative,_.red=a.red}if(i.prototype._move=function(a){B(a,this)},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=A}catch{i.prototype.inspect=A}else i.prototype.inspect=A;function A(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var O=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],L=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,h){a=a||10,h=h|0||1;var y;if(a===16||a==="hex"){y="";for(var S=0,x=0,m=0;m<this.length;m++){var b=this.words[m],p=((b<<S|x)&16777215).toString(16);x=b>>>24-S&16777215,S+=2,S>=26&&(S-=26,m--),x!==0||m!==this.length-1?y=O[6-p.length]+p+y:y=p+y}for(x!==0&&(y=x.toString(16)+y);y.length%h!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(a===(a|0)&&a>=2&&a<=36){var c=T[a],w=L[a];y="";var $=this.clone();for($.negative=0;!$.isZero();){var H=$.modrn(w).toString(a);$=$.idivn(w),$.isZero()?y=H+y:y=O[c-H.length]+H+y}for(this.isZero()&&(y="0"+y);y.length%h!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(a,h){return this.toArrayLike(s,a,h)}),i.prototype.toArray=function(a,h){return this.toArrayLike(Array,a,h)};var I=function(a,h){return a.allocUnsafe?a.allocUnsafe(h):new a(h)};i.prototype.toArrayLike=function(a,h,y){this._strip();var S=this.byteLength(),x=y||Math.max(1,S);r(S<=x,"byte array longer than desired length"),r(x>0,"Requested array length <= 0");var m=I(a,x),b=h==="le"?"LE":"BE";return this["_toArrayLike"+b](m,S),m},i.prototype._toArrayLikeLE=function(a,h){for(var y=0,S=0,x=0,m=0;x<this.length;x++){var b=this.words[x]<<m|S;a[y++]=b&255,y<a.length&&(a[y++]=b>>8&255),y<a.length&&(a[y++]=b>>16&255),m===6?(y<a.length&&(a[y++]=b>>24&255),S=0,m=0):(S=b>>>24,m+=2)}if(y<a.length)for(a[y++]=S;y<a.length;)a[y++]=0},i.prototype._toArrayLikeBE=function(a,h){for(var y=a.length-1,S=0,x=0,m=0;x<this.length;x++){var b=this.words[x]<<m|S;a[y--]=b&255,y>=0&&(a[y--]=b>>8&255),y>=0&&(a[y--]=b>>16&255),m===6?(y>=0&&(a[y--]=b>>24&255),S=0,m=0):(S=b>>>24,m+=2)}if(y>=0)for(a[y--]=S;y>=0;)a[y--]=0},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var h=a,y=0;return h>=4096&&(y+=13,h>>>=13),h>=64&&(y+=7,h>>>=7),h>=8&&(y+=4,h>>>=4),h>=2&&(y+=2,h>>>=2),y+h},i.prototype._zeroBits=function(a){if(a===0)return 26;var h=a,y=0;return h&8191||(y+=13,h>>>=13),h&127||(y+=7,h>>>=7),h&15||(y+=4,h>>>=4),h&3||(y+=2,h>>>=2),h&1||y++,y},i.prototype.bitLength=function(){var a=this.words[this.length-1],h=this._countBits(a);return(this.length-1)*26+h};function k(_){for(var a=new Array(_.bitLength()),h=0;h<a.length;h++){var y=h/26|0,S=h%26;a[h]=_.words[y]>>>S&1}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,h=0;h<this.length;h++){var y=this._zeroBits(this.words[h]);if(a+=y,y!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var h=0;h<a.length;h++)this.words[h]=this.words[h]|a.words[h];return this._strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var h;this.length>a.length?h=a:h=this;for(var y=0;y<h.length;y++)this.words[y]=this.words[y]&a.words[y];return this.length=h.length,this._strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var h,y;this.length>a.length?(h=this,y=a):(h=a,y=this);for(var S=0;S<y.length;S++)this.words[S]=h.words[S]^y.words[S];if(this!==h)for(;S<h.length;S++)this.words[S]=h.words[S];return this.length=h.length,this._strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var h=Math.ceil(a/26)|0,y=a%26;this._expand(h),y>0&&h--;for(var S=0;S<h;S++)this.words[S]=~this.words[S]&67108863;return y>0&&(this.words[S]=~this.words[S]&67108863>>26-y),this._strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,h){r(typeof a=="number"&&a>=0);var y=a/26|0,S=a%26;return this._expand(y+1),h?this.words[y]=this.words[y]|1<<S:this.words[y]=this.words[y]&~(1<<S),this._strip()},i.prototype.iadd=function(a){var h;if(this.negative!==0&&a.negative===0)return this.negative=0,h=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,h=this.isub(a),a.negative=1,h._normSign();var y,S;this.length>a.length?(y=this,S=a):(y=a,S=this);for(var x=0,m=0;m<S.length;m++)h=(y.words[m]|0)+(S.words[m]|0)+x,this.words[m]=h&67108863,x=h>>>26;for(;x!==0&&m<y.length;m++)h=(y.words[m]|0)+x,this.words[m]=h&67108863,x=h>>>26;if(this.length=y.length,x!==0)this.words[this.length]=x,this.length++;else if(y!==this)for(;m<y.length;m++)this.words[m]=y.words[m];return this},i.prototype.add=function(a){var h;return a.negative!==0&&this.negative===0?(a.negative=0,h=this.sub(a),a.negative^=1,h):a.negative===0&&this.negative!==0?(this.negative=0,h=a.sub(this),this.negative=1,h):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var h=this.iadd(a);return a.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var y=this.cmp(a);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var S,x;y>0?(S=this,x=a):(S=a,x=this);for(var m=0,b=0;b<x.length;b++)h=(S.words[b]|0)-(x.words[b]|0)+m,m=h>>26,this.words[b]=h&67108863;for(;m!==0&&b<S.length;b++)h=(S.words[b]|0)+m,m=h>>26,this.words[b]=h&67108863;if(m===0&&b<S.length&&S!==this)for(;b<S.length;b++)this.words[b]=S.words[b];return this.length=Math.max(this.length,b),S!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function F(_,a,h){h.negative=a.negative^_.negative;var y=_.length+a.length|0;h.length=y,y=y-1|0;var S=_.words[0]|0,x=a.words[0]|0,m=S*x,b=m&67108863,p=m/67108864|0;h.words[0]=b;for(var c=1;c<y;c++){for(var w=p>>>26,$=p&67108863,H=Math.min(c,a.length-1),V=Math.max(0,c-_.length+1);V<=H;V++){var tt=c-V|0;S=_.words[tt]|0,x=a.words[V]|0,m=S*x+$,w+=m/67108864|0,$=m&67108863}h.words[c]=$|0,p=w|0}return p!==0?h.words[c]=p|0:h.length--,h._strip()}var q=function(a,h,y){var S=a.words,x=h.words,m=y.words,b=0,p,c,w,$=S[0]|0,H=$&8191,V=$>>>13,tt=S[1]|0,et=tt&8191,it=tt>>>13,Bt=S[2]|0,mt=Bt&8191,dt=Bt>>>13,Lt=S[3]|0,xt=Lt&8191,At=Lt>>>13,De=S[4]|0,kt=De&8191,Nt=De>>>13,vr=S[5]|0,Ct=vr&8191,Mt=vr>>>13,ge=S[6]|0,Rt=ge&8191,Tt=ge>>>13,Se=S[7]|0,Ut=Se&8191,g=Se>>>13,f=S[8]|0,l=f&8191,E=f>>>13,R=S[9]|0,U=R&8191,D=R>>>13,gt=x[0]|0,pt=gt&8191,ht=gt>>>13,Ot=x[1]|0,ft=Ot&8191,Wt=Ot>>>13,ao=x[2]|0,jt=ao&8191,Gt=ao>>>13,co=x[3]|0,Vt=co&8191,Zt=co>>>13,uo=x[4]|0,Yt=uo&8191,Jt=uo>>>13,fo=x[5]|0,Xt=fo&8191,Qt=fo>>>13,lo=x[6]|0,te=lo&8191,ee=lo>>>13,ho=x[7]|0,re=ho&8191,ne=ho>>>13,po=x[8]|0,ie=po&8191,oe=po>>>13,go=x[9]|0,se=go&8191,ae=go>>>13;y.negative=a.negative^h.negative,y.length=19,p=Math.imul(H,pt),c=Math.imul(H,ht),c=c+Math.imul(V,pt)|0,w=Math.imul(V,ht);var An=(b+p|0)+((c&8191)<<13)|0;b=(w+(c>>>13)|0)+(An>>>26)|0,An&=67108863,p=Math.imul(et,pt),c=Math.imul(et,ht),c=c+Math.imul(it,pt)|0,w=Math.imul(it,ht),p=p+Math.imul(H,ft)|0,c=c+Math.imul(H,Wt)|0,c=c+Math.imul(V,ft)|0,w=w+Math.imul(V,Wt)|0;var In=(b+p|0)+((c&8191)<<13)|0;b=(w+(c>>>13)|0)+(In>>>26)|0,In&=67108863,p=Math.imul(mt,pt),c=Math.imul(mt,ht),c=c+Math.imul(dt,pt)|0,w=Math.imul(dt,ht),p=p+Math.imul(et,ft)|0,c=c+Math.imul(et,Wt)|0,c=c+Math.imul(it,ft)|0,w=w+Math.imul(it,Wt)|0,p=p+Math.imul(H,jt)|0,c=c+Math.imul(H,Gt)|0,c=c+Math.imul(V,jt)|0,w=w+Math.imul(V,Gt)|0;var kn=(b+p|0)+((c&8191)<<13)|0;b=(w+(c>>>13)|0)+(kn>>>26)|0,kn&=67108863,p=Math.imul(xt,pt),c=Math.imul(xt,ht),c=c+Math.imul(At,pt)|0,w=Math.imul(At,ht),p=p+Math.imul(mt,ft)|0,c=c+Math.imul(mt,Wt)|0,c=c+Math.imul(dt,ft)|0,w=w+Math.imul(dt,Wt)|0,p=p+Math.imul(et,jt)|0,c=c+Math.imul(et,Gt)|0,c=c+Math.imul(it,jt)|0,w=w+Math.imul(it,Gt)|0,p=p+Math.imul(H,Vt)|0,c=c+Math.imul(H,Zt)|0,c=c+Math.imul(V,Vt)|0,w=w+Math.imul(V,Zt)|0;var Mn=(b+p|0)+((c&8191)<<13)|0;b=(w+(c>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,p=Math.imul(kt,pt),c=Math.imul(kt,ht),c=c+Math.imul(Nt,pt)|0,w=Math.imul(Nt,ht),p=p+Math.imul(xt,ft)|0,c=c+Math.imul(xt,Wt)|0,c=c+Math.imul(At,ft)|0,w=w+Math.imul(At,Wt)|0,p=p+Math.imul(mt,jt)|0,c=c+Math.imul(mt,Gt)|0,c=c+Math.imul(dt,jt)|0,w=w+Math.imul(dt,Gt)|0,p=p+Math.imul(et,Vt)|0,c=c+Math.imul(et,Zt)|0,c=c+Math.imul(it,Vt)|0,w=w+Math.imul(it,Zt)|0,p=p+Math.imul(H,Yt)|0,c=c+Math.imul(H,Jt)|0,c=c+Math.imul(V,Yt)|0,w=w+Math.imul(V,Jt)|0;var Rn=(b+p|0)+((c&8191)<<13)|0;b=(w+(c>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,p=Math.imul(Ct,pt),c=Math.imul(Ct,ht),c=c+Math.imul(Mt,pt)|0,w=Math.imul(Mt,ht),p=p+Math.imul(kt,ft)|0,c=c+Math.imul(kt,Wt)|0,c=c+Math.imul(Nt,ft)|0,w=w+Math.imul(Nt,Wt)|0,p=p+Math.imul(xt,jt)|0,c=c+Math.imul(xt,Gt)|0,c=c+Math.imul(At,jt)|0,w=w+Math.imul(At,Gt)|0,p=p+Math.imul(mt,Vt)|0,c=c+Math.imul(mt,Zt)|0,c=c+Math.imul(dt,Vt)|0,w=w+Math.imul(dt,Zt)|0,p=p+Math.imul(et,Yt)|0,c=c+Math.imul(et,Jt)|0,c=c+Math.imul(it,Yt)|0,w=w+Math.imul(it,Jt)|0,p=p+Math.imul(H,Xt)|0,c=c+Math.imul(H,Qt)|0,c=c+Math.imul(V,Xt)|0,w=w+Math.imul(V,Qt)|0;var Ln=(b+p|0)+((c&8191)<<13)|0;b=(w+(c>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,p=Math.imul(Rt,pt),c=Math.imul(Rt,ht),c=c+Math.imul(Tt,pt)|0,w=Math.imul(Tt,ht),p=p+Math.imul(Ct,ft)|0,c=c+Math.imul(Ct,Wt)|0,c=c+Math.imul(Mt,ft)|0,w=w+Math.imul(Mt,Wt)|0,p=p+Math.imul(kt,jt)|0,c=c+Math.imul(kt,Gt)|0,c=c+Math.imul(Nt,jt)|0,w=w+Math.imul(Nt,Gt)|0,p=p+Math.imul(xt,Vt)|0,c=c+Math.imul(xt,Zt)|0,c=c+Math.imul(At,Vt)|0,w=w+Math.imul(At,Zt)|0,p=p+Math.imul(mt,Yt)|0,c=c+Math.imul(mt,Jt)|0,c=c+Math.imul(dt,Yt)|0,w=w+Math.imul(dt,Jt)|0,p=p+Math.imul(et,Xt)|0,c=c+Math.imul(et,Qt)|0,c=c+Math.imul(it,Xt)|0,w=w+Math.imul(it,Qt)|0,p=p+Math.imul(H,te)|0,c=c+Math.imul(H,ee)|0,c=c+Math.imul(V,te)|0,w=w+Math.imul(V,ee)|0;var Tn=(b+p|0)+((c&8191)<<13)|0;b=(w+(c>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,p=Math.imul(Ut,pt),c=Math.imul(Ut,ht),c=c+Math.imul(g,pt)|0,w=Math.imul(g,ht),p=p+Math.imul(Rt,ft)|0,c=c+Math.imul(Rt,Wt)|0,c=c+Math.imul(Tt,ft)|0,w=w+Math.imul(Tt,Wt)|0,p=p+Math.imul(Ct,jt)|0,c=c+Math.imul(Ct,Gt)|0,c=c+Math.imul(Mt,jt)|0,w=w+Math.imul(Mt,Gt)|0,p=p+Math.imul(kt,Vt)|0,c=c+Math.imul(kt,Zt)|0,c=c+Math.imul(Nt,Vt)|0,w=w+Math.imul(Nt,Zt)|0,p=p+Math.imul(xt,Yt)|0,c=c+Math.imul(xt,Jt)|0,c=c+Math.imul(At,Yt)|0,w=w+Math.imul(At,Jt)|0,p=p+Math.imul(mt,Xt)|0,c=c+Math.imul(mt,Qt)|0,c=c+Math.imul(dt,Xt)|0,w=w+Math.imul(dt,Qt)|0,p=p+Math.imul(et,te)|0,c=c+Math.imul(et,ee)|0,c=c+Math.imul(it,te)|0,w=w+Math.imul(it,ee)|0,p=p+Math.imul(H,re)|0,c=c+Math.imul(H,ne)|0,c=c+Math.imul(V,re)|0,w=w+Math.imul(V,ne)|0;var Cn=(b+p|0)+((c&8191)<<13)|0;b=(w+(c>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,p=Math.imul(l,pt),c=Math.imul(l,ht),c=c+Math.imul(E,pt)|0,w=Math.imul(E,ht),p=p+Math.imul(Ut,ft)|0,c=c+Math.imul(Ut,Wt)|0,c=c+Math.imul(g,ft)|0,w=w+Math.imul(g,Wt)|0,p=p+Math.imul(Rt,jt)|0,c=c+Math.imul(Rt,Gt)|0,c=c+Math.imul(Tt,jt)|0,w=w+Math.imul(Tt,Gt)|0,p=p+Math.imul(Ct,Vt)|0,c=c+Math.imul(Ct,Zt)|0,c=c+Math.imul(Mt,Vt)|0,w=w+Math.imul(Mt,Zt)|0,p=p+Math.imul(kt,Yt)|0,c=c+Math.imul(kt,Jt)|0,c=c+Math.imul(Nt,Yt)|0,w=w+Math.imul(Nt,Jt)|0,p=p+Math.imul(xt,Xt)|0,c=c+Math.imul(xt,Qt)|0,c=c+Math.imul(At,Xt)|0,w=w+Math.imul(At,Qt)|0,p=p+Math.imul(mt,te)|0,c=c+Math.imul(mt,ee)|0,c=c+Math.imul(dt,te)|0,w=w+Math.imul(dt,ee)|0,p=p+Math.imul(et,re)|0,c=c+Math.imul(et,ne)|0,c=c+Math.imul(it,re)|0,w=w+Math.imul(it,ne)|0,p=p+Math.imul(H,ie)|0,c=c+Math.imul(H,oe)|0,c=c+Math.imul(V,ie)|0,w=w+Math.imul(V,oe)|0;var Un=(b+p|0)+((c&8191)<<13)|0;b=(w+(c>>>13)|0)+(Un>>>26)|0,Un&=67108863,p=Math.imul(U,pt),c=Math.imul(U,ht),c=c+Math.imul(D,pt)|0,w=Math.imul(D,ht),p=p+Math.imul(l,ft)|0,c=c+Math.imul(l,Wt)|0,c=c+Math.imul(E,ft)|0,w=w+Math.imul(E,Wt)|0,p=p+Math.imul(Ut,jt)|0,c=c+Math.imul(Ut,Gt)|0,c=c+Math.imul(g,jt)|0,w=w+Math.imul(g,Gt)|0,p=p+Math.imul(Rt,Vt)|0,c=c+Math.imul(Rt,Zt)|0,c=c+Math.imul(Tt,Vt)|0,w=w+Math.imul(Tt,Zt)|0,p=p+Math.imul(Ct,Yt)|0,c=c+Math.imul(Ct,Jt)|0,c=c+Math.imul(Mt,Yt)|0,w=w+Math.imul(Mt,Jt)|0,p=p+Math.imul(kt,Xt)|0,c=c+Math.imul(kt,Qt)|0,c=c+Math.imul(Nt,Xt)|0,w=w+Math.imul(Nt,Qt)|0,p=p+Math.imul(xt,te)|0,c=c+Math.imul(xt,ee)|0,c=c+Math.imul(At,te)|0,w=w+Math.imul(At,ee)|0,p=p+Math.imul(mt,re)|0,c=c+Math.imul(mt,ne)|0,c=c+Math.imul(dt,re)|0,w=w+Math.imul(dt,ne)|0,p=p+Math.imul(et,ie)|0,c=c+Math.imul(et,oe)|0,c=c+Math.imul(it,ie)|0,w=w+Math.imul(it,oe)|0,p=p+Math.imul(H,se)|0,c=c+Math.imul(H,ae)|0,c=c+Math.imul(V,se)|0,w=w+Math.imul(V,ae)|0;var On=(b+p|0)+((c&8191)<<13)|0;b=(w+(c>>>13)|0)+(On>>>26)|0,On&=67108863,p=Math.imul(U,ft),c=Math.imul(U,Wt),c=c+Math.imul(D,ft)|0,w=Math.imul(D,Wt),p=p+Math.imul(l,jt)|0,c=c+Math.imul(l,Gt)|0,c=c+Math.imul(E,jt)|0,w=w+Math.imul(E,Gt)|0,p=p+Math.imul(Ut,Vt)|0,c=c+Math.imul(Ut,Zt)|0,c=c+Math.imul(g,Vt)|0,w=w+Math.imul(g,Zt)|0,p=p+Math.imul(Rt,Yt)|0,c=c+Math.imul(Rt,Jt)|0,c=c+Math.imul(Tt,Yt)|0,w=w+Math.imul(Tt,Jt)|0,p=p+Math.imul(Ct,Xt)|0,c=c+Math.imul(Ct,Qt)|0,c=c+Math.imul(Mt,Xt)|0,w=w+Math.imul(Mt,Qt)|0,p=p+Math.imul(kt,te)|0,c=c+Math.imul(kt,ee)|0,c=c+Math.imul(Nt,te)|0,w=w+Math.imul(Nt,ee)|0,p=p+Math.imul(xt,re)|0,c=c+Math.imul(xt,ne)|0,c=c+Math.imul(At,re)|0,w=w+Math.imul(At,ne)|0,p=p+Math.imul(mt,ie)|0,c=c+Math.imul(mt,oe)|0,c=c+Math.imul(dt,ie)|0,w=w+Math.imul(dt,oe)|0,p=p+Math.imul(et,se)|0,c=c+Math.imul(et,ae)|0,c=c+Math.imul(it,se)|0,w=w+Math.imul(it,ae)|0;var Fn=(b+p|0)+((c&8191)<<13)|0;b=(w+(c>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,p=Math.imul(U,jt),c=Math.imul(U,Gt),c=c+Math.imul(D,jt)|0,w=Math.imul(D,Gt),p=p+Math.imul(l,Vt)|0,c=c+Math.imul(l,Zt)|0,c=c+Math.imul(E,Vt)|0,w=w+Math.imul(E,Zt)|0,p=p+Math.imul(Ut,Yt)|0,c=c+Math.imul(Ut,Jt)|0,c=c+Math.imul(g,Yt)|0,w=w+Math.imul(g,Jt)|0,p=p+Math.imul(Rt,Xt)|0,c=c+Math.imul(Rt,Qt)|0,c=c+Math.imul(Tt,Xt)|0,w=w+Math.imul(Tt,Qt)|0,p=p+Math.imul(Ct,te)|0,c=c+Math.imul(Ct,ee)|0,c=c+Math.imul(Mt,te)|0,w=w+Math.imul(Mt,ee)|0,p=p+Math.imul(kt,re)|0,c=c+Math.imul(kt,ne)|0,c=c+Math.imul(Nt,re)|0,w=w+Math.imul(Nt,ne)|0,p=p+Math.imul(xt,ie)|0,c=c+Math.imul(xt,oe)|0,c=c+Math.imul(At,ie)|0,w=w+Math.imul(At,oe)|0,p=p+Math.imul(mt,se)|0,c=c+Math.imul(mt,ae)|0,c=c+Math.imul(dt,se)|0,w=w+Math.imul(dt,ae)|0;var Nn=(b+p|0)+((c&8191)<<13)|0;b=(w+(c>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,p=Math.imul(U,Vt),c=Math.imul(U,Zt),c=c+Math.imul(D,Vt)|0,w=Math.imul(D,Zt),p=p+Math.imul(l,Yt)|0,c=c+Math.imul(l,Jt)|0,c=c+Math.imul(E,Yt)|0,w=w+Math.imul(E,Jt)|0,p=p+Math.imul(Ut,Xt)|0,c=c+Math.imul(Ut,Qt)|0,c=c+Math.imul(g,Xt)|0,w=w+Math.imul(g,Qt)|0,p=p+Math.imul(Rt,te)|0,c=c+Math.imul(Rt,ee)|0,c=c+Math.imul(Tt,te)|0,w=w+Math.imul(Tt,ee)|0,p=p+Math.imul(Ct,re)|0,c=c+Math.imul(Ct,ne)|0,c=c+Math.imul(Mt,re)|0,w=w+Math.imul(Mt,ne)|0,p=p+Math.imul(kt,ie)|0,c=c+Math.imul(kt,oe)|0,c=c+Math.imul(Nt,ie)|0,w=w+Math.imul(Nt,oe)|0,p=p+Math.imul(xt,se)|0,c=c+Math.imul(xt,ae)|0,c=c+Math.imul(At,se)|0,w=w+Math.imul(At,ae)|0;var Pn=(b+p|0)+((c&8191)<<13)|0;b=(w+(c>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,p=Math.imul(U,Yt),c=Math.imul(U,Jt),c=c+Math.imul(D,Yt)|0,w=Math.imul(D,Jt),p=p+Math.imul(l,Xt)|0,c=c+Math.imul(l,Qt)|0,c=c+Math.imul(E,Xt)|0,w=w+Math.imul(E,Qt)|0,p=p+Math.imul(Ut,te)|0,c=c+Math.imul(Ut,ee)|0,c=c+Math.imul(g,te)|0,w=w+Math.imul(g,ee)|0,p=p+Math.imul(Rt,re)|0,c=c+Math.imul(Rt,ne)|0,c=c+Math.imul(Tt,re)|0,w=w+Math.imul(Tt,ne)|0,p=p+Math.imul(Ct,ie)|0,c=c+Math.imul(Ct,oe)|0,c=c+Math.imul(Mt,ie)|0,w=w+Math.imul(Mt,oe)|0,p=p+Math.imul(kt,se)|0,c=c+Math.imul(kt,ae)|0,c=c+Math.imul(Nt,se)|0,w=w+Math.imul(Nt,ae)|0;var qn=(b+p|0)+((c&8191)<<13)|0;b=(w+(c>>>13)|0)+(qn>>>26)|0,qn&=67108863,p=Math.imul(U,Xt),c=Math.imul(U,Qt),c=c+Math.imul(D,Xt)|0,w=Math.imul(D,Qt),p=p+Math.imul(l,te)|0,c=c+Math.imul(l,ee)|0,c=c+Math.imul(E,te)|0,w=w+Math.imul(E,ee)|0,p=p+Math.imul(Ut,re)|0,c=c+Math.imul(Ut,ne)|0,c=c+Math.imul(g,re)|0,w=w+Math.imul(g,ne)|0,p=p+Math.imul(Rt,ie)|0,c=c+Math.imul(Rt,oe)|0,c=c+Math.imul(Tt,ie)|0,w=w+Math.imul(Tt,oe)|0,p=p+Math.imul(Ct,se)|0,c=c+Math.imul(Ct,ae)|0,c=c+Math.imul(Mt,se)|0,w=w+Math.imul(Mt,ae)|0;var Dn=(b+p|0)+((c&8191)<<13)|0;b=(w+(c>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,p=Math.imul(U,te),c=Math.imul(U,ee),c=c+Math.imul(D,te)|0,w=Math.imul(D,ee),p=p+Math.imul(l,re)|0,c=c+Math.imul(l,ne)|0,c=c+Math.imul(E,re)|0,w=w+Math.imul(E,ne)|0,p=p+Math.imul(Ut,ie)|0,c=c+Math.imul(Ut,oe)|0,c=c+Math.imul(g,ie)|0,w=w+Math.imul(g,oe)|0,p=p+Math.imul(Rt,se)|0,c=c+Math.imul(Rt,ae)|0,c=c+Math.imul(Tt,se)|0,w=w+Math.imul(Tt,ae)|0;var zn=(b+p|0)+((c&8191)<<13)|0;b=(w+(c>>>13)|0)+(zn>>>26)|0,zn&=67108863,p=Math.imul(U,re),c=Math.imul(U,ne),c=c+Math.imul(D,re)|0,w=Math.imul(D,ne),p=p+Math.imul(l,ie)|0,c=c+Math.imul(l,oe)|0,c=c+Math.imul(E,ie)|0,w=w+Math.imul(E,oe)|0,p=p+Math.imul(Ut,se)|0,c=c+Math.imul(Ut,ae)|0,c=c+Math.imul(g,se)|0,w=w+Math.imul(g,ae)|0;var $n=(b+p|0)+((c&8191)<<13)|0;b=(w+(c>>>13)|0)+($n>>>26)|0,$n&=67108863,p=Math.imul(U,ie),c=Math.imul(U,oe),c=c+Math.imul(D,ie)|0,w=Math.imul(D,oe),p=p+Math.imul(l,se)|0,c=c+Math.imul(l,ae)|0,c=c+Math.imul(E,se)|0,w=w+Math.imul(E,ae)|0;var Kn=(b+p|0)+((c&8191)<<13)|0;b=(w+(c>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,p=Math.imul(U,se),c=Math.imul(U,ae),c=c+Math.imul(D,se)|0,w=Math.imul(D,ae);var Hn=(b+p|0)+((c&8191)<<13)|0;return b=(w+(c>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,m[0]=An,m[1]=In,m[2]=kn,m[3]=Mn,m[4]=Rn,m[5]=Ln,m[6]=Tn,m[7]=Cn,m[8]=Un,m[9]=On,m[10]=Fn,m[11]=Nn,m[12]=Pn,m[13]=qn,m[14]=Dn,m[15]=zn,m[16]=$n,m[17]=Kn,m[18]=Hn,b!==0&&(m[19]=b,y.length++),y};Math.imul||(q=F);function M(_,a,h){h.negative=a.negative^_.negative,h.length=_.length+a.length;for(var y=0,S=0,x=0;x<h.length-1;x++){var m=S;S=0;for(var b=y&67108863,p=Math.min(x,a.length-1),c=Math.max(0,x-_.length+1);c<=p;c++){var w=x-c,$=_.words[w]|0,H=a.words[c]|0,V=$*H,tt=V&67108863;m=m+(V/67108864|0)|0,tt=tt+b|0,b=tt&67108863,m=m+(tt>>>26)|0,S+=m>>>26,m&=67108863}h.words[x]=b,y=m,m=S}return y!==0?h.words[x]=y:h.length--,h._strip()}function G(_,a,h){return M(_,a,h)}i.prototype.mulTo=function(a,h){var y,S=this.length+a.length;return this.length===10&&a.length===10?y=q(this,a,h):S<63?y=F(this,a,h):S<1024?y=M(this,a,h):y=G(this,a,h),y},i.prototype.mul=function(a){var h=new i(null);return h.words=new Array(this.length+a.length),this.mulTo(a,h)},i.prototype.mulf=function(a){var h=new i(null);return h.words=new Array(this.length+a.length),G(this,a,h)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){var h=a<0;h&&(a=-a),r(typeof a=="number"),r(a<67108864);for(var y=0,S=0;S<this.length;S++){var x=(this.words[S]|0)*a,m=(x&67108863)+(y&67108863);y>>=26,y+=x/67108864|0,y+=m>>>26,this.words[S]=m&67108863}return y!==0&&(this.words[S]=y,this.length++),h?this.ineg():this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var h=k(a);if(h.length===0)return new i(1);for(var y=this,S=0;S<h.length&&h[S]===0;S++,y=y.sqr());if(++S<h.length)for(var x=y.sqr();S<h.length;S++,x=x.sqr())h[S]!==0&&(y=y.mul(x));return y},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var h=a%26,y=(a-h)/26,S=67108863>>>26-h<<26-h,x;if(h!==0){var m=0;for(x=0;x<this.length;x++){var b=this.words[x]&S,p=(this.words[x]|0)-b<<h;this.words[x]=p|m,m=b>>>26-h}m&&(this.words[x]=m,this.length++)}if(y!==0){for(x=this.length-1;x>=0;x--)this.words[x+y]=this.words[x];for(x=0;x<y;x++)this.words[x]=0;this.length+=y}return this._strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,h,y){r(typeof a=="number"&&a>=0);var S;h?S=(h-h%26)/26:S=0;var x=a%26,m=Math.min((a-x)/26,this.length),b=67108863^67108863>>>x<<x,p=y;if(S-=m,S=Math.max(0,S),p){for(var c=0;c<m;c++)p.words[c]=this.words[c];p.length=m}if(m!==0)if(this.length>m)for(this.length-=m,c=0;c<this.length;c++)this.words[c]=this.words[c+m];else this.words[0]=0,this.length=1;var w=0;for(c=this.length-1;c>=0&&(w!==0||c>=S);c--){var $=this.words[c]|0;this.words[c]=w<<26-x|$>>>x,w=$&b}return p&&w!==0&&(p.words[p.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(a,h,y){return r(this.negative===0),this.iushrn(a,h,y)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var h=a%26,y=(a-h)/26,S=1<<h;if(this.length<=y)return!1;var x=this.words[y];return!!(x&S)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var h=a%26,y=(a-h)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(h!==0&&y++,this.length=Math.min(y,this.length),h!==0){var S=67108863^67108863>>>h<<h;this.words[this.length-1]&=S}return this._strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,h,y){var S=a.length+y,x;this._expand(S);var m,b=0;for(x=0;x<a.length;x++){m=(this.words[x+y]|0)+b;var p=(a.words[x]|0)*h;m-=p&67108863,b=(m>>26)-(p/67108864|0),this.words[x+y]=m&67108863}for(;x<this.length-y;x++)m=(this.words[x+y]|0)+b,b=m>>26,this.words[x+y]=m&67108863;if(b===0)return this._strip();for(r(b===-1),b=0,x=0;x<this.length;x++)m=-(this.words[x]|0)+b,b=m>>26,this.words[x]=m&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(a,h){var y=this.length-a.length,S=this.clone(),x=a,m=x.words[x.length-1]|0,b=this._countBits(m);y=26-b,y!==0&&(x=x.ushln(y),S.iushln(y),m=x.words[x.length-1]|0);var p=S.length-x.length,c;if(h!=="mod"){c=new i(null),c.length=p+1,c.words=new Array(c.length);for(var w=0;w<c.length;w++)c.words[w]=0}var $=S.clone()._ishlnsubmul(x,1,p);$.negative===0&&(S=$,c&&(c.words[p]=1));for(var H=p-1;H>=0;H--){var V=(S.words[x.length+H]|0)*67108864+(S.words[x.length+H-1]|0);for(V=Math.min(V/m|0,67108863),S._ishlnsubmul(x,V,H);S.negative!==0;)V--,S.negative=0,S._ishlnsubmul(x,1,H),S.isZero()||(S.negative^=1);c&&(c.words[H]=V)}return c&&c._strip(),S._strip(),h!=="div"&&y!==0&&S.iushrn(y),{div:c||null,mod:S}},i.prototype.divmod=function(a,h,y){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var S,x,m;return this.negative!==0&&a.negative===0?(m=this.neg().divmod(a,h),h!=="mod"&&(S=m.div.neg()),h!=="div"&&(x=m.mod.neg(),y&&x.negative!==0&&x.iadd(a)),{div:S,mod:x}):this.negative===0&&a.negative!==0?(m=this.divmod(a.neg(),h),h!=="mod"&&(S=m.div.neg()),{div:S,mod:m.mod}):this.negative&a.negative?(m=this.neg().divmod(a.neg(),h),h!=="div"&&(x=m.mod.neg(),y&&x.negative!==0&&x.isub(a)),{div:m.div,mod:x}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?h==="div"?{div:this.divn(a.words[0]),mod:null}:h==="mod"?{div:null,mod:new i(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modrn(a.words[0]))}:this._wordDiv(a,h)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var h=this.divmod(a);if(h.mod.isZero())return h.div;var y=h.div.negative!==0?h.mod.isub(a):h.mod,S=a.ushrn(1),x=a.andln(1),m=y.cmp(S);return m<0||x===1&&m===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},i.prototype.modrn=function(a){var h=a<0;h&&(a=-a),r(a<=67108863);for(var y=(1<<26)%a,S=0,x=this.length-1;x>=0;x--)S=(y*S+(this.words[x]|0))%a;return h?-S:S},i.prototype.modn=function(a){return this.modrn(a)},i.prototype.idivn=function(a){var h=a<0;h&&(a=-a),r(a<=67108863);for(var y=0,S=this.length-1;S>=0;S--){var x=(this.words[S]|0)+y*67108864;this.words[S]=x/a|0,y=x%a}return this._strip(),h?this.ineg():this},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var h=this,y=a.clone();h.negative!==0?h=h.umod(a):h=h.clone();for(var S=new i(1),x=new i(0),m=new i(0),b=new i(1),p=0;h.isEven()&&y.isEven();)h.iushrn(1),y.iushrn(1),++p;for(var c=y.clone(),w=h.clone();!h.isZero();){for(var $=0,H=1;!(h.words[0]&H)&&$<26;++$,H<<=1);if($>0)for(h.iushrn($);$-- >0;)(S.isOdd()||x.isOdd())&&(S.iadd(c),x.isub(w)),S.iushrn(1),x.iushrn(1);for(var V=0,tt=1;!(y.words[0]&tt)&&V<26;++V,tt<<=1);if(V>0)for(y.iushrn(V);V-- >0;)(m.isOdd()||b.isOdd())&&(m.iadd(c),b.isub(w)),m.iushrn(1),b.iushrn(1);h.cmp(y)>=0?(h.isub(y),S.isub(m),x.isub(b)):(y.isub(h),m.isub(S),b.isub(x))}return{a:m,b,gcd:y.iushln(p)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var h=this,y=a.clone();h.negative!==0?h=h.umod(a):h=h.clone();for(var S=new i(1),x=new i(0),m=y.clone();h.cmpn(1)>0&&y.cmpn(1)>0;){for(var b=0,p=1;!(h.words[0]&p)&&b<26;++b,p<<=1);if(b>0)for(h.iushrn(b);b-- >0;)S.isOdd()&&S.iadd(m),S.iushrn(1);for(var c=0,w=1;!(y.words[0]&w)&&c<26;++c,w<<=1);if(c>0)for(y.iushrn(c);c-- >0;)x.isOdd()&&x.iadd(m),x.iushrn(1);h.cmp(y)>=0?(h.isub(y),S.isub(x)):(y.isub(h),x.isub(S))}var $;return h.cmpn(1)===0?$=S:$=x,$.cmpn(0)<0&&$.iadd(a),$},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var h=this.clone(),y=a.clone();h.negative=0,y.negative=0;for(var S=0;h.isEven()&&y.isEven();S++)h.iushrn(1),y.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;y.isEven();)y.iushrn(1);var x=h.cmp(y);if(x<0){var m=h;h=y,y=m}else if(x===0||y.cmpn(1)===0)break;h.isub(y)}while(!0);return y.iushln(S)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var h=a%26,y=(a-h)/26,S=1<<h;if(this.length<=y)return this._expand(y+1),this.words[y]|=S,this;for(var x=S,m=y;x!==0&&m<this.length;m++){var b=this.words[m]|0;b+=x,x=b>>>26,b&=67108863,this.words[m]=b}return x!==0&&(this.words[m]=x,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var h=a<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var y;if(this.length>1)y=1;else{h&&(a=-a),r(a<=67108863,"Number is too big");var S=this.words[0]|0;y=S===a?0:S<a?-1:1}return this.negative!==0?-y|0:y},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var h=this.ucmp(a);return this.negative!==0?-h|0:h},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var h=0,y=this.length-1;y>=0;y--){var S=this.words[y]|0,x=a.words[y]|0;if(S!==x){S<x?h=-1:S>x&&(h=1);break}}return h},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new Q(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var C={k256:null,p224:null,p192:null,p25519:null};function z(_,a){this.name=_,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}z.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},z.prototype.ireduce=function(a){var h=a,y;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),y=h.bitLength();while(y>this.n);var S=y<this.n?-1:h.ucmp(this.p);return S===0?(h.words[0]=0,h.length=1):S>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},z.prototype.split=function(a,h){a.iushrn(this.n,0,h)},z.prototype.imulK=function(a){return a.imul(this.k)};function K(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(K,z),K.prototype.split=function(a,h){for(var y=4194303,S=Math.min(a.length,9),x=0;x<S;x++)h.words[x]=a.words[x];if(h.length=S,a.length<=9){a.words[0]=0,a.length=1;return}var m=a.words[9];for(h.words[h.length++]=m&y,x=10;x<a.length;x++){var b=a.words[x]|0;a.words[x-10]=(b&y)<<4|m>>>22,m=b}m>>>=22,a.words[x-10]=m,m===0&&a.length>10?a.length-=10:a.length-=9},K.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var h=0,y=0;y<a.length;y++){var S=a.words[y]|0;h+=S*977,a.words[y]=h&67108863,h=S*64+(h/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function W(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(W,z);function ct(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(ct,z);function st(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(st,z),st.prototype.imulK=function(a){for(var h=0,y=0;y<a.length;y++){var S=(a.words[y]|0)*19+h,x=S&67108863;S>>>=26,a.words[y]=x,h=S}return h!==0&&(a.words[a.length++]=h),a},i._prime=function(a){if(C[a])return C[a];var h;if(a==="k256")h=new K;else if(a==="p224")h=new W;else if(a==="p192")h=new ct;else if(a==="p25519")h=new st;else throw new Error("Unknown prime "+a);return C[a]=h,h};function Q(_){if(typeof _=="string"){var a=i._prime(_);this.m=a.p,this.prime=a}else r(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}Q.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},Q.prototype._verify2=function(a,h){r((a.negative|h.negative)===0,"red works only with positives"),r(a.red&&a.red===h.red,"red works only with red numbers")},Q.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(B(a,a.umod(this.m)._forceRed(this)),a)},Q.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Q.prototype.add=function(a,h){this._verify2(a,h);var y=a.add(h);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},Q.prototype.iadd=function(a,h){this._verify2(a,h);var y=a.iadd(h);return y.cmp(this.m)>=0&&y.isub(this.m),y},Q.prototype.sub=function(a,h){this._verify2(a,h);var y=a.sub(h);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},Q.prototype.isub=function(a,h){this._verify2(a,h);var y=a.isub(h);return y.cmpn(0)<0&&y.iadd(this.m),y},Q.prototype.shl=function(a,h){return this._verify1(a),this.imod(a.ushln(h))},Q.prototype.imul=function(a,h){return this._verify2(a,h),this.imod(a.imul(h))},Q.prototype.mul=function(a,h){return this._verify2(a,h),this.imod(a.mul(h))},Q.prototype.isqr=function(a){return this.imul(a,a.clone())},Q.prototype.sqr=function(a){return this.mul(a,a)},Q.prototype.sqrt=function(a){if(a.isZero())return a.clone();var h=this.m.andln(3);if(r(h%2===1),h===3){var y=this.m.add(new i(1)).iushrn(2);return this.pow(a,y)}for(var S=this.m.subn(1),x=0;!S.isZero()&&S.andln(1)===0;)x++,S.iushrn(1);r(!S.isZero());var m=new i(1).toRed(this),b=m.redNeg(),p=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);this.pow(c,p).cmp(b)!==0;)c.redIAdd(b);for(var w=this.pow(c,S),$=this.pow(a,S.addn(1).iushrn(1)),H=this.pow(a,S),V=x;H.cmp(m)!==0;){for(var tt=H,et=0;tt.cmp(m)!==0;et++)tt=tt.redSqr();r(et<V);var it=this.pow(w,new i(1).iushln(V-et-1));$=$.redMul(it),w=it.redSqr(),H=H.redMul(w),V=et}return $},Q.prototype.invm=function(a){var h=a._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},Q.prototype.pow=function(a,h){if(h.isZero())return new i(1).toRed(this);if(h.cmpn(1)===0)return a.clone();var y=4,S=new Array(1<<y);S[0]=new i(1).toRed(this),S[1]=a;for(var x=2;x<S.length;x++)S[x]=this.mul(S[x-1],a);var m=S[0],b=0,p=0,c=h.bitLength()%26;for(c===0&&(c=26),x=h.length-1;x>=0;x--){for(var w=h.words[x],$=c-1;$>=0;$--){var H=w>>$&1;if(m!==S[0]&&(m=this.sqr(m)),H===0&&b===0){p=0;continue}b<<=1,b|=H,p++,!(p!==y&&(x!==0||$!==0))&&(m=this.mul(m,S[b]),p=0,b=0)}c=26}return m},Q.prototype.convertTo=function(a){var h=a.umod(this.m);return h===a?h.clone():h},Q.prototype.convertFrom=function(a){var h=a.clone();return h.red=null,h},i.mont=function(a){return new yt(a)};function yt(_){Q.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(yt,Q),yt.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},yt.prototype.convertFrom=function(a){var h=this.imod(a.mul(this.rinv));return h.red=null,h},yt.prototype.imul=function(a,h){if(a.isZero()||h.isZero())return a.words[0]=0,a.length=1,a;var y=a.imul(h),S=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=y.isub(S).iushrn(this.shift),m=x;return x.cmp(this.m)>=0?m=x.isub(this.m):x.cmpn(0)<0&&(m=x.iadd(this.m)),m._forceRed(this)},yt.prototype.mul=function(a,h){if(a.isZero()||h.isZero())return new i(0)._forceRed(this);var y=a.mul(h),S=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=y.isub(S).iushrn(this.shift),m=x;return x.cmp(this.m)>=0?m=x.isub(this.m):x.cmpn(0)<0&&(m=x.iadd(this.m)),m._forceRed(this)},yt.prototype.invm=function(a){var h=this.imod(a._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(n,Pe)})($i);var _s=$i.exports;const Bo=Cr(_s);var Bi={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(n,t){var e=rt,r=e.Buffer;function o(s,u){for(var d in s)u[d]=s[d]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?n.exports=e:(o(e,t),t.Buffer=i);function i(s,u,d){return r(s,u,d)}i.prototype=Object.create(r.prototype),o(r,i),i.from=function(s,u,d){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,u,d)},i.alloc=function(s,u,d){if(typeof s!="number")throw new TypeError("Argument must be a number");var v=r(s);return u!==void 0?typeof d=="string"?v.fill(u,d):v.fill(u):v.fill(0),v},i.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},i.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return e.SlowBuffer(s)}})(Bi,Bi.exports);var gu=Bi.exports,tn=gu.Buffer;function yu(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var r=0;r<n.length;r++){var o=n.charAt(r),i=o.charCodeAt(0);if(t[i]!==255)throw new TypeError(o+" is ambiguous");t[i]=r}var s=n.length,u=n.charAt(0),d=Math.log(s)/Math.log(256),v=Math.log(256)/Math.log(s);function B(T){if((Array.isArray(T)||T instanceof Uint8Array)&&(T=tn.from(T)),!tn.isBuffer(T))throw new TypeError("Expected Buffer");if(T.length===0)return"";for(var L=0,I=0,k=0,F=T.length;k!==F&&T[k]===0;)k++,L++;for(var q=(F-k)*v+1>>>0,M=new Uint8Array(q);k!==F;){for(var G=T[k],C=0,z=q-1;(G!==0||C<I)&&z!==-1;z--,C++)G+=256*M[z]>>>0,M[z]=G%s>>>0,G=G/s>>>0;if(G!==0)throw new Error("Non-zero carry");I=C,k++}for(var K=q-I;K!==q&&M[K]===0;)K++;for(var W=u.repeat(L);K<q;++K)W+=n.charAt(M[K]);return W}function A(T){if(typeof T!="string")throw new TypeError("Expected String");if(T.length===0)return tn.alloc(0);for(var L=0,I=0,k=0;T[L]===u;)I++,L++;for(var F=(T.length-L)*d+1>>>0,q=new Uint8Array(F);T[L];){var M=t[T.charCodeAt(L)];if(M===255)return;for(var G=0,C=F-1;(M!==0||G<k)&&C!==-1;C--,G++)M+=s*q[C]>>>0,q[C]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");k=G,L++}for(var z=F-k;z!==F&&q[z]===0;)z++;var K=tn.allocUnsafe(I+(F-z));K.fill(0,0,I);for(var W=I;z!==F;)K[W++]=q[z++];return K}function O(T){var L=A(T);if(L)return L;throw new Error("Non-base"+s+" character")}return{encode:B,decodeUnsafe:A,decode:O}}var mu=yu,wu=mu,bu="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",As=wu(bu);const pe=Cr(As),vu=(n,t,e)=>n&t^~n&e,xu=(n,t,e)=>n&t^n&e^t&e,Eu=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),tr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),er=new Uint32Array(64);class Su extends ds{constructor(){super(64,32,8,!1),this.A=tr[0]|0,this.B=tr[1]|0,this.C=tr[2]|0,this.D=tr[3]|0,this.E=tr[4]|0,this.F=tr[5]|0,this.G=tr[6]|0,this.H=tr[7]|0}get(){const{A:t,B:e,C:r,D:o,E:i,F:s,G:u,H:d}=this;return[t,e,r,o,i,s,u,d]}set(t,e,r,o,i,s,u,d){this.A=t|0,this.B=e|0,this.C=r|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=u|0,this.H=d|0}process(t,e){for(let A=0;A<16;A++,e+=4)er[A]=t.getUint32(e,!1);for(let A=16;A<64;A++){const O=er[A-15],T=er[A-2],L=ze(O,7)^ze(O,18)^O>>>3,I=ze(T,17)^ze(T,19)^T>>>10;er[A]=I+er[A-7]+L+er[A-16]|0}let{A:r,B:o,C:i,D:s,E:u,F:d,G:v,H:B}=this;for(let A=0;A<64;A++){const O=ze(u,6)^ze(u,11)^ze(u,25),T=B+O+vu(u,d,v)+Eu[A]+er[A]|0,I=(ze(r,2)^ze(r,13)^ze(r,22))+xu(r,o,i)|0;B=v,v=d,d=u,u=s+T|0,s=i,i=o,o=r,r=T+I|0}r=r+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,u=u+this.E|0,d=d+this.F|0,v=v+this.G|0,B=B+this.H|0,this.set(r,o,i,s,u,d,v,B)}roundClean(){er.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const _i=ls(()=>new Su);var de={};function Ve(n,t,e){return t<=n&&n<=e}function mn(n){if(n===void 0)return{};if(n===Object(n))return n;throw TypeError("Could not convert argument to dictionary")}function Bu(n){for(var t=String(n),e=t.length,r=0,o=[];r<e;){var i=t.charCodeAt(r);if(i<55296||i>57343)o.push(i);else if(56320<=i&&i<=57343)o.push(65533);else if(55296<=i&&i<=56319)if(r===e-1)o.push(65533);else{var s=n.charCodeAt(r+1);if(56320<=s&&s<=57343){var u=i&1023,d=s&1023;o.push(65536+(u<<10)+d),r+=1}else o.push(65533)}r+=1}return o}function _u(n){for(var t="",e=0;e<n.length;++e){var r=n[e];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return t}var sn=-1;function Ki(n){this.tokens=[].slice.call(n)}Ki.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():sn},prepend:function(n){if(Array.isArray(n))for(var t=n;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(n)},push:function(n){if(Array.isArray(n))for(var t=n;t.length;)this.tokens.push(t.shift());else this.tokens.push(n)}};var Rr=-1;function Jn(n,t){if(n)throw TypeError("Decoder error");return t||65533}var an="utf-8";function cn(n,t){if(!(this instanceof cn))return new cn(n,t);if(n=n!==void 0?String(n).toLowerCase():an,n!==an)throw new Error("Encoding not supported. Only utf-8 is supported");t=mn(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}cn.prototype={decode:function(t,e){var r;typeof t=="object"&&t instanceof ArrayBuffer?r=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):r=new Uint8Array(0),e=mn(e),this._streaming||(this._decoder=new Au({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!e.stream;for(var o=new Ki(r),i=[],s;!o.endOfStream()&&(s=this._decoder.handler(o,o.read()),s!==Rr);)s!==null&&(Array.isArray(s)?i.push.apply(i,s):i.push(s));if(!this._streaming){do{if(s=this._decoder.handler(o,o.read()),s===Rr)break;s!==null&&(Array.isArray(s)?i.push.apply(i,s):i.push(s))}while(!o.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),_u(i)}};function un(n,t){if(!(this instanceof un))return new un(n,t);if(n=n!==void 0?String(n).toLowerCase():an,n!==an)throw new Error("Encoding not supported. Only utf-8 is supported");t=mn(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}un.prototype={encode:function(t,e){t=t?String(t):"",e=mn(e),this._streaming||(this._encoder=new Iu(this._options)),this._streaming=!!e.stream;for(var r=[],o=new Ki(Bu(t)),i;!o.endOfStream()&&(i=this._encoder.handler(o,o.read()),i!==Rr);)Array.isArray(i)?r.push.apply(r,i):r.push(i);if(!this._streaming){for(;i=this._encoder.handler(o,o.read()),i!==Rr;)Array.isArray(i)?r.push.apply(r,i):r.push(i);this._encoder=null}return new Uint8Array(r)}};function Au(n){var t=n.fatal,e=0,r=0,o=0,i=128,s=191;this.handler=function(u,d){if(d===sn&&o!==0)return o=0,Jn(t);if(d===sn)return Rr;if(o===0){if(Ve(d,0,127))return d;if(Ve(d,194,223))o=1,e=d-192;else if(Ve(d,224,239))d===224&&(i=160),d===237&&(s=159),o=2,e=d-224;else if(Ve(d,240,244))d===240&&(i=144),d===244&&(s=143),o=3,e=d-240;else return Jn(t);return e=e<<6*o,null}if(!Ve(d,i,s))return e=o=r=0,i=128,s=191,u.prepend(d),Jn(t);if(i=128,s=191,r+=1,e+=d-128<<6*(o-r),r!==o)return null;var v=e;return e=o=r=0,v}}function Iu(n){n.fatal,this.handler=function(t,e){if(e===sn)return Rr;if(Ve(e,0,127))return e;var r,o;Ve(e,128,2047)?(r=1,o=192):Ve(e,2048,65535)?(r=2,o=224):Ve(e,65536,1114111)&&(r=3,o=240);for(var i=[(e>>6*r)+o];r>0;){var s=e>>6*(r-1);i.push(128|s&63),r-=1}return i}}const ku=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:cn,TextEncoder:un},Symbol.toStringTag,{value:"Module"})),Mu=Ti(ku);var Ru=Pe&&Pe.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),Lu=Pe&&Pe.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),We=Pe&&Pe.__decorate||function(n,t,e,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,t,e,r);else for(var u=n.length-1;u>=0;u--)(s=n[u])&&(i=(o<3?s(i):o>3?s(t,e,i):s(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},Tu=Pe&&Pe.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.hasOwnProperty.call(n,e)&&Ru(t,n,e);return Lu(t,n),t},Is=Pe&&Pe.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(de,"__esModule",{value:!0});var ks=de.deserializeUnchecked=Us=de.deserialize=Cs=de.serialize=de.BinaryReader=de.BinaryWriter=de.BorshError=de.baseDecode=de.baseEncode=void 0;const ir=Is(_s),Ms=Is(As),Cu=Tu(Mu),Uu=typeof TextDecoder!="function"?Cu.TextDecoder:TextDecoder,Ou=new Uu("utf-8",{fatal:!0});function Fu(n){return typeof n=="string"&&(n=rt.Buffer.from(n,"utf8")),Ms.default.encode(rt.Buffer.from(n))}de.baseEncode=Fu;function Nu(n){return rt.Buffer.from(Ms.default.decode(n))}de.baseDecode=Nu;const Xn=1024;class Ee extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}de.BorshError=Ee;class Rs{constructor(){this.buf=rt.Buffer.alloc(Xn),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=rt.Buffer.concat([this.buf,rt.Buffer.alloc(Xn)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(rt.Buffer.from(new ir.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(rt.Buffer.from(new ir.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(rt.Buffer.from(new ir.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(rt.Buffer.from(new ir.default(t).toArray("le",64)))}writeBuffer(t){this.buf=rt.Buffer.concat([rt.Buffer.from(this.buf.subarray(0,this.length)),t,rt.Buffer.alloc(Xn)]),this.length+=t.length}writeString(t){this.maybeResize();const e=rt.Buffer.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(rt.Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const r of t)this.maybeResize(),e(r)}toArray(){return this.buf.subarray(0,this.length)}}de.BinaryWriter=Rs;function je(n,t,e){const r=e.value;e.value=function(...o){try{return r.apply(this,o)}catch(i){if(i instanceof RangeError){const s=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new Ee("Reached the end of buffer when deserializing")}throw i}}}class Le{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new ir.default(t,"le")}readU128(){const t=this.readBuffer(16);return new ir.default(t,"le")}readU256(){const t=this.readBuffer(32);return new ir.default(t,"le")}readU512(){const t=this.readBuffer(64);return new ir.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new Ee(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return Ou.decode(e)}catch(r){throw new Ee(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),r=Array();for(let o=0;o<e;++o)r.push(t());return r}}We([je],Le.prototype,"readU8",null);We([je],Le.prototype,"readU16",null);We([je],Le.prototype,"readU32",null);We([je],Le.prototype,"readU64",null);We([je],Le.prototype,"readU128",null);We([je],Le.prototype,"readU256",null);We([je],Le.prototype,"readU512",null);We([je],Le.prototype,"readString",null);We([je],Le.prototype,"readFixedArray",null);We([je],Le.prototype,"readArray",null);de.BinaryReader=Le;function Ls(n){return n.charAt(0).toUpperCase()+n.slice(1)}function cr(n,t,e,r,o){try{if(typeof r=="string")o[`write${Ls(r)}`](e);else if(r instanceof Array)if(typeof r[0]=="number"){if(e.length!==r[0])throw new Ee(`Expecting byte array of length ${r[0]}, but got ${e.length} bytes`);o.writeFixedArray(e)}else if(r.length===2&&typeof r[1]=="number"){if(e.length!==r[1])throw new Ee(`Expecting byte array of length ${r[1]}, but got ${e.length} bytes`);for(let i=0;i<r[1];i++)cr(n,null,e[i],r[0],o)}else o.writeArray(e,i=>{cr(n,t,i,r[0],o)});else if(r.kind!==void 0)switch(r.kind){case"option":{e==null?o.writeU8(0):(o.writeU8(1),cr(n,t,e,r.type,o));break}case"map":{o.writeU32(e.size),e.forEach((i,s)=>{cr(n,t,s,r.key,o),cr(n,t,i,r.value,o)});break}default:throw new Ee(`FieldType ${r} unrecognized`)}else Ts(n,e,o)}catch(i){throw i instanceof Ee&&i.addToFieldPath(t),i}}function Ts(n,t,e){if(typeof t.borshSerialize=="function"){t.borshSerialize(e);return}const r=n.get(t.constructor);if(!r)throw new Ee(`Class ${t.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([o,i])=>{cr(n,o,t[o],i,e)});else if(r.kind==="enum"){const o=t[r.field];for(let i=0;i<r.values.length;++i){const[s,u]=r.values[i];if(s===o){e.writeU8(i),cr(n,s,t[s],u,e);break}}}else throw new Ee(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}function Pu(n,t,e=Rs){const r=new e;return Ts(n,t,r),r.toArray()}var Cs=de.serialize=Pu;function ur(n,t,e,r){try{if(typeof e=="string")return r[`read${Ls(e)}`]();if(e instanceof Array){if(typeof e[0]=="number")return r.readFixedArray(e[0]);if(typeof e[1]=="number"){const o=[];for(let i=0;i<e[1];i++)o.push(ur(n,null,e[0],r));return o}else return r.readArray(()=>ur(n,t,e[0],r))}if(e.kind==="option")return r.readU8()?ur(n,t,e.type,r):void 0;if(e.kind==="map"){let o=new Map;const i=r.readU32();for(let s=0;s<i;s++){const u=ur(n,t,e.key,r),d=ur(n,t,e.value,r);o.set(u,d)}return o}return Hi(n,e,r)}catch(o){throw o instanceof Ee&&o.addToFieldPath(t),o}}function Hi(n,t,e){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(e);const r=n.get(t);if(!r)throw new Ee(`Class ${t.name} is missing in schema`);if(r.kind==="struct"){const o={};for(const[i,s]of n.get(t).fields)o[i]=ur(n,i,s,e);return new t(o)}if(r.kind==="enum"){const o=e.readU8();if(o>=r.values.length)throw new Ee(`Enum index: ${o} is out of range`);const[i,s]=r.values[o],u=ur(n,i,s,e);return new t({[i]:u})}throw new Ee(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}function qu(n,t,e,r=Le){const o=new r(e),i=Hi(n,t,o);if(o.offset<e.length)throw new Ee(`Unexpected ${e.length-o.offset} bytes after deserialized data`);return i}var Us=de.deserialize=qu;function Du(n,t,e,r=Le){const o=new r(e);return Hi(n,t,o)}ks=de.deserializeUnchecked=Du;var P={};Object.defineProperty(P,"__esModule",{value:!0});P.s16=P.s8=P.nu64be=P.u48be=P.u40be=P.u32be=P.u24be=P.u16be=he=P.nu64=P.u48=P.u40=at=P.u32=P.u24=Ue=P.u16=_t=P.u8=dr=P.offset=P.greedy=P.Constant=P.UTF8=P.CString=P.Blob=P.Boolean=P.BitField=P.BitStructure=P.VariantLayout=P.Union=P.UnionLayoutDiscriminator=P.UnionDiscriminator=P.Structure=P.Sequence=P.DoubleBE=P.Double=P.FloatBE=P.Float=P.NearInt64BE=P.NearInt64=P.NearUInt64BE=P.NearUInt64=P.IntBE=P.Int=P.UIntBE=P.UInt=P.OffsetLayout=P.GreedyCount=P.ExternalLayout=P.bindConstructorLayout=P.nameWithProperty=P.Layout=P.uint8ArrayToBuffer=P.checkUint8Array=void 0;P.constant=P.utf8=P.cstr=Ft=P.blob=P.unionLayoutDiscriminator=P.union=ve=P.seq=P.bits=nt=P.struct=P.f64be=P.f64=P.f32be=P.f32=P.ns64be=P.s48be=P.s40be=P.s32be=P.s24be=P.s16be=Ie=P.ns64=P.s48=P.s40=P.s32=P.s24=void 0;const Wi=rt;function Or(n){if(!(n instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}P.checkUint8Array=Or;function St(n){return Or(n),Wi.Buffer.from(n.buffer,n.byteOffset,n.length)}P.uint8ArrayToBuffer=St;class It{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}P.Layout=It;function ji(n,t){return t.property?n+"["+t.property+"]":n}P.nameWithProperty=ji;function zu(n,t){if(typeof n!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(n,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof It))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");n.layout_=t,t.boundConstructor_=n,t.makeDestinationObject=()=>new n,Object.defineProperty(n.prototype,"encode",{value(e,r){return t.encode(this,e,r)},writable:!0}),Object.defineProperty(n,"decode",{value(e,r){return t.decode(e,r)},writable:!0})}P.bindConstructorLayout=zu;class Be extends It{isCount(){throw new Error("ExternalLayout is abstract")}}P.ExternalLayout=Be;class Os extends Be{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){Or(t);const r=t.length-e;return Math.floor(r/this.elementSpan)}encode(t,e,r){return 0}}P.GreedyCount=Os;class Gi extends Be{constructor(t,e=0,r){if(!(t instanceof It))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof Oe||this.layout instanceof Ne}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,r=0){return this.layout.encode(t,e,r+this.offset)}}P.OffsetLayout=Gi;class Oe extends It{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return St(t).readUIntLE(e,this.span)}encode(t,e,r=0){return St(e).writeUIntLE(t,r,this.span),this.span}}P.UInt=Oe;class Ne extends It{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return St(t).readUIntBE(e,this.span)}encode(t,e,r=0){return St(e).writeUIntBE(t,r,this.span),this.span}}P.UIntBE=Ne;class yr extends It{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return St(t).readIntLE(e,this.span)}encode(t,e,r=0){return St(e).writeIntLE(t,r,this.span),this.span}}P.Int=yr;class Fr extends It{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return St(t).readIntBE(e,this.span)}encode(t,e,r=0){return St(e).writeIntBE(t,r,this.span),this.span}}P.IntBE=Fr;const Ai=Math.pow(2,32);function wn(n){const t=Math.floor(n/Ai),e=n-t*Ai;return{hi32:t,lo32:e}}function bn(n,t){return n*Ai+t}class Fs extends It{constructor(t){super(8,t)}decode(t,e=0){const r=St(t),o=r.readUInt32LE(e),i=r.readUInt32LE(e+4);return bn(i,o)}encode(t,e,r=0){const o=wn(t),i=St(e);return i.writeUInt32LE(o.lo32,r),i.writeUInt32LE(o.hi32,r+4),8}}P.NearUInt64=Fs;class Ns extends It{constructor(t){super(8,t)}decode(t,e=0){const r=St(t),o=r.readUInt32BE(e),i=r.readUInt32BE(e+4);return bn(o,i)}encode(t,e,r=0){const o=wn(t),i=St(e);return i.writeUInt32BE(o.hi32,r),i.writeUInt32BE(o.lo32,r+4),8}}P.NearUInt64BE=Ns;class Ps extends It{constructor(t){super(8,t)}decode(t,e=0){const r=St(t),o=r.readUInt32LE(e),i=r.readInt32LE(e+4);return bn(i,o)}encode(t,e,r=0){const o=wn(t),i=St(e);return i.writeUInt32LE(o.lo32,r),i.writeInt32LE(o.hi32,r+4),8}}P.NearInt64=Ps;class qs extends It{constructor(t){super(8,t)}decode(t,e=0){const r=St(t),o=r.readInt32BE(e),i=r.readUInt32BE(e+4);return bn(o,i)}encode(t,e,r=0){const o=wn(t),i=St(e);return i.writeInt32BE(o.hi32,r),i.writeUInt32BE(o.lo32,r+4),8}}P.NearInt64BE=qs;class Ds extends It{constructor(t){super(4,t)}decode(t,e=0){return St(t).readFloatLE(e)}encode(t,e,r=0){return St(e).writeFloatLE(t,r),4}}P.Float=Ds;class zs extends It{constructor(t){super(4,t)}decode(t,e=0){return St(t).readFloatBE(e)}encode(t,e,r=0){return St(e).writeFloatBE(t,r),4}}P.FloatBE=zs;class $s extends It{constructor(t){super(8,t)}decode(t,e=0){return St(t).readDoubleLE(e)}encode(t,e,r=0){return St(e).writeDoubleLE(t,r),8}}P.Double=$s;class Ks extends It{constructor(t){super(8,t)}decode(t,e=0){return St(t).readDoubleBE(e)}encode(t,e,r=0){return St(e).writeDoubleBE(t,r),8}}P.DoubleBE=Ks;class Hs extends It{constructor(t,e,r){if(!(t instanceof It))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof Be&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(e instanceof Be)&&0<t.span&&(o=e*t.span),super(o,r),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0,o=this.count;if(o instanceof Be&&(o=o.decode(t,e)),0<this.elementLayout.span)r=o*this.elementLayout.span;else{let i=0;for(;i<o;)r+=this.elementLayout.getSpan(t,e+r),++i}return r}decode(t,e=0){const r=[];let o=0,i=this.count;for(i instanceof Be&&(i=i.decode(t,e));o<i;)r.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),o+=1;return r}encode(t,e,r=0){const o=this.elementLayout,i=t.reduce((s,u)=>s+o.encode(u,e,r+s),0);return this.count instanceof Be&&this.count.encode(t.length,e,r),i}}P.Sequence=Hs;class Ws extends It{constructor(t,e,r){if(!(Array.isArray(t)&&t.reduce((i,s)=>i&&s instanceof It,!0)))throw new TypeError("fields must be array of Layout instances");typeof e=="boolean"&&r===void 0&&(r=e,e=void 0);for(const i of t)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=t.reduce((i,s)=>i+s.getSpan(),0)}catch{}super(o,e),this.fields=t,this.decodePrefixes=!!r}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((o,i)=>{const s=i.getSpan(t,e);return e+=s,o+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(t,e=0){Or(t);const r=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(r[o.property]=o.decode(t,e)),e+=o.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return r}encode(t,e,r=0){const o=r;let i=0,s=0;for(const u of this.fields){let d=u.span;if(s=0<d?d:0,u.property!==void 0){const v=t[u.property];v!==void 0&&(s=u.encode(v,e,r),0>d&&(d=u.getSpan(e,r)))}i=r,r+=d}return i+s-o}fromArray(t){const e=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<t.length&&(e[r.property]=t.shift());return e}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let e=0;for(const r of this.fields){if(r.property===t)return e;0>r.span?e=-1:0<=e&&(e+=r.span)}}}P.Structure=Ws;class Vi{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,r){throw new Error("UnionDiscriminator is abstract")}}P.UnionDiscriminator=Vi;class fn extends Vi{constructor(t,e){if(!(t instanceof Be&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,r){return this.layout.encode(t,e,r)}}P.UnionLayoutDiscriminator=fn;class Zi extends It{constructor(t,e,r){let o;if(t instanceof Oe||t instanceof Ne)o=new fn(new Gi(t));else if(t instanceof Be&&t.isCount())o=new fn(t);else if(t instanceof Vi)o=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(e===void 0&&(e=null),!(e===null||e instanceof It))throw new TypeError("defaultLayout must be null or a Layout");if(e!==null){if(0>e.span)throw new Error("defaultLayout must have constant span");e.property===void 0&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&(t instanceof Oe||t instanceof Ne)&&(i+=o.layout.span)),super(i,r),this.discriminator=o,this.usesPrefixDiscriminator=t instanceof Oe||t instanceof Ne,this.defaultLayout=e,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(u){return s(u)},this.configGetSourceVariant=function(u){s=u.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;const r=this.getVariant(t,e);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(const e in this.registry){const r=this.registry[e];if(r.property&&Object.prototype.hasOwnProperty.call(t,r.property))return r}throw new Error("unable to infer src variant")}decode(t,e=0){let r;const o=this.discriminator,i=o.decode(t,e),s=this.registry[i];if(s===void 0){const u=this.defaultLayout;let d=0;this.usesPrefixDiscriminator&&(d=o.layout.span),r=this.makeDestinationObject(),r[o.property]=i,r[u.property]=u.decode(t,e+d)}else r=s.decode(t,e);return r}encode(t,e,r=0){const o=this.getSourceVariant(t);if(o===void 0){const i=this.discriminator,s=this.defaultLayout;let u=0;return this.usesPrefixDiscriminator&&(u=i.layout.span),i.encode(t[i.property],e,r),u+s.encode(t[s.property],e,r+u)}return o.encode(t,e,r)}addVariant(t,e,r){const o=new js(this,t,e,r);return this.registry[t]=o,o}getVariant(t,e=0){let r;return t instanceof Uint8Array?r=this.discriminator.decode(t,e):r=t,this.registry[r]}}P.Union=Zi;class js extends It{constructor(t,e,r,o){if(!(t instanceof Zi))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&o===void 0&&(o=r,r=null),r){if(!(r instanceof It))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=r?r.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,o),this.union=t,this.variant=e,this.layout=r||null}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let o=0;return this.layout&&(o=this.layout.getSpan(t,e+r)),r+o}decode(t,e=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,e+o):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,e,r=0){let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,r);let i=o;if(this.layout&&(this.layout.encode(t[this.property],e,r+o),i+=this.layout.getSpan(e,r+o),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}P.VariantLayout=js;function Er(n){return 0>n&&(n+=4294967296),n}class Yi extends It{constructor(t,e,r){if(!(t instanceof Oe||t instanceof Ne))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof e=="string"&&r===void 0&&(r=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,r),this.word=t,this.msb=!!e,this.fields=[];let o=0;this._packedSetValue=function(i){return o=Er(i),this},this._packedGetValue=function(){return o}}decode(t,e=0){const r=this.makeDestinationObject(),o=this.word.decode(t,e);this._packedSetValue(o);for(const i of this.fields)i.property!==void 0&&(r[i.property]=i.decode(t));return r}encode(t,e,r=0){const o=this.word.decode(e,r);this._packedSetValue(o);for(const i of this.fields)if(i.property!==void 0){const s=t[i.property];s!==void 0&&i.encode(s)}return this.word.encode(this._packedGetValue(),e,r)}addField(t,e){const r=new Ji(this,t,e);return this.fields.push(r),r}addBoolean(t){const e=new Gs(this,t);return this.fields.push(e),e}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}P.BitStructure=Yi;class Ji{constructor(t,e,r){if(!(t instanceof Yi))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const o=8*t.span,i=t.fields.reduce((s,u)=>s+u.bits,0);if(e+i>o)throw new Error("bits too long for span remainder ("+(o-i)+" of "+o+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,e===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=o-i-e),this.wordMask=Er(this.valueMask<<this.start),this.property=r}decode(t,e){const r=this.container._packedGetValue();return Er(r&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==Er(t&this.valueMask))throw new TypeError(ji("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),r=Er(t<<this.start);this.container._packedSetValue(Er(e&~this.wordMask)|r)}}P.BitField=Ji;let Gs=class extends Ji{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}};P.Boolean=Gs;class Vs extends It{constructor(t,e){if(!(t instanceof Be&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof Be||(r=t),super(r,e),this.length=t}getSpan(t,e){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),r}decode(t,e=0){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),St(t).slice(e,e+r)}encode(t,e,r){let o=this.length;if(this.length instanceof Be&&(o=t.length),!(t instanceof Uint8Array&&o===t.length))throw new TypeError(ji("Blob.encode",this)+" requires (length "+o+") Uint8Array as src");if(r+o>e.length)throw new RangeError("encoding overruns Uint8Array");const i=St(t);return St(e).write(i.toString("hex"),r,o,"hex"),this.length instanceof Be&&this.length.encode(o,e,r),o}}P.Blob=Vs;class Zs extends It{constructor(t){super(-1,t)}getSpan(t,e=0){Or(t);let r=e;for(;r<t.length&&t[r]!==0;)r+=1;return 1+r-e}decode(t,e=0){const r=this.getSpan(t,e);return St(t).slice(e,e+r-1).toString("utf-8")}encode(t,e,r=0){typeof t!="string"&&(t=String(t));const o=Wi.Buffer.from(t,"utf8"),i=o.length;if(r+i>e.length)throw new RangeError("encoding overruns Buffer");const s=St(e);return o.copy(s,r),s[r+i]=0,i+1}}P.CString=Zs;class Ys extends It{constructor(t,e){if(typeof t=="string"&&e===void 0&&(e=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return Or(t),t.length-e}decode(t,e=0){const r=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return St(t).slice(e,e+r).toString("utf-8")}encode(t,e,r=0){typeof t!="string"&&(t=String(t));const o=Wi.Buffer.from(t,"utf8"),i=o.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>e.length)throw new RangeError("encoding overruns Buffer");return o.copy(St(e),r),i}}P.UTF8=Ys;class Js extends It{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,r){return 0}}P.Constant=Js;P.greedy=(n,t)=>new Os(n,t);var dr=P.offset=(n,t,e)=>new Gi(n,t,e),_t=P.u8=n=>new Oe(1,n),Ue=P.u16=n=>new Oe(2,n);P.u24=n=>new Oe(3,n);var at=P.u32=n=>new Oe(4,n);P.u40=n=>new Oe(5,n);P.u48=n=>new Oe(6,n);var he=P.nu64=n=>new Fs(n);P.u16be=n=>new Ne(2,n);P.u24be=n=>new Ne(3,n);P.u32be=n=>new Ne(4,n);P.u40be=n=>new Ne(5,n);P.u48be=n=>new Ne(6,n);P.nu64be=n=>new Ns(n);P.s8=n=>new yr(1,n);P.s16=n=>new yr(2,n);P.s24=n=>new yr(3,n);P.s32=n=>new yr(4,n);P.s40=n=>new yr(5,n);P.s48=n=>new yr(6,n);var Ie=P.ns64=n=>new Ps(n);P.s16be=n=>new Fr(2,n);P.s24be=n=>new Fr(3,n);P.s32be=n=>new Fr(4,n);P.s40be=n=>new Fr(5,n);P.s48be=n=>new Fr(6,n);P.ns64be=n=>new qs(n);P.f32=n=>new Ds(n);P.f32be=n=>new zs(n);P.f64=n=>new $s(n);P.f64be=n=>new Ks(n);var nt=P.struct=(n,t,e)=>new Ws(n,t,e);P.bits=(n,t,e)=>new Yi(n,t,e);var ve=P.seq=(n,t,e)=>new Hs(n,t,e);P.union=(n,t,e)=>new Zi(n,t,e);P.unionLayoutDiscriminator=(n,t)=>new fn(n,t);var Ft=P.blob=(n,t)=>new Vs(n,t);P.cstr=n=>new Zs(n);P.utf8=(n,t)=>new Ys(n,t);P.constant=(n,t)=>new Js(n,t);var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});function $u(n){{const t=rt.Buffer.from(n);t.reverse();const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}var Ku=Gr.toBigIntLE=$u;function Hu(n){{const t=n.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}Gr.toBigIntBE=Hu;function Wu(n,t){{const e=n.toString(16),r=rt.Buffer.from(e.padStart(t*2,"0").slice(0,t*2),"hex");return r.reverse(),r}}var ju=Gr.toBufferLE=Wu;function Gu(n,t){{const e=n.toString(16);return rt.Buffer.from(e.padStart(t*2,"0").slice(0,t*2),"hex")}}Gr.toBufferBE=Gu;class Vu extends TypeError{constructor(t,e){let r;const{message:o,...i}=t,{path:s}=t,u=s.length===0?o:"At path: "+s.join(".")+" -- "+o;super(u),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var d;return(d=r)!=null?d:r=[t,...e()]}}}function Zu(n){return sr(n)&&typeof n[Symbol.iterator]=="function"}function sr(n){return typeof n=="object"&&n!=null}function qe(n){return typeof n=="string"?JSON.stringify(n):""+n}function Yu(n){const{done:t,value:e}=n.next();return t?void 0:e}function Ju(n,t,e,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:o,branch:i}=t,{type:s}=e,{refinement:u,message:d="Expected a value of type `"+s+"`"+(u?" with refinement `"+u+"`":"")+", but received: `"+qe(r)+"`"}=n;return{value:r,type:s,refinement:u,key:o[o.length-1],path:o,branch:i,...n,message:d}}function*_o(n,t,e,r){Zu(n)||(n=[n]);for(const o of n){const i=Ju(o,t,e,r);i&&(yield i)}}function*Xi(n,t,e={}){const{path:r=[],branch:o=[n],coerce:i=!1,mask:s=!1}=e,u={path:r,branch:o};if(i&&(n=t.coercer(n,u),s&&t.type!=="type"&&sr(t.schema)&&sr(n)&&!Array.isArray(n)))for(const v in n)t.schema[v]===void 0&&delete n[v];let d=!0;for(const v of t.validator(n,u))d=!1,yield[v,void 0];for(let[v,B,A]of t.entries(n,u)){const O=Xi(B,A,{path:v===void 0?r:[...r,v],branch:v===void 0?o:[...o,B],coerce:i,mask:s});for(const T of O)T[0]?(d=!1,yield[T[0],void 0]):i&&(B=T[1],v===void 0?n=B:n instanceof Map?n.set(v,B):n instanceof Set?n.add(B):sr(n)&&(n[v]=B))}if(d)for(const v of t.refiner(n,u))d=!1,yield[v,void 0];d&&(yield[void 0,n])}let Ge=class{constructor(t){const{type:e,schema:r,validator:o,refiner:i,coercer:s=d=>d,entries:u=function*(){}}=t;this.type=e,this.schema=r,this.entries=u,this.coercer=s,o?this.validator=(d,v)=>{const B=o(d,v);return _o(B,v,this,d)}:this.validator=()=>[],i?this.refiner=(d,v)=>{const B=i(d,v);return _o(B,v,this,d)}:this.refiner=()=>[]}assert(t){return Xu(t,this)}create(t){return Y(t,this)}is(t){return Xs(t,this)}mask(t){return Qu(t,this)}validate(t,e={}){return Vr(t,this,e)}};function Xu(n,t){const e=Vr(n,t);if(e[0])throw e[0]}function Y(n,t){const e=Vr(n,t,{coerce:!0});if(e[0])throw e[0];return e[1]}function Qu(n,t){const e=Vr(n,t,{coerce:!0,mask:!0});if(e[0])throw e[0];return e[1]}function Xs(n,t){return!Vr(n,t)[0]}function Vr(n,t,e={}){const r=Xi(n,t,e),o=Yu(r);return o[0]?[new Vu(o[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,o[1]]}function mr(n,t){return new Ge({type:n,schema:null,validator:t})}function tf(){return mr("any",()=>!0)}function J(n){return new Ge({type:"array",schema:n,*entries(t){if(n&&Array.isArray(t))for(const[e,r]of t.entries())yield[e,r,n]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: "+qe(t)}})}function He(){return mr("boolean",n=>typeof n=="boolean")}function Qi(n){return mr("instance",t=>t instanceof n||"Expected a `"+n.name+"` instance, but received: "+qe(t))}function zt(n){const t=qe(n),e=typeof n;return new Ge({type:"literal",schema:e==="string"||e==="number"||e==="boolean"?n:null,validator(r){return r===n||"Expected the literal `"+t+"`, but received: "+qe(r)}})}function ef(){return mr("never",()=>!1)}function X(n){return new Ge({...n,validator:(t,e)=>t===null||n.validator(t,e),refiner:(t,e)=>t===null||n.refiner(t,e)})}function N(){return mr("number",n=>typeof n=="number"&&!isNaN(n)||"Expected a number, but received: "+qe(n))}function ut(n){return new Ge({...n,validator:(t,e)=>t===void 0||n.validator(t,e),refiner:(t,e)=>t===void 0||n.refiner(t,e)})}function Qs(n,t){return new Ge({type:"record",schema:null,*entries(e){if(sr(e))for(const r in e){const o=e[r];yield[r,r,n],yield[r,o,t]}},validator(e){return sr(e)||"Expected an object, but received: "+qe(e)}})}function Z(){return mr("string",n=>typeof n=="string"||"Expected a string, but received: "+qe(n))}function to(n){const t=ef();return new Ge({type:"tuple",schema:null,*entries(e){if(Array.isArray(e)){const r=Math.max(n.length,e.length);for(let o=0;o<r;o++)yield[o,e[o],n[o]||t]}},validator(e){return Array.isArray(e)||"Expected an array, but received: "+qe(e)}})}function j(n){const t=Object.keys(n);return new Ge({type:"type",schema:n,*entries(e){if(sr(e))for(const r of t)yield[r,e[r],n[r]]},validator(e){return sr(e)||"Expected an object, but received: "+qe(e)}})}function _e(n){const t=n.map(e=>e.type).join(" | ");return new Ge({type:"union",schema:null,validator(e,r){const o=[];for(const i of n){const[...s]=Xi(e,i,r),[u]=s;if(u[0])for(const[d]of s)d&&o.push(d);else return[]}return["Expected the value to satisfy a union of `"+t+"`, but received: "+qe(e),...o]}})}function Zr(){return mr("unknown",()=>!0)}function Yr(n,t,e){return new Ge({...n,coercer:(r,o)=>Xs(r,t)?n.coercer(e(r,o),o):n.coercer(r,o)})}var en,rf=new Uint8Array(16);function ta(){if(!en&&(en=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!en))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return en(rf)}const nf=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function vn(n){return typeof n=="string"&&nf.test(n)}var le=[];for(var Qn=0;Qn<256;++Qn)le.push((Qn+256).toString(16).substr(1));function xn(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(le[n[t+0]]+le[n[t+1]]+le[n[t+2]]+le[n[t+3]]+"-"+le[n[t+4]]+le[n[t+5]]+"-"+le[n[t+6]]+le[n[t+7]]+"-"+le[n[t+8]]+le[n[t+9]]+"-"+le[n[t+10]]+le[n[t+11]]+le[n[t+12]]+le[n[t+13]]+le[n[t+14]]+le[n[t+15]]).toLowerCase();if(!vn(e))throw TypeError("Stringified UUID is invalid");return e}var Ao,ti,ei=0,ri=0;function of(n,t,e){var r=t&&e||0,o=t||new Array(16);n=n||{};var i=n.node||Ao,s=n.clockseq!==void 0?n.clockseq:ti;if(i==null||s==null){var u=n.random||(n.rng||ta)();i==null&&(i=Ao=[u[0]|1,u[1],u[2],u[3],u[4],u[5]]),s==null&&(s=ti=(u[6]<<8|u[7])&16383)}var d=n.msecs!==void 0?n.msecs:Date.now(),v=n.nsecs!==void 0?n.nsecs:ri+1,B=d-ei+(v-ri)/1e4;if(B<0&&n.clockseq===void 0&&(s=s+1&16383),(B<0||d>ei)&&n.nsecs===void 0&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ei=d,ri=v,ti=s,d+=122192928e5;var A=((d&268435455)*1e4+v)%4294967296;o[r++]=A>>>24&255,o[r++]=A>>>16&255,o[r++]=A>>>8&255,o[r++]=A&255;var O=d/4294967296*1e4&268435455;o[r++]=O>>>8&255,o[r++]=O&255,o[r++]=O>>>24&15|16,o[r++]=O>>>16&255,o[r++]=s>>>8|128,o[r++]=s&255;for(var T=0;T<6;++T)o[r+T]=i[T];return t||xn(o)}function ea(n){if(!vn(n))throw TypeError("Invalid UUID");var t,e=new Uint8Array(16);return e[0]=(t=parseInt(n.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(n.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(n.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(n.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(n.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}function sf(n){n=unescape(encodeURIComponent(n));for(var t=[],e=0;e<n.length;++e)t.push(n.charCodeAt(e));return t}var af="6ba7b810-9dad-11d1-80b4-00c04fd430c8",cf="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function ra(n,t,e){function r(o,i,s,u){if(typeof o=="string"&&(o=sf(o)),typeof i=="string"&&(i=ea(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var d=new Uint8Array(16+o.length);if(d.set(i),d.set(o,i.length),d=e(d),d[6]=d[6]&15|t,d[8]=d[8]&63|128,s){u=u||0;for(var v=0;v<16;++v)s[u+v]=d[v];return s}return xn(d)}try{r.name=n}catch{}return r.DNS=af,r.URL=cf,r}function uf(n){if(typeof n=="string"){var t=unescape(encodeURIComponent(n));n=new Uint8Array(t.length);for(var e=0;e<t.length;++e)n[e]=t.charCodeAt(e)}return ff(lf(hf(n),n.length*8))}function ff(n){for(var t=[],e=n.length*32,r="0123456789abcdef",o=0;o<e;o+=8){var i=n[o>>5]>>>o%32&255,s=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);t.push(s)}return t}function na(n){return(n+64>>>9<<4)+14+1}function lf(n,t){n[t>>5]|=128<<t%32,n[na(t)-1]=t;for(var e=1732584193,r=-271733879,o=-1732584194,i=271733878,s=0;s<n.length;s+=16){var u=e,d=r,v=o,B=i;e=ye(e,r,o,i,n[s],7,-680876936),i=ye(i,e,r,o,n[s+1],12,-389564586),o=ye(o,i,e,r,n[s+2],17,606105819),r=ye(r,o,i,e,n[s+3],22,-1044525330),e=ye(e,r,o,i,n[s+4],7,-176418897),i=ye(i,e,r,o,n[s+5],12,1200080426),o=ye(o,i,e,r,n[s+6],17,-1473231341),r=ye(r,o,i,e,n[s+7],22,-45705983),e=ye(e,r,o,i,n[s+8],7,1770035416),i=ye(i,e,r,o,n[s+9],12,-1958414417),o=ye(o,i,e,r,n[s+10],17,-42063),r=ye(r,o,i,e,n[s+11],22,-1990404162),e=ye(e,r,o,i,n[s+12],7,1804603682),i=ye(i,e,r,o,n[s+13],12,-40341101),o=ye(o,i,e,r,n[s+14],17,-1502002290),r=ye(r,o,i,e,n[s+15],22,1236535329),e=me(e,r,o,i,n[s+1],5,-165796510),i=me(i,e,r,o,n[s+6],9,-1069501632),o=me(o,i,e,r,n[s+11],14,643717713),r=me(r,o,i,e,n[s],20,-373897302),e=me(e,r,o,i,n[s+5],5,-701558691),i=me(i,e,r,o,n[s+10],9,38016083),o=me(o,i,e,r,n[s+15],14,-660478335),r=me(r,o,i,e,n[s+4],20,-405537848),e=me(e,r,o,i,n[s+9],5,568446438),i=me(i,e,r,o,n[s+14],9,-1019803690),o=me(o,i,e,r,n[s+3],14,-187363961),r=me(r,o,i,e,n[s+8],20,1163531501),e=me(e,r,o,i,n[s+13],5,-1444681467),i=me(i,e,r,o,n[s+2],9,-51403784),o=me(o,i,e,r,n[s+7],14,1735328473),r=me(r,o,i,e,n[s+12],20,-1926607734),e=we(e,r,o,i,n[s+5],4,-378558),i=we(i,e,r,o,n[s+8],11,-2022574463),o=we(o,i,e,r,n[s+11],16,1839030562),r=we(r,o,i,e,n[s+14],23,-35309556),e=we(e,r,o,i,n[s+1],4,-1530992060),i=we(i,e,r,o,n[s+4],11,1272893353),o=we(o,i,e,r,n[s+7],16,-155497632),r=we(r,o,i,e,n[s+10],23,-1094730640),e=we(e,r,o,i,n[s+13],4,681279174),i=we(i,e,r,o,n[s],11,-358537222),o=we(o,i,e,r,n[s+3],16,-722521979),r=we(r,o,i,e,n[s+6],23,76029189),e=we(e,r,o,i,n[s+9],4,-640364487),i=we(i,e,r,o,n[s+12],11,-421815835),o=we(o,i,e,r,n[s+15],16,530742520),r=we(r,o,i,e,n[s+2],23,-995338651),e=be(e,r,o,i,n[s],6,-198630844),i=be(i,e,r,o,n[s+7],10,1126891415),o=be(o,i,e,r,n[s+14],15,-1416354905),r=be(r,o,i,e,n[s+5],21,-57434055),e=be(e,r,o,i,n[s+12],6,1700485571),i=be(i,e,r,o,n[s+3],10,-1894986606),o=be(o,i,e,r,n[s+10],15,-1051523),r=be(r,o,i,e,n[s+1],21,-2054922799),e=be(e,r,o,i,n[s+8],6,1873313359),i=be(i,e,r,o,n[s+15],10,-30611744),o=be(o,i,e,r,n[s+6],15,-1560198380),r=be(r,o,i,e,n[s+13],21,1309151649),e=be(e,r,o,i,n[s+4],6,-145523070),i=be(i,e,r,o,n[s+11],10,-1120210379),o=be(o,i,e,r,n[s+2],15,718787259),r=be(r,o,i,e,n[s+9],21,-343485551),e=or(e,u),r=or(r,d),o=or(o,v),i=or(i,B)}return[e,r,o,i]}function hf(n){if(n.length===0)return[];for(var t=n.length*8,e=new Uint32Array(na(t)),r=0;r<t;r+=8)e[r>>5]|=(n[r/8]&255)<<r%32;return e}function or(n,t){var e=(n&65535)+(t&65535),r=(n>>16)+(t>>16)+(e>>16);return r<<16|e&65535}function df(n,t){return n<<t|n>>>32-t}function En(n,t,e,r,o,i){return or(df(or(or(t,n),or(r,i)),o),e)}function ye(n,t,e,r,o,i,s){return En(t&e|~t&r,n,t,o,i,s)}function me(n,t,e,r,o,i,s){return En(t&r|e&~r,n,t,o,i,s)}function we(n,t,e,r,o,i,s){return En(t^e^r,n,t,o,i,s)}function be(n,t,e,r,o,i,s){return En(e^(t|~r),n,t,o,i,s)}var pf=ra("v3",48,uf);const gf=pf;function yf(n,t,e){n=n||{};var r=n.random||(n.rng||ta)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){e=e||0;for(var o=0;o<16;++o)t[e+o]=r[o];return t}return xn(r)}function mf(n,t,e,r){switch(n){case 0:return t&e^~t&r;case 1:return t^e^r;case 2:return t&e^t&r^e&r;case 3:return t^e^r}}function ni(n,t){return n<<t|n>>>32-t}function wf(n){var t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){var r=unescape(encodeURIComponent(n));n=[];for(var o=0;o<r.length;++o)n.push(r.charCodeAt(o))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);for(var i=n.length/4+2,s=Math.ceil(i/16),u=new Array(s),d=0;d<s;++d){for(var v=new Uint32Array(16),B=0;B<16;++B)v[B]=n[d*64+B*4]<<24|n[d*64+B*4+1]<<16|n[d*64+B*4+2]<<8|n[d*64+B*4+3];u[d]=v}u[s-1][14]=(n.length-1)*8/Math.pow(2,32),u[s-1][14]=Math.floor(u[s-1][14]),u[s-1][15]=(n.length-1)*8&4294967295;for(var A=0;A<s;++A){for(var O=new Uint32Array(80),T=0;T<16;++T)O[T]=u[A][T];for(var L=16;L<80;++L)O[L]=ni(O[L-3]^O[L-8]^O[L-14]^O[L-16],1);for(var I=e[0],k=e[1],F=e[2],q=e[3],M=e[4],G=0;G<80;++G){var C=Math.floor(G/20),z=ni(I,5)+mf(C,k,F,q)+M+t[C]+O[G]>>>0;M=q,q=F,F=ni(k,30)>>>0,k=I,I=z}e[0]=e[0]+I>>>0,e[1]=e[1]+k>>>0,e[2]=e[2]+F>>>0,e[3]=e[3]+q>>>0,e[4]=e[4]+M>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var bf=ra("v5",80,wf);const vf=bf,xf="00000000-0000-0000-0000-000000000000";function Ef(n){if(!vn(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)}const Sf=Object.freeze(Object.defineProperty({__proto__:null,NIL:xf,parse:ea,stringify:xn,v1:of,v3:gf,v4:yf,v5:vf,validate:vn,version:Ef},Symbol.toStringTag,{value:"Module"})),ia=Ti(Sf),Bf=ia.v4,_f=function(n,t,e,r){if(typeof n!="string")throw new TypeError(n+" must be a string");r=r||{};const o=typeof r.version=="number"?r.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");const i={method:n};if(o===2&&(i.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");i.params=t}if(typeof e>"u"){const s=typeof r.generator=="function"?r.generator:function(){return Bf()};i.id=s(i,r)}else o===2&&e===null?r.notificationIdNull&&(i.id=null):i.id=e;return i};var Af=_f;const If=ia.v4,kf=Af,Kr=function(n,t){if(!(this instanceof Kr))return new Kr(n,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return If()},version:typeof t.version<"u"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=n};var Mf=Kr;Kr.prototype.request=function(n,t,e,r){const o=this;let i=null;const s=Array.isArray(n)&&typeof t=="function";if(this.options.version===1&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&n&&typeof n=="object"&&typeof t=="function")r=t,i=n;else{typeof e=="function"&&(r=e,e=void 0);const v=typeof r=="function";try{i=kf(n,t,e,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(B){if(v)return r(B);throw B}if(!v)return i}let d;try{d=JSON.stringify(i,this.options.replacer)}catch(v){return r(v)}return this.callServer(d,function(v,B){o._parseResponse(v,B,r)}),i};Kr.prototype._parseResponse=function(n,t,e){if(n){e(n);return}if(!t)return e();let r;try{r=JSON.parse(t,this.options.reviver)}catch(o){return e(o)}if(e.length===3)if(Array.isArray(r)){const o=function(s){return typeof s.error<"u"},i=function(s){return!o(s)};return e(null,r.filter(o),r.filter(i))}else return e(null,r.error,r.result);e(null,r)};const Rf=Cr(Mf);var oa={},sa={exports:{}};(function(n){function t(e){return e&&e.__esModule?e:{default:e}}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(sa);var aa=sa.exports,ii={exports:{}},oi={exports:{}},Io;function Jr(){return Io||(Io=1,function(n){function t(e){"@babel/helpers - typeof";return n.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},n.exports.__esModule=!0,n.exports.default=n.exports,t(e)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(oi)),oi.exports}var ko;function Lf(){return ko||(ko=1,function(n){var t=Jr().default;function e(){n.exports=e=function(){return o},n.exports.__esModule=!0,n.exports.default=n.exports;var r,o={},i=Object.prototype,s=i.hasOwnProperty,u=Object.defineProperty||function(m,b,p){m[b]=p.value},d=typeof Symbol=="function"?Symbol:{},v=d.iterator||"@@iterator",B=d.asyncIterator||"@@asyncIterator",A=d.toStringTag||"@@toStringTag";function O(m,b,p){return Object.defineProperty(m,b,{value:p,enumerable:!0,configurable:!0,writable:!0}),m[b]}try{O({},"")}catch{O=function(p,c,w){return p[c]=w}}function T(m,b,p,c){var w=b&&b.prototype instanceof G?b:G,$=Object.create(w.prototype),H=new S(c||[]);return u($,"_invoke",{value:_(m,p,H)}),$}function L(m,b,p){try{return{type:"normal",arg:m.call(b,p)}}catch(c){return{type:"throw",arg:c}}}o.wrap=T;var I="suspendedStart",k="suspendedYield",F="executing",q="completed",M={};function G(){}function C(){}function z(){}var K={};O(K,v,function(){return this});var W=Object.getPrototypeOf,ct=W&&W(W(x([])));ct&&ct!==i&&s.call(ct,v)&&(K=ct);var st=z.prototype=G.prototype=Object.create(K);function Q(m){["next","throw","return"].forEach(function(b){O(m,b,function(p){return this._invoke(b,p)})})}function yt(m,b){function p(w,$,H,V){var tt=L(m[w],m,$);if(tt.type!=="throw"){var et=tt.arg,it=et.value;return it&&t(it)=="object"&&s.call(it,"__await")?b.resolve(it.__await).then(function(Bt){p("next",Bt,H,V)},function(Bt){p("throw",Bt,H,V)}):b.resolve(it).then(function(Bt){et.value=Bt,H(et)},function(Bt){return p("throw",Bt,H,V)})}V(tt.arg)}var c;u(this,"_invoke",{value:function($,H){function V(){return new b(function(tt,et){p($,H,tt,et)})}return c=c?c.then(V,V):V()}})}function _(m,b,p){var c=I;return function(w,$){if(c===F)throw new Error("Generator is already running");if(c===q){if(w==="throw")throw $;return{value:r,done:!0}}for(p.method=w,p.arg=$;;){var H=p.delegate;if(H){var V=a(H,p);if(V){if(V===M)continue;return V}}if(p.method==="next")p.sent=p._sent=p.arg;else if(p.method==="throw"){if(c===I)throw c=q,p.arg;p.dispatchException(p.arg)}else p.method==="return"&&p.abrupt("return",p.arg);c=F;var tt=L(m,b,p);if(tt.type==="normal"){if(c=p.done?q:k,tt.arg===M)continue;return{value:tt.arg,done:p.done}}tt.type==="throw"&&(c=q,p.method="throw",p.arg=tt.arg)}}}function a(m,b){var p=b.method,c=m.iterator[p];if(c===r)return b.delegate=null,p==="throw"&&m.iterator.return&&(b.method="return",b.arg=r,a(m,b),b.method==="throw")||p!=="return"&&(b.method="throw",b.arg=new TypeError("The iterator does not provide a '"+p+"' method")),M;var w=L(c,m.iterator,b.arg);if(w.type==="throw")return b.method="throw",b.arg=w.arg,b.delegate=null,M;var $=w.arg;return $?$.done?(b[m.resultName]=$.value,b.next=m.nextLoc,b.method!=="return"&&(b.method="next",b.arg=r),b.delegate=null,M):$:(b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,M)}function h(m){var b={tryLoc:m[0]};1 in m&&(b.catchLoc=m[1]),2 in m&&(b.finallyLoc=m[2],b.afterLoc=m[3]),this.tryEntries.push(b)}function y(m){var b=m.completion||{};b.type="normal",delete b.arg,m.completion=b}function S(m){this.tryEntries=[{tryLoc:"root"}],m.forEach(h,this),this.reset(!0)}function x(m){if(m||m===""){var b=m[v];if(b)return b.call(m);if(typeof m.next=="function")return m;if(!isNaN(m.length)){var p=-1,c=function w(){for(;++p<m.length;)if(s.call(m,p))return w.value=m[p],w.done=!1,w;return w.value=r,w.done=!0,w};return c.next=c}}throw new TypeError(t(m)+" is not iterable")}return C.prototype=z,u(st,"constructor",{value:z,configurable:!0}),u(z,"constructor",{value:C,configurable:!0}),C.displayName=O(z,A,"GeneratorFunction"),o.isGeneratorFunction=function(m){var b=typeof m=="function"&&m.constructor;return!!b&&(b===C||(b.displayName||b.name)==="GeneratorFunction")},o.mark=function(m){return Object.setPrototypeOf?Object.setPrototypeOf(m,z):(m.__proto__=z,O(m,A,"GeneratorFunction")),m.prototype=Object.create(st),m},o.awrap=function(m){return{__await:m}},Q(yt.prototype),O(yt.prototype,B,function(){return this}),o.AsyncIterator=yt,o.async=function(m,b,p,c,w){w===void 0&&(w=Promise);var $=new yt(T(m,b,p,c),w);return o.isGeneratorFunction(b)?$:$.next().then(function(H){return H.done?H.value:$.next()})},Q(st),O(st,A,"Generator"),O(st,v,function(){return this}),O(st,"toString",function(){return"[object Generator]"}),o.keys=function(m){var b=Object(m),p=[];for(var c in b)p.push(c);return p.reverse(),function w(){for(;p.length;){var $=p.pop();if($ in b)return w.value=$,w.done=!1,w}return w.done=!0,w}},o.values=x,S.prototype={constructor:S,reset:function(b){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(y),!b)for(var p in this)p.charAt(0)==="t"&&s.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=r)},stop:function(){this.done=!0;var b=this.tryEntries[0].completion;if(b.type==="throw")throw b.arg;return this.rval},dispatchException:function(b){if(this.done)throw b;var p=this;function c(et,it){return H.type="throw",H.arg=b,p.next=et,it&&(p.method="next",p.arg=r),!!it}for(var w=this.tryEntries.length-1;w>=0;--w){var $=this.tryEntries[w],H=$.completion;if($.tryLoc==="root")return c("end");if($.tryLoc<=this.prev){var V=s.call($,"catchLoc"),tt=s.call($,"finallyLoc");if(V&&tt){if(this.prev<$.catchLoc)return c($.catchLoc,!0);if(this.prev<$.finallyLoc)return c($.finallyLoc)}else if(V){if(this.prev<$.catchLoc)return c($.catchLoc,!0)}else{if(!tt)throw new Error("try statement without catch or finally");if(this.prev<$.finallyLoc)return c($.finallyLoc)}}}},abrupt:function(b,p){for(var c=this.tryEntries.length-1;c>=0;--c){var w=this.tryEntries[c];if(w.tryLoc<=this.prev&&s.call(w,"finallyLoc")&&this.prev<w.finallyLoc){var $=w;break}}$&&(b==="break"||b==="continue")&&$.tryLoc<=p&&p<=$.finallyLoc&&($=null);var H=$?$.completion:{};return H.type=b,H.arg=p,$?(this.method="next",this.next=$.finallyLoc,M):this.complete(H)},complete:function(b,p){if(b.type==="throw")throw b.arg;return b.type==="break"||b.type==="continue"?this.next=b.arg:b.type==="return"?(this.rval=this.arg=b.arg,this.method="return",this.next="end"):b.type==="normal"&&p&&(this.next=p),M},finish:function(b){for(var p=this.tryEntries.length-1;p>=0;--p){var c=this.tryEntries[p];if(c.finallyLoc===b)return this.complete(c.completion,c.afterLoc),y(c),M}},catch:function(b){for(var p=this.tryEntries.length-1;p>=0;--p){var c=this.tryEntries[p];if(c.tryLoc===b){var w=c.completion;if(w.type==="throw"){var $=w.arg;y(c)}return $}}throw new Error("illegal catch attempt")},delegateYield:function(b,p,c){return this.delegate={iterator:x(b),resultName:p,nextLoc:c},this.method==="next"&&(this.arg=r),M}},o}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(ii)),ii.exports}var si,Mo;function Tf(){if(Mo)return si;Mo=1;var n=Lf()();si=n;try{regeneratorRuntime=n}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}return si}var ai={exports:{}},Ro;function Cf(){return Ro||(Ro=1,function(n){function t(r,o,i,s,u,d,v){try{var B=r[d](v),A=B.value}catch(O){i(O);return}B.done?o(A):Promise.resolve(A).then(s,u)}function e(r){return function(){var o=this,i=arguments;return new Promise(function(s,u){var d=r.apply(o,i);function v(A){t(d,s,u,v,B,"next",A)}function B(A){t(d,s,u,v,B,"throw",A)}v(void 0)})}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(ai)),ai.exports}var ci={exports:{}},Lo;function ca(){return Lo||(Lo=1,function(n){function t(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(ci)),ci.exports}var ui={exports:{}},fi={exports:{}},li={exports:{}},To;function Uf(){return To||(To=1,function(n){var t=Jr().default;function e(r,o){if(t(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,o||"default");if(t(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(r)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(li)),li.exports}var Co;function Of(){return Co||(Co=1,function(n){var t=Jr().default,e=Uf();function r(o){var i=e(o,"string");return t(i)==="symbol"?i:String(i)}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports}(fi)),fi.exports}var Uo;function ua(){return Uo||(Uo=1,function(n){var t=Of();function e(o,i){for(var s=0;s<i.length;s++){var u=i[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,t(u.key),u)}}function r(o,i,s){return i&&e(o.prototype,i),s&&e(o,s),Object.defineProperty(o,"prototype",{writable:!1}),o}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports}(ui)),ui.exports}var hi={exports:{}},di={exports:{}},Oo;function Ff(){return Oo||(Oo=1,function(n){function t(e,r){return n.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},n.exports.__esModule=!0,n.exports.default=n.exports,t(e,r)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(di)),di.exports}var Fo;function fa(){return Fo||(Fo=1,function(n){var t=Ff();function e(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),o&&t(r,o)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(hi)),hi.exports}var pi={exports:{}},gi={exports:{}},No;function Nf(){return No||(No=1,function(n){function t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(gi)),gi.exports}var Po;function la(){return Po||(Po=1,function(n){var t=Jr().default,e=Nf();function r(o,i){if(i&&(t(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e(o)}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports}(pi)),pi.exports}var yi={exports:{}},qo;function ha(){return qo||(qo=1,function(n){function t(e){return n.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},n.exports.__esModule=!0,n.exports.default=n.exports,t(e)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(yi)),yi.exports}(function(n){var t=aa;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(Tf()),r=t(Cf()),o=t(Jr()),i=t(ca()),s=t(ua()),u=t(fa()),d=t(la()),v=t(ha()),B=Ci();function A(I){var k=O();return function(){var q=(0,v.default)(I),M;if(k){var G=(0,v.default)(this).constructor;M=Reflect.construct(q,arguments,G)}else M=q.apply(this,arguments);return(0,d.default)(this,M)}}function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var T=function(I,k){var F={};for(var q in I)Object.prototype.hasOwnProperty.call(I,q)&&k.indexOf(q)<0&&(F[q]=I[q]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function")for(var M=0,q=Object.getOwnPropertySymbols(I);M<q.length;M++)k.indexOf(q[M])<0&&Object.prototype.propertyIsEnumerable.call(I,q[M])&&(F[q[M]]=I[q[M]]);return F},L=function(I){(0,u.default)(F,I);var k=A(F);function F(q){var M,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},z=arguments.length>3?arguments[3]:void 0;(0,i.default)(this,F);var K=C.autoconnect,W=K===void 0?!0:K,ct=C.reconnect,st=ct===void 0?!0:ct,Q=C.reconnect_interval,yt=Q===void 0?1e3:Q,_=C.max_reconnects,a=_===void 0?5:_,h=T(C,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return M=k.call(this),M.webSocketFactory=q,M.queue={},M.rpc_id=0,M.address=G,M.autoconnect=W,M.ready=!1,M.reconnect=st,M.reconnect_timer_id=void 0,M.reconnect_interval=yt,M.max_reconnects=a,M.rest_options=h,M.current_reconnects=0,M.generate_request_id=z||function(){return++M.rpc_id},M.autoconnect&&M._connect(M.address,Object.assign({autoconnect:M.autoconnect,reconnect:M.reconnect,reconnect_interval:M.reconnect_interval,max_reconnects:M.max_reconnects},M.rest_options)),M}return(0,s.default)(F,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(M,G,C,z){var K=this;return!z&&(0,o.default)(C)==="object"&&(z=C,C=null),new Promise(function(W,ct){if(!K.ready)return ct(new Error("socket not ready"));var st=K.generate_request_id(M,G),Q={jsonrpc:"2.0",method:M,params:G||null,id:st};K.socket.send(JSON.stringify(Q),z,function(yt){if(yt)return ct(yt);K.queue[st]={promise:[W,ct]},C&&(K.queue[st].timeout=setTimeout(function(){delete K.queue[st],ct(new Error("reply timeout"))},C))})})}},{key:"login",value:function(){var q=(0,r.default)(e.default.mark(function G(C){var z;return e.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,this.call("rpc.login",C);case 2:if(z=W.sent,z){W.next=5;break}throw new Error("authentication failed");case 5:return W.abrupt("return",z);case 6:case"end":return W.stop()}},G,this)}));function M(G){return q.apply(this,arguments)}return M}()},{key:"listMethods",value:function(){var q=(0,r.default)(e.default.mark(function G(){return e.default.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,this.call("__listMethods");case 2:return z.abrupt("return",z.sent);case 3:case"end":return z.stop()}},G,this)}));function M(){return q.apply(this,arguments)}return M}()},{key:"notify",value:function(M,G){var C=this;return new Promise(function(z,K){if(!C.ready)return K(new Error("socket not ready"));var W={jsonrpc:"2.0",method:M,params:G||null};C.socket.send(JSON.stringify(W),function(ct){if(ct)return K(ct);z()})})}},{key:"subscribe",value:function(){var q=(0,r.default)(e.default.mark(function G(C){var z;return e.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return typeof C=="string"&&(C=[C]),W.next=3,this.call("rpc.on",C);case 3:if(z=W.sent,!(typeof C=="string"&&z[C]!=="ok")){W.next=6;break}throw new Error("Failed subscribing to an event '"+C+"' with: "+z[C]);case 6:return W.abrupt("return",z);case 7:case"end":return W.stop()}},G,this)}));function M(G){return q.apply(this,arguments)}return M}()},{key:"unsubscribe",value:function(){var q=(0,r.default)(e.default.mark(function G(C){var z;return e.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return typeof C=="string"&&(C=[C]),W.next=3,this.call("rpc.off",C);case 3:if(z=W.sent,!(typeof C=="string"&&z[C]!=="ok")){W.next=6;break}throw new Error("Failed unsubscribing from an event with: "+z);case 6:return W.abrupt("return",z);case 7:case"end":return W.stop()}},G,this)}));function M(G){return q.apply(this,arguments)}return M}()},{key:"close",value:function(M,G){this.socket.close(M||1e3,G)}},{key:"_connect",value:function(M,G){var C=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(M,G),this.socket.addEventListener("open",function(){C.ready=!0,C.emit("open"),C.current_reconnects=0}),this.socket.addEventListener("message",function(z){var K=z.data;K instanceof ArrayBuffer&&(K=rt.Buffer.from(K).toString());try{K=JSON.parse(K)}catch{return}if(K.notification&&C.listeners(K.notification).length){if(!Object.keys(K.params).length)return C.emit(K.notification);var W=[K.notification];if(K.params.constructor===Object)W.push(K.params);else for(var ct=0;ct<K.params.length;ct++)W.push(K.params[ct]);return Promise.resolve().then(function(){C.emit.apply(C,W)})}if(!C.queue[K.id])return K.method&&K.params?Promise.resolve().then(function(){C.emit(K.method,K.params)}):void 0;"error"in K=="result"in K&&C.queue[K.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),C.queue[K.id].timeout&&clearTimeout(C.queue[K.id].timeout),K.error?C.queue[K.id].promise[1](K.error):C.queue[K.id].promise[0](K.result),delete C.queue[K.id]}),this.socket.addEventListener("error",function(z){return C.emit("error",z)}),this.socket.addEventListener("close",function(z){var K=z.code,W=z.reason;C.ready&&setTimeout(function(){return C.emit("close",K,W)},0),C.ready=!1,C.socket=void 0,K!==1e3&&(C.current_reconnects++,C.reconnect&&(C.max_reconnects>C.current_reconnects||C.max_reconnects===0)&&(C.reconnect_timer_id=setTimeout(function(){return C._connect(M,G)},C.reconnect_interval)))})}}]),F}(B.EventEmitter);n.default=L})(oa);const Pf=Cr(oa);var da={};(function(n){var t=aa;Object.defineProperty(n,"__esModule",{value:!0}),n.default=A;var e=t(ca()),r=t(ua()),o=t(fa()),i=t(la()),s=t(ha()),u=Ci();function d(O){var T=v();return function(){var I=(0,s.default)(O),k;if(T){var F=(0,s.default)(this).constructor;k=Reflect.construct(I,arguments,F)}else k=I.apply(this,arguments);return(0,i.default)(this,k)}}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var B=function(O){(0,o.default)(L,O);var T=d(L);function L(I,k,F){var q;return(0,e.default)(this,L),q=T.call(this),q.socket=new window.WebSocket(I,F),q.socket.onopen=function(){return q.emit("open")},q.socket.onmessage=function(M){return q.emit("message",M.data)},q.socket.onerror=function(M){return q.emit("error",M)},q.socket.onclose=function(M){q.emit("close",M.code,M.reason)},q}return(0,r.default)(L,[{key:"send",value:function(k,F,q){var M=q||F;try{this.socket.send(k),M()}catch(G){M(G)}}},{key:"close",value:function(k,F){this.socket.close(k,F)}},{key:"addEventListener",value:function(k,F,q){this.socket.addEventListener(k,F,q)}}]),L}(u.EventEmitter);function A(O,T){return new B(O,T)}})(da);const qf=Cr(da);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Df(n){const t=Pi(n);Ur(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:e,Fp:r,a:o}=t;if(e){if(!r.eql(o,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof e!="object"||typeof e.beta!="bigint"||typeof e.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:zf,hexToBytes:$f}=$c,fr={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(n){const{Err:t}=fr;if(n.length<2||n[0]!==2)throw new t("Invalid signature integer tag");const e=n[1],r=n.subarray(2,e+2);if(!e||r.length!==e)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:zf(r),l:n.subarray(e+2)}},toSig(n){const{Err:t}=fr,e=typeof n=="string"?$f(n):n;if(!(e instanceof Uint8Array))throw new Error("ui8a expected");let r=e.length;if(r<2||e[0]!=48)throw new t("Invalid signature tag");if(e[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:o,l:i}=fr._parseInt(e.subarray(2)),{d:s,l:u}=fr._parseInt(i);if(u.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s}},hexFromSig(n){const t=v=>Number.parseInt(v[0],16)&8?"00"+v:v,e=v=>{const B=v.toString(16);return B.length&1?`0${B}`:B},r=t(e(n.s)),o=t(e(n.r)),i=r.length/2,s=o.length/2,u=e(i),d=e(s);return`30${e(s+i+4)}02${d}${o}02${u}${r}`}},Ze=BigInt(0),Ce=BigInt(1);BigInt(2);const Do=BigInt(3);BigInt(4);function Kf(n){const t=Df(n),{Fp:e}=t,r=t.toBytes||((L,I,k)=>{const F=I.toAffine();return gr(Uint8Array.from([4]),e.toBytes(F.x),e.toBytes(F.y))}),o=t.fromBytes||(L=>{const I=L.subarray(1),k=e.fromBytes(I.subarray(0,e.BYTES)),F=e.fromBytes(I.subarray(e.BYTES,2*e.BYTES));return{x:k,y:F}});function i(L){const{a:I,b:k}=t,F=e.sqr(L),q=e.mul(F,L);return e.add(e.add(q,e.mul(L,I)),k)}if(!e.eql(e.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function s(L){return typeof L=="bigint"&&Ze<L&&L<t.n}function u(L){if(!s(L))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function d(L){const{allowedPrivateKeyLengths:I,nByteLength:k,wrapPrivateKey:F,n:q}=t;if(I&&typeof L!="bigint"){if(L instanceof Uint8Array&&(L=pr(L)),typeof L!="string"||!I.includes(L.length))throw new Error("Invalid key");L=L.padStart(k*2,"0")}let M;try{M=typeof L=="bigint"?L:hr(ue("private key",L,k))}catch{throw new Error(`private key must be ${k} bytes, hex or bigint, not ${typeof L}`)}return F&&(M=Dt(M,q)),u(M),M}const v=new Map;function B(L){if(!(L instanceof A))throw new Error("ProjectivePoint expected")}class A{constructor(I,k,F){if(this.px=I,this.py=k,this.pz=F,I==null||!e.isValid(I))throw new Error("x required");if(k==null||!e.isValid(k))throw new Error("y required");if(F==null||!e.isValid(F))throw new Error("z required")}static fromAffine(I){const{x:k,y:F}=I||{};if(!I||!e.isValid(k)||!e.isValid(F))throw new Error("invalid affine point");if(I instanceof A)throw new Error("projective point not allowed");const q=M=>e.eql(M,e.ZERO);return q(k)&&q(F)?A.ZERO:new A(k,F,e.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(I){const k=e.invertBatch(I.map(F=>F.pz));return I.map((F,q)=>F.toAffine(k[q])).map(A.fromAffine)}static fromHex(I){const k=A.fromAffine(o(ue("pointHex",I)));return k.assertValidity(),k}static fromPrivateKey(I){return A.BASE.multiply(d(I))}_setWindowSize(I){this._WINDOW_SIZE=I,v.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!e.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:I,y:k}=this.toAffine();if(!e.isValid(I)||!e.isValid(k))throw new Error("bad point: x or y not FE");const F=e.sqr(k),q=i(I);if(!e.eql(F,q))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:I}=this.toAffine();if(e.isOdd)return!e.isOdd(I);throw new Error("Field doesn't support isOdd")}equals(I){B(I);const{px:k,py:F,pz:q}=this,{px:M,py:G,pz:C}=I,z=e.eql(e.mul(k,C),e.mul(M,q)),K=e.eql(e.mul(F,C),e.mul(G,q));return z&&K}negate(){return new A(this.px,e.neg(this.py),this.pz)}double(){const{a:I,b:k}=t,F=e.mul(k,Do),{px:q,py:M,pz:G}=this;let C=e.ZERO,z=e.ZERO,K=e.ZERO,W=e.mul(q,q),ct=e.mul(M,M),st=e.mul(G,G),Q=e.mul(q,M);return Q=e.add(Q,Q),K=e.mul(q,G),K=e.add(K,K),C=e.mul(I,K),z=e.mul(F,st),z=e.add(C,z),C=e.sub(ct,z),z=e.add(ct,z),z=e.mul(C,z),C=e.mul(Q,C),K=e.mul(F,K),st=e.mul(I,st),Q=e.sub(W,st),Q=e.mul(I,Q),Q=e.add(Q,K),K=e.add(W,W),W=e.add(K,W),W=e.add(W,st),W=e.mul(W,Q),z=e.add(z,W),st=e.mul(M,G),st=e.add(st,st),W=e.mul(st,Q),C=e.sub(C,W),K=e.mul(st,ct),K=e.add(K,K),K=e.add(K,K),new A(C,z,K)}add(I){B(I);const{px:k,py:F,pz:q}=this,{px:M,py:G,pz:C}=I;let z=e.ZERO,K=e.ZERO,W=e.ZERO;const ct=t.a,st=e.mul(t.b,Do);let Q=e.mul(k,M),yt=e.mul(F,G),_=e.mul(q,C),a=e.add(k,F),h=e.add(M,G);a=e.mul(a,h),h=e.add(Q,yt),a=e.sub(a,h),h=e.add(k,q);let y=e.add(M,C);return h=e.mul(h,y),y=e.add(Q,_),h=e.sub(h,y),y=e.add(F,q),z=e.add(G,C),y=e.mul(y,z),z=e.add(yt,_),y=e.sub(y,z),W=e.mul(ct,h),z=e.mul(st,_),W=e.add(z,W),z=e.sub(yt,W),W=e.add(yt,W),K=e.mul(z,W),yt=e.add(Q,Q),yt=e.add(yt,Q),_=e.mul(ct,_),h=e.mul(st,h),yt=e.add(yt,_),_=e.sub(Q,_),_=e.mul(ct,_),h=e.add(h,_),Q=e.mul(yt,h),K=e.add(K,Q),Q=e.mul(y,h),z=e.mul(a,z),z=e.sub(z,Q),Q=e.mul(a,yt),W=e.mul(y,W),W=e.add(W,Q),new A(z,K,W)}subtract(I){return this.add(I.negate())}is0(){return this.equals(A.ZERO)}wNAF(I){return T.wNAFCached(this,v,I,k=>{const F=e.invertBatch(k.map(q=>q.pz));return k.map((q,M)=>q.toAffine(F[M])).map(A.fromAffine)})}multiplyUnsafe(I){const k=A.ZERO;if(I===Ze)return k;if(u(I),I===Ce)return this;const{endo:F}=t;if(!F)return T.unsafeLadder(this,I);let{k1neg:q,k1:M,k2neg:G,k2:C}=F.splitScalar(I),z=k,K=k,W=this;for(;M>Ze||C>Ze;)M&Ce&&(z=z.add(W)),C&Ce&&(K=K.add(W)),W=W.double(),M>>=Ce,C>>=Ce;return q&&(z=z.negate()),G&&(K=K.negate()),K=new A(e.mul(K.px,F.beta),K.py,K.pz),z.add(K)}multiply(I){u(I);let k=I,F,q;const{endo:M}=t;if(M){const{k1neg:G,k1:C,k2neg:z,k2:K}=M.splitScalar(k);let{p:W,f:ct}=this.wNAF(C),{p:st,f:Q}=this.wNAF(K);W=T.constTimeNegate(G,W),st=T.constTimeNegate(z,st),st=new A(e.mul(st.px,M.beta),st.py,st.pz),F=W.add(st),q=ct.add(Q)}else{const{p:G,f:C}=this.wNAF(k);F=G,q=C}return A.normalizeZ([F,q])[0]}multiplyAndAddUnsafe(I,k,F){const q=A.BASE,M=(C,z)=>z===Ze||z===Ce||!C.equals(q)?C.multiplyUnsafe(z):C.multiply(z),G=M(this,k).add(M(I,F));return G.is0()?void 0:G}toAffine(I){const{px:k,py:F,pz:q}=this,M=this.is0();I==null&&(I=M?e.ONE:e.inv(q));const G=e.mul(k,I),C=e.mul(F,I),z=e.mul(q,I);if(M)return{x:e.ZERO,y:e.ZERO};if(!e.eql(z,e.ONE))throw new Error("invZ was invalid");return{x:G,y:C}}isTorsionFree(){const{h:I,isTorsionFree:k}=t;if(I===Ce)return!0;if(k)return k(A,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:I,clearCofactor:k}=t;return I===Ce?this:k?k(A,this):this.multiplyUnsafe(t.h)}toRawBytes(I=!0){return this.assertValidity(),r(A,this,I)}toHex(I=!0){return pr(this.toRawBytes(I))}}A.BASE=new A(t.Gx,t.Gy,e.ONE),A.ZERO=new A(e.ZERO,e.ONE,e.ZERO);const O=t.nBitLength,T=Ss(A,t.endo?Math.ceil(O/2):O);return{CURVE:t,ProjectivePoint:A,normPrivateKeyToScalar:d,weierstrassEquation:i,isWithinCurveOrder:s}}function Hf(n){const t=Pi(n);return Ur(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Wf(n){const t=Hf(n),{Fp:e,n:r}=t,o=e.BYTES+1,i=2*e.BYTES+1;function s(h){return Ze<h&&h<e.ORDER}function u(h){return Dt(h,r)}function d(h){return Ei(h,r)}const{ProjectivePoint:v,normPrivateKeyToScalar:B,weierstrassEquation:A,isWithinCurveOrder:O}=Kf({...t,toBytes(h,y,S){const x=y.toAffine(),m=e.toBytes(x.x),b=gr;return S?b(Uint8Array.from([y.hasEvenY()?2:3]),m):b(Uint8Array.from([4]),m,e.toBytes(x.y))},fromBytes(h){const y=h.length,S=h[0],x=h.subarray(1);if(y===o&&(S===2||S===3)){const m=hr(x);if(!s(m))throw new Error("Point is not on curve");const b=A(m);let p=e.sqrt(b);const c=(p&Ce)===Ce;return(S&1)===1!==c&&(p=e.neg(p)),{x:m,y:p}}else if(y===i&&S===4){const m=e.fromBytes(x.subarray(0,e.BYTES)),b=e.fromBytes(x.subarray(e.BYTES,2*e.BYTES));return{x:m,y:b}}else throw new Error(`Point of length ${y} was invalid. Expected ${o} compressed bytes or ${i} uncompressed bytes`)}}),T=h=>pr(Mr(h,t.nByteLength));function L(h){const y=r>>Ce;return h>y}function I(h){return L(h)?u(-h):h}const k=(h,y,S)=>hr(h.slice(y,S));class F{constructor(y,S,x){this.r=y,this.s=S,this.recovery=x,this.assertValidity()}static fromCompact(y){const S=t.nByteLength;return y=ue("compactSignature",y,S*2),new F(k(y,0,S),k(y,S,2*S))}static fromDER(y){const{r:S,s:x}=fr.toSig(ue("DER",y));return new F(S,x)}assertValidity(){if(!O(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!O(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(y){return new F(this.r,this.s,y)}recoverPublicKey(y){const{r:S,s:x,recovery:m}=this,b=K(ue("msgHash",y));if(m==null||![0,1,2,3].includes(m))throw new Error("recovery id invalid");const p=m===2||m===3?S+t.n:S;if(p>=e.ORDER)throw new Error("recovery id 2 or 3 invalid");const c=m&1?"03":"02",w=v.fromHex(c+T(p)),$=d(p),H=u(-b*$),V=u(x*$),tt=v.BASE.multiplyAndAddUnsafe(w,H,V);if(!tt)throw new Error("point at infinify");return tt.assertValidity(),tt}hasHighS(){return L(this.s)}normalizeS(){return this.hasHighS()?new F(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return kr(this.toDERHex())}toDERHex(){return fr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return kr(this.toCompactHex())}toCompactHex(){return T(this.r)+T(this.s)}}const q={isValidPrivateKey(h){try{return B(h),!0}catch{return!1}},normPrivateKeyToScalar:B,randomPrivateKey:()=>{const h=Es(t.n);return Qc(t.randomBytes(h),t.n)},precompute(h=8,y=v.BASE){return y._setWindowSize(h),y.multiply(BigInt(3)),y}};function M(h,y=!0){return v.fromPrivateKey(h).toRawBytes(y)}function G(h){const y=h instanceof Uint8Array,S=typeof h=="string",x=(y||S)&&h.length;return y?x===o||x===i:S?x===2*o||x===2*i:h instanceof v}function C(h,y,S=!0){if(G(h))throw new Error("first arg must be private key");if(!G(y))throw new Error("second arg must be public key");return v.fromHex(y).multiply(B(h)).toRawBytes(S)}const z=t.bits2int||function(h){const y=hr(h),S=h.length*8-t.nBitLength;return S>0?y>>BigInt(S):y},K=t.bits2int_modN||function(h){return u(z(h))},W=Ni(t.nBitLength);function ct(h){if(typeof h!="bigint")throw new Error("bigint expected");if(!(Ze<=h&&h<W))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Mr(h,t.nByteLength)}function st(h,y,S=Q){if(["recovered","canonical"].some(it=>it in S))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:m}=t;let{lowS:b,prehash:p,extraEntropy:c}=S;b==null&&(b=!0),h=ue("msgHash",h),p&&(h=ue("prehashed msgHash",x(h)));const w=K(h),$=B(y),H=[ct($),ct(w)];if(c!=null){const it=c===!0?m(e.BYTES):c;H.push(ue("extraEntropy",it))}const V=gr(...H),tt=w;function et(it){const Bt=z(it);if(!O(Bt))return;const mt=d(Bt),dt=v.BASE.multiply(Bt).toAffine(),Lt=u(dt.x);if(Lt===Ze)return;const xt=u(mt*u(tt+Lt*$));if(xt===Ze)return;let At=(dt.x===Lt?0:2)|Number(dt.y&Ce),De=xt;return b&&L(xt)&&(De=I(xt),At^=1),new F(Lt,De,At)}return{seed:V,k2sig:et}}const Q={lowS:t.lowS,prehash:!1},yt={lowS:t.lowS,prehash:!1};function _(h,y,S=Q){const{seed:x,k2sig:m}=st(h,y,S),b=t;return ws(b.hash.outputLen,b.nByteLength,b.hmac)(x,m)}v.BASE._setWindowSize(8);function a(h,y,S,x=yt){const m=h;if(y=ue("msgHash",y),S=ue("publicKey",S),"strict"in x)throw new Error("options.strict was renamed to lowS");const{lowS:b,prehash:p}=x;let c,w;try{if(typeof m=="string"||m instanceof Uint8Array)try{c=F.fromDER(m)}catch(dt){if(!(dt instanceof fr.Err))throw dt;c=F.fromCompact(m)}else if(typeof m=="object"&&typeof m.r=="bigint"&&typeof m.s=="bigint"){const{r:dt,s:Lt}=m;c=new F(dt,Lt)}else throw new Error("PARSE");w=v.fromHex(S)}catch(dt){if(dt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(b&&c.hasHighS())return!1;p&&(y=t.hash(y));const{r:$,s:H}=c,V=K(y),tt=d(H),et=u(V*tt),it=u($*tt),Bt=v.BASE.multiplyAndAddUnsafe(w,et,it)?.toAffine();return Bt?u(Bt.x)===$:!1}return{CURVE:t,getPublicKey:M,getSharedSecret:C,sign:_,verify:a,ProjectivePoint:v,Signature:F,utils:q}}class pa extends fs{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,ic(t);const r=Oi(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(r.length>o?t.create().update(r).digest():r);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=t.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(t){return on(this),this.iHash.update(t),this}digestInto(t){on(this),ss(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:o,destroyed:i,blockLen:s,outputLen:u}=this;return t=t,t.finished=o,t.destroyed=i,t.blockLen=s,t.outputLen=u,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ga=(n,t,e)=>new pa(n,t).update(e).digest();ga.create=(n,t)=>new pa(n,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function jf(n){return{hash:n,hmac:(t,...e)=>ga(n,t,us(...e)),randomBytes:hs}}function Gf(n,t){const e=r=>Wf({...n,...jf(r)});return Object.freeze({...e(t),create:e})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ya=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),zo=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Vf=BigInt(1),Ii=BigInt(2),$o=(n,t)=>(n+t/Ii)/t;function Zf(n){const t=ya,e=BigInt(3),r=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),u=BigInt(44),d=BigInt(88),v=n*n*n%t,B=v*v*n%t,A=Kt(B,e,t)*B%t,O=Kt(A,e,t)*B%t,T=Kt(O,Ii,t)*v%t,L=Kt(T,o,t)*T%t,I=Kt(L,i,t)*L%t,k=Kt(I,u,t)*I%t,F=Kt(k,d,t)*k%t,q=Kt(F,u,t)*I%t,M=Kt(q,e,t)*B%t,G=Kt(M,s,t)*L%t,C=Kt(G,r,t)*v%t,z=Kt(C,Ii,t);if(!ki.eql(ki.sqr(z),n))throw new Error("Cannot find square root");return z}const ki=vs(ya,void 0,void 0,{sqrt:Zf}),eo=Gf({a:BigInt(0),b:BigInt(7),Fp:ki,n:zo,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const t=zo,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Vf*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=e,s=BigInt("0x100000000000000000000000000000000"),u=$o(i*n,t),d=$o(-r*n,t);let v=Dt(n-u*e-d*o,t),B=Dt(-u*r-d*i,t);const A=v>s,O=B>s;if(A&&(v=t-v),O&&(B=t-B),v>s||B>s)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:A,k1:v,k2neg:O,k2:B}}}},_i);BigInt(0);eo.ProjectivePoint;yn.utils.randomPrivateKey;function Ko(n){try{return yn.ExtendedPoint.fromHex(n),!0}catch{return!1}}const ma=(n,t)=>yn.sign(n,t.slice(0,32)),Yf=yn.verify,Lr=n=>rt.Buffer.isBuffer(n)?n:n instanceof Uint8Array?rt.Buffer.from(n.buffer,n.byteOffset,n.byteLength):rt.Buffer.from(n);class Jf{constructor(t){Object.assign(this,t)}encode(){return rt.Buffer.from(Cs(nn,this))}static decode(t){return Us(nn,this,t)}static decodeUnchecked(t){return ks(nn,this,t)}}const nn=new Map;var wa;let ba;const Xf=32,Ke=32;function Qf(n){return n._bn!==void 0}let Ho=1;ba=Symbol.toStringTag;class lt extends Jf{constructor(t){if(super({}),this._bn=void 0,Qf(t))this._bn=t._bn;else{if(typeof t=="string"){const e=pe.decode(t);if(e.length!=Ke)throw new Error("Invalid public key input");this._bn=new Bo(e)}else this._bn=new Bo(t);if(this._bn.byteLength()>Ke)throw new Error("Invalid public key input")}}static unique(){const t=new lt(Ho);return Ho+=1,new lt(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return pe.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(rt.Buffer);if(t.length===Ke)return t;const e=rt.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[ba](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,r){const o=rt.Buffer.concat([t.toBuffer(),rt.Buffer.from(e),r.toBuffer()]),i=_i(o);return new lt(i)}static createProgramAddressSync(t,e){let r=rt.Buffer.alloc(0);t.forEach(function(i){if(i.length>Xf)throw new TypeError("Max seed length exceeded");r=rt.Buffer.concat([r,Lr(i)])}),r=rt.Buffer.concat([r,e.toBuffer(),rt.Buffer.from("ProgramDerivedAddress")]);const o=_i(r);if(Ko(o))throw new Error("Invalid seeds, address must fall off the curve");return new lt(o)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let r=255,o;for(;r!=0;){try{const i=t.concat(rt.Buffer.from([r]));o=this.createProgramAddressSync(i,e)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[o,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){const e=new lt(t);return Ko(e.toBytes())}}wa=lt;lt.default=new wa("11111111111111111111111111111111");nn.set(lt,{kind:"struct",fields:[["_bn","u256"]]});new lt("BPFLoader1111111111111111111111111111111111");const Ar=1280-40-8,ro=127,Hr=64;class va extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(va.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class xa extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(xa.prototype,"name",{value:"TransactionExpiredTimeoutError"});class qr extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(qr.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class ln{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,s)=>{r.set(i.toBase58(),s)});const o=i=>{const s=r.get(i.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return t.map(i=>({programIdIndex:o(i.programId),accountKeyIndexes:i.keys.map(s=>o(s.pubkey)),data:i.data}))}}const vt=(n="publicKey")=>Ft(32,n),tl=(n="signature")=>Ft(64,n),Br=(n="string")=>{const t=nt([at("length"),at("lengthPadding"),Ft(dr(at(),-8),"chars")],n),e=t.decode.bind(t),r=t.encode.bind(t),o=t;return o.decode=(i,s)=>e(i,s).chars.toString(),o.encode=(i,s,u)=>{const d={chars:rt.Buffer.from(i,"utf8")};return r(d,s,u)},o.alloc=i=>at().span+at().span+rt.Buffer.from(i,"utf8").length,o},el=(n="authorized")=>nt([vt("staker"),vt("withdrawer")],n),rl=(n="lockup")=>nt([Ie("unixTimestamp"),Ie("epoch"),vt("custodian")],n),nl=(n="voteInit")=>nt([vt("nodePubkey"),vt("authorizedVoter"),vt("authorizedWithdrawer"),_t("commission")],n),il=(n="voteAuthorizeWithSeedArgs")=>nt([at("voteAuthorizationType"),vt("currentAuthorityDerivedKeyOwnerPubkey"),Br("currentAuthorityDerivedKeySeed"),vt("newAuthorized")],n);function ke(n){let t=0,e=0;for(;;){let r=n.shift();if(t|=(r&127)<<e*7,e+=1,!(r&128))break}return t}function Me(n,t){let e=t;for(;;){let r=e&127;if(e>>=7,e==0){n.push(r);break}else r|=128,n.push(r)}}function qt(n,t){if(!n)throw new Error(t||"Assertion failed")}class Sn{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const r=new Map,o=s=>{const u=s.toBase58();let d=r.get(u);return d===void 0&&(d={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(u,d)),d},i=o(e);i.isSigner=!0,i.isWritable=!0;for(const s of t){o(s.programId).isInvoked=!0;for(const u of s.keys){const d=o(u.pubkey);d.isSigner||=u.isSigner,d.isWritable||=u.isWritable}}return new Sn(e,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];qt(t.length<=256,"Max static account keys length exceeded");const e=t.filter(([,d])=>d.isSigner&&d.isWritable),r=t.filter(([,d])=>d.isSigner&&!d.isWritable),o=t.filter(([,d])=>!d.isSigner&&d.isWritable),i=t.filter(([,d])=>!d.isSigner&&!d.isWritable),s={numRequiredSignatures:e.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{qt(e.length>0,"Expected at least one writable signer key");const[d]=e[0];qt(d===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const u=[...e.map(([d])=>new lt(d)),...r.map(([d])=>new lt(d)),...o.map(([d])=>new lt(d)),...i.map(([d])=>new lt(d))];return[s,u]}extractTableLookup(t){const[e,r]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[o,i]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(e.length===0&&o.length===0))return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:o},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(t,e){const r=new Array,o=new Array;for(const[i,s]of this.keyMetaMap.entries())if(e(s)){const u=new lt(i),d=t.findIndex(v=>v.equals(u));d>=0&&(qt(d<256,"Max lookup table index exceeded"),r.push(d),o.push(u),this.keyMetaMap.delete(i))}return[r,o]}}class Je{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(e=>new lt(e)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:pe.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new ln(this.staticAccountKeys)}static compile(t){const e=Sn.compile(t.instructions,t.payerKey),[r,o]=e.getMessageComponents(),s=new ln(o).compileInstructions(t.instructions).map(u=>({programIdIndex:u.programIdIndex,accounts:u.accountKeyIndexes,data:pe.encode(u.data)}));return new Je({header:r,accountKeys:o,recentBlockhash:t.recentBlockhash,instructions:s})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const r=t-e,i=this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=e-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,e)=>!this.isProgramId(e))}serialize(){const t=this.accountKeys.length;let e=[];Me(e,t);const r=this.instructions.map(A=>{const{accounts:O,programIdIndex:T}=A,L=Array.from(pe.decode(A.data));let I=[];Me(I,O.length);let k=[];return Me(k,L.length),{programIdIndex:T,keyIndicesCount:rt.Buffer.from(I),keyIndices:O,dataLength:rt.Buffer.from(k),data:L}});let o=[];Me(o,r.length);let i=rt.Buffer.alloc(Ar);rt.Buffer.from(o).copy(i);let s=o.length;r.forEach(A=>{const T=nt([_t("programIdIndex"),Ft(A.keyIndicesCount.length,"keyIndicesCount"),ve(_t("keyIndex"),A.keyIndices.length,"keyIndices"),Ft(A.dataLength.length,"dataLength"),ve(_t("userdatum"),A.data.length,"data")]).encode(A,i,s);s+=T}),i=i.slice(0,s);const u=nt([Ft(1,"numRequiredSignatures"),Ft(1,"numReadonlySignedAccounts"),Ft(1,"numReadonlyUnsignedAccounts"),Ft(e.length,"keyCount"),ve(vt("key"),t,"keys"),vt("recentBlockhash")]),d={numRequiredSignatures:rt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:rt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:rt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:rt.Buffer.from(e),keys:this.accountKeys.map(A=>Lr(A.toBytes())),recentBlockhash:pe.decode(this.recentBlockhash)};let v=rt.Buffer.alloc(2048);const B=u.encode(d,v);return i.copy(v,B),v.slice(0,B+i.length)}static from(t){let e=[...t];const r=e.shift();if(r!==(r&ro))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const o=e.shift(),i=e.shift(),s=ke(e);let u=[];for(let O=0;O<s;O++){const T=e.slice(0,Ke);e=e.slice(Ke),u.push(new lt(rt.Buffer.from(T)))}const d=e.slice(0,Ke);e=e.slice(Ke);const v=ke(e);let B=[];for(let O=0;O<v;O++){const T=e.shift(),L=ke(e),I=e.slice(0,L);e=e.slice(L);const k=ke(e),F=e.slice(0,k),q=pe.encode(rt.Buffer.from(F));e=e.slice(k),B.push({programIdIndex:T,accounts:I,data:q})}const A={header:{numRequiredSignatures:r,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:i},recentBlockhash:pe.encode(rt.Buffer.from(d)),accountKeys:u,instructions:B};return new Je(A)}}class Wr{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new ln(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(t>=r){const o=t-r,i=this.addressTableLookups.reduce((s,u)=>s+u.writableIndexes.length,0);return o<i}else if(t>=this.header.numRequiredSignatures){const o=t-e,s=r-e-this.header.numReadonlyUnsignedAccounts;return o<s}else{const o=e-this.header.numReadonlySignedAccounts;return t<o}}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const r of this.addressTableLookups){const o=t.find(i=>i.key.equals(r.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<o.state.addresses.length)e.writable.push(o.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<o.state.addresses.length)e.readonly.push(o.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return e}static compile(t){const e=Sn.compile(t.instructions,t.payerKey),r=new Array,o={writable:new Array,readonly:new Array},i=t.addressLookupTableAccounts||[];for(const B of i){const A=e.extractTableLookup(B);if(A!==void 0){const[O,{writable:T,readonly:L}]=A;r.push(O),o.writable.push(...T),o.readonly.push(...L)}}const[s,u]=e.getMessageComponents(),v=new ln(u,o).compileInstructions(t.instructions);return new Wr({header:s,staticAccountKeys:u,recentBlockhash:t.recentBlockhash,compiledInstructions:v,addressTableLookups:r})}serialize(){const t=Array();Me(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),r=Array();Me(r,this.compiledInstructions.length);const o=this.serializeAddressTableLookups(),i=Array();Me(i,this.addressTableLookups.length);const s=nt([_t("prefix"),nt([_t("numRequiredSignatures"),_t("numReadonlySignedAccounts"),_t("numReadonlyUnsignedAccounts")],"header"),Ft(t.length,"staticAccountKeysLength"),ve(vt(),this.staticAccountKeys.length,"staticAccountKeys"),vt("recentBlockhash"),Ft(r.length,"instructionsLength"),Ft(e.length,"serializedInstructions"),Ft(i.length,"addressTableLookupsLength"),Ft(o.length,"serializedAddressTableLookups")]),u=new Uint8Array(Ar),d=128,v=s.encode({prefix:d,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(B=>B.toBytes()),recentBlockhash:pe.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:o},u);return u.slice(0,v)}serializeInstructions(){let t=0;const e=new Uint8Array(Ar);for(const r of this.compiledInstructions){const o=Array();Me(o,r.accountKeyIndexes.length);const i=Array();Me(i,r.data.length);const s=nt([_t("programIdIndex"),Ft(o.length,"encodedAccountKeyIndexesLength"),ve(_t(),r.accountKeyIndexes.length,"accountKeyIndexes"),Ft(i.length,"encodedDataLength"),Ft(r.data.length,"data")]);t+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(Ar);for(const r of this.addressTableLookups){const o=Array();Me(o,r.writableIndexes.length);const i=Array();Me(i,r.readonlyIndexes.length);const s=nt([vt("accountKey"),Ft(o.length,"encodedWritableIndexesLength"),ve(_t(),r.writableIndexes.length,"writableIndexes"),Ft(i.length,"encodedReadonlyIndexesLength"),ve(_t(),r.readonlyIndexes.length,"readonlyIndexes")]);t+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const r=e.shift(),o=r&ro;qt(r!==o,"Expected versioned message but received legacy message");const i=o;qt(i===0,`Expected versioned message with version 0 but found version ${i}`);const s={numRequiredSignatures:e.shift(),numReadonlySignedAccounts:e.shift(),numReadonlyUnsignedAccounts:e.shift()},u=[],d=ke(e);for(let L=0;L<d;L++)u.push(new lt(e.splice(0,Ke)));const v=pe.encode(e.splice(0,Ke)),B=ke(e),A=[];for(let L=0;L<B;L++){const I=e.shift(),k=ke(e),F=e.splice(0,k),q=ke(e),M=new Uint8Array(e.splice(0,q));A.push({programIdIndex:I,accountKeyIndexes:F,data:M})}const O=ke(e),T=[];for(let L=0;L<O;L++){const I=new lt(e.splice(0,Ke)),k=ke(e),F=e.splice(0,k),q=ke(e),M=e.splice(0,q);T.push({accountKey:I,writableIndexes:F,readonlyIndexes:M})}return new Wr({header:s,staticAccountKeys:u,recentBlockhash:v,compiledInstructions:A,addressTableLookups:T})}}const Ea={deserializeMessageVersion(n){const t=n[0],e=t&ro;return e===t?"legacy":e},deserialize:n=>{const t=Ea.deserializeMessageVersion(n);if(t==="legacy")return Je.from(n);if(t===0)return Wr.deserialize(n);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let rr=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const ol=rt.Buffer.alloc(Hr).fill(0);class Wo{constructor(t){this.keys=void 0,this.programId=void 0,this.data=rt.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:e,isWritable:r})=>({pubkey:t.toJSON(),isSigner:e,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class nr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:r}=t;this.minNonceContextSlot=e,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:r}=t;this.recentBlockhash=e,this.lastValidBlockHeight=r}else{const{recentBlockhash:e,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new Wo(e))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?e=[this.nonceInfo.nonceInstruction,...this.instructions]:e=this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");e.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let I=0;I<e.length;I++)if(e[I].programId===void 0)throw new Error(`Transaction instruction index ${I} has undefined program id`);const o=[],i=[];e.forEach(I=>{I.keys.forEach(F=>{i.push({...F})});const k=I.programId.toString();o.includes(k)||o.push(k)}),o.forEach(I=>{i.push({pubkey:new lt(I),isSigner:!1,isWritable:!1})});const s=[];i.forEach(I=>{const k=I.pubkey.toString(),F=s.findIndex(q=>q.pubkey.toString()===k);F>-1?(s[F].isWritable=s[F].isWritable||I.isWritable,s[F].isSigner=s[F].isSigner||I.isSigner):s.push(I)}),s.sort(function(I,k){if(I.isSigner!==k.isSigner)return I.isSigner?-1:1;if(I.isWritable!==k.isWritable)return I.isWritable?-1:1;const F={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return I.pubkey.toBase58().localeCompare(k.pubkey.toBase58(),"en",F)});const u=s.findIndex(I=>I.pubkey.equals(r));if(u>-1){const[I]=s.splice(u,1);I.isSigner=!0,I.isWritable=!0,s.unshift(I)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const I of this.signatures){const k=s.findIndex(F=>F.pubkey.equals(I.publicKey));if(k>-1)s[k].isSigner||(s[k].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${I.publicKey.toString()}`)}let d=0,v=0,B=0;const A=[],O=[];s.forEach(({pubkey:I,isSigner:k,isWritable:F})=>{k?(A.push(I.toString()),d+=1,F||(v+=1)):(O.push(I.toString()),F||(B+=1))});const T=A.concat(O),L=e.map(I=>{const{data:k,programId:F}=I;return{programIdIndex:T.indexOf(F.toString()),accounts:I.keys.map(q=>T.indexOf(q.pubkey.toString())),data:pe.encode(k)}});return L.forEach(I=>{qt(I.programIdIndex>=0),I.accounts.forEach(k=>qt(k>=0))}),new Je({header:{numRequiredSignatures:d,numReadonlySignedAccounts:v,numReadonlyUnsignedAccounts:B},accountKeys:T,recentBlockhash:t,instructions:L})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every((o,i)=>e[i].equals(o.publicKey))||(this.signatures=e.map(r=>({signature:null,publicKey:r}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const e=new Set;this.signatures=t.filter(r=>{const o=r.toString();return e.has(o)?!1:(e.add(o),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,r=[];for(const i of t){const s=i.publicKey.toString();e.has(s)||(e.add(s),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const o=this._compile();this._partialSign(o,...r)}partialSign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,r=[];for(const i of t){const s=i.publicKey.toString();e.has(s)||(e.add(s),r.push(i))}const o=this._compile();this._partialSign(o,...r)}_partialSign(t,...e){const r=t.serialize();e.forEach(o=>{const i=ma(r,o.secretKey);this._addSignature(o.publicKey,Lr(i))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){qt(e.length===64);const r=this.signatures.findIndex(o=>t.equals(o.publicKey));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=rt.Buffer.from(e)}verifySignatures(t){return this._verifySignatures(this.serializeMessage(),t===void 0?!0:t)}_verifySignatures(t,e){for(const{signature:r,publicKey:o}of this.signatures)if(r===null){if(e)return!1}else if(!Yf(r,t,o.toBytes()))return!1;return!0}serialize(t){const{requireAllSignatures:e,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),o=this.serializeMessage();if(r&&!this._verifySignatures(o,e))throw new Error("Signature verification failed");return this._serialize(o)}_serialize(t){const{signatures:e}=this,r=[];Me(r,e.length);const o=r.length+e.length*64+t.length,i=rt.Buffer.alloc(o);return qt(e.length<256),rt.Buffer.from(r).copy(i,0),e.forEach(({signature:s},u)=>{s!==null&&(qt(s.length===64,"signature has invalid length"),rt.Buffer.from(s).copy(i,r.length+u*64))}),t.copy(i,r.length+e.length*64),qt(i.length<=Ar,`Transaction too large: ${i.length} > ${Ar}`),i}get keys(){return qt(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return qt(this.instructions.length===1),this.instructions[0].programId}get data(){return qt(this.instructions.length===1),this.instructions[0].data}static from(t){let e=[...t];const r=ke(e);let o=[];for(let i=0;i<r;i++){const s=e.slice(0,Hr);e=e.slice(Hr),o.push(pe.encode(rt.Buffer.from(s)))}return nr.populate(Je.from(e),o)}static populate(t,e=[]){const r=new nr;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),e.forEach((o,i)=>{const s={signature:o==pe.encode(ol)?null:pe.decode(o),publicKey:t.accountKeys[i]};r.signatures.push(s)}),t.instructions.forEach(o=>{const i=o.accounts.map(s=>{const u=t.accountKeys[s];return{pubkey:u,isSigner:r.signatures.some(d=>d.publicKey.toString()===u.toString())||t.isAccountSigner(s),isWritable:t.isAccountWritable(s)}});r.instructions.push(new Wo({keys:i,programId:t.accountKeys[o.programIdIndex],data:pe.decode(o.data)}))}),r._message=t,r._json=r.toJSON(),r}}class Sa{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,e!==void 0)qt(e.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=e;else{const r=[];for(let o=0;o<t.header.numRequiredSignatures;o++)r.push(new Uint8Array(Hr));this.signatures=r}this.message=t}serialize(){const t=this.message.serialize(),e=Array();Me(e,this.signatures.length);const r=nt([Ft(e.length,"encodedSignaturesLength"),ve(tl(),this.signatures.length,"signatures"),Ft(t.length,"serializedMessage")]),o=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},o);return o.slice(0,i)}static deserialize(t){let e=[...t];const r=[],o=ke(e);for(let s=0;s<o;s++)r.push(new Uint8Array(e.splice(0,Hr)));const i=Ea.deserialize(new Uint8Array(e));return new Sa(i,r)}sign(t){const e=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const o of t){const i=r.findIndex(s=>s.equals(o.publicKey));qt(i>=0,`Cannot sign with non signer key ${o.publicKey.toBase58()}`),this.signatures[i]=ma(e,o.secretKey)}}addSignature(t,e){qt(e.byteLength===64,"Signature must be 64 bytes long");const o=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(t));qt(o>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[o]=e}}const sl=160,al=64,cl=sl/al,ul=1e3/cl;new lt("SysvarC1ock11111111111111111111111111111111");new lt("SysvarEpochSchedu1e111111111111111111111111");new lt("Sysvar1nstructions1111111111111111111111111");new lt("SysvarRecentB1ockHashes11111111111111111111");new lt("SysvarRent111111111111111111111111111111111");new lt("SysvarRewards111111111111111111111111111111");new lt("SysvarS1otHashes111111111111111111111111111");new lt("SysvarS1otHistory11111111111111111111111111");new lt("SysvarStakeHistory1111111111111111111111111");function Sr(n){return new Promise(t=>setTimeout(t,n))}const fl=he("lamportsPerSignature"),Ba=nt([at("version"),at("state"),vt("authorizedPubkey"),vt("nonce"),nt([fl],"feeCalculator")]);Ba.span;class no{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const e=Ba.decode(Lr(t),0);return new no({authorizedPubkey:new lt(e.authorizedPubkey),nonce:new lt(e.nonce).toString(),feeCalculator:e.feeCalculator})}}const ll=n=>{const t=n.decode.bind(n),e=n.encode.bind(n);return{decode:t,encode:e}},hl=n=>t=>{const e=Ft(n,t),{encode:r,decode:o}=ll(e),i=e;return i.decode=(s,u)=>{const d=o(s,u);return Ku(rt.Buffer.from(d))},i.encode=(s,u,d)=>{const v=ju(s,n);return r(v,u,d)},i},Tr=hl(8);Object.freeze({Create:{index:0,layout:nt([at("instruction"),Ie("lamports"),Ie("space"),vt("programId")])},Assign:{index:1,layout:nt([at("instruction"),vt("programId")])},Transfer:{index:2,layout:nt([at("instruction"),Tr("lamports")])},CreateWithSeed:{index:3,layout:nt([at("instruction"),vt("base"),Br("seed"),Ie("lamports"),Ie("space"),vt("programId")])},AdvanceNonceAccount:{index:4,layout:nt([at("instruction")])},WithdrawNonceAccount:{index:5,layout:nt([at("instruction"),Ie("lamports")])},InitializeNonceAccount:{index:6,layout:nt([at("instruction"),vt("authorized")])},AuthorizeNonceAccount:{index:7,layout:nt([at("instruction"),vt("authorized")])},Allocate:{index:8,layout:nt([at("instruction"),Ie("space")])},AllocateWithSeed:{index:9,layout:nt([at("instruction"),vt("base"),Br("seed"),Ie("space"),vt("programId")])},AssignWithSeed:{index:10,layout:nt([at("instruction"),vt("base"),Br("seed"),vt("programId")])},TransferWithSeed:{index:11,layout:nt([at("instruction"),Tr("lamports"),Br("seed"),vt("programId")])},UpgradeNonceAccount:{index:12,layout:nt([at("instruction")])}});new lt("11111111111111111111111111111111");new lt("BPFLoader2111111111111111111111111111111111");function dl(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var pl=Object.prototype.toString,gl=Object.keys||function(n){var t=[];for(var e in n)t.push(e);return t};function Dr(n,t){var e,r,o,i,s,u,d;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return Dr(n.toJSON(),t);if(d=pl.call(n),d==="[object Array]"){for(o="[",r=n.length-1,e=0;e<r;e++)o+=Dr(n[e],!0)+",";return r>-1&&(o+=Dr(n[e],!0)),o+"]"}else if(d==="[object Object]"){for(i=gl(n).sort(),r=i.length,o="",e=0;e<r;)s=i[e],u=Dr(n[s],!1),u!==void 0&&(o&&(o+=","),o+=JSON.stringify(s)+":"+u),e++;return"{"+o+"}"}else return JSON.stringify(n);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}var yl=function(n){var t=Dr(n,!1);if(t!==void 0)return""+t},jo=dl(yl);const Pr=32;function mi(n){let t=0;for(;n>1;)n/=2,t++;return t}function ml(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class wl{constructor(t,e,r,o,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=r,this.firstNormalEpoch=o,this.firstNormalSlot=i}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const e=mi(ml(t+Pr+1))-mi(Pr)-1,r=this.getSlotsInEpoch(e),o=t-(r-Pr);return[e,o]}else{const e=t-this.firstNormalSlot,r=Math.floor(e/this.slotsPerEpoch),o=this.firstNormalEpoch+r,i=e%this.slotsPerEpoch;return[o,i]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*Pr:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+mi(Pr)):this.slotsPerEpoch}}class Go extends Error{constructor(t,e){super(t),this.logs=void 0,this.logs=e}}class ot extends Error{constructor({code:t,message:e,data:r},o){super(o!=null?`${o}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=r,this.name="SolanaJSONRPCError"}}var bl=globalThis.fetch;class vl extends Pf{constructor(t,e,r){const o=i=>{const s=qf(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(o,t,e,r),this.underlyingSocket=void 0}call(...t){const e=this.underlyingSocket?.readyState;return e===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){const e=this.underlyingSocket?.readyState;return e===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}}function xl(n,t){let e;try{e=n.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(e.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${e.typeIndex} != ${n.index}`);return e}const Vo=56;class Zo{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const e=xl(El,t),r=t.length-Vo;qt(r>=0,"lookup table is invalid"),qt(r%32===0,"lookup table is invalid");const o=r/32,{addresses:i}=nt([ve(vt(),o,"addresses")]).decode(t.slice(Vo));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:e.authority.length!==0?new lt(e.authority[0]):void 0,addresses:i.map(s=>new lt(s))}}}const El={index:1,layout:nt([at("typeIndex"),Tr("deactivationSlot"),he("lastExtendedSlot"),_t("lastExtendedStartIndex"),_t(),ve(vt(),dr(_t(),-1),"authority")])},Sl=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Bl(n){const t=n.match(Sl);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[e,r,o,i]=t,s=n.startsWith("https:")?"wss:":"ws:",u=o==null?null:parseInt(o.slice(1),10),d=u==null?"":`:${u+1}`;return`${s}//${r}${d}${i}`}const ce=Yr(Qi(lt),Z(),n=>new lt(n)),_a=to([Z(),zt("base64")]),io=Yr(Qi(rt.Buffer),_a,n=>rt.Buffer.from(n[0],"base64")),_l=30*1e3;function Al(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Pt(n){let t,e;if(typeof n=="string")t=n;else if(n){const{commitment:r,...o}=n;t=r,e=o}return{commitment:t,config:e}}function Aa(n){return _e([j({jsonrpc:zt("2.0"),id:Z(),result:n}),j({jsonrpc:zt("2.0"),id:Z(),error:j({code:Zr(),message:Z(),data:ut(tf())})})])}const Il=Aa(Zr());function bt(n){return Yr(Aa(n),Il,t=>"error"in t?t:{...t,result:Y(t.result,n)})}function Ht(n){return bt(j({context:j({slot:N()}),value:n}))}function Bn(n){return j({context:j({slot:N()}),value:n})}function wi(n,t){return n===0?new Wr({header:t.header,staticAccountKeys:t.accountKeys.map(e=>new lt(e)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:pe.decode(e.data)})),addressTableLookups:t.addressTableLookups}):new Je(t)}const kl=j({foundation:N(),foundationTerm:N(),initial:N(),taper:N(),terminal:N()}),Ml=bt(J(X(j({epoch:N(),effectiveSlot:N(),amount:N(),postBalance:N(),commission:ut(X(N()))})))),Rl=J(j({slot:N(),prioritizationFee:N()})),Ll=j({total:N(),validator:N(),foundation:N(),epoch:N()}),Tl=j({epoch:N(),slotIndex:N(),slotsInEpoch:N(),absoluteSlot:N(),blockHeight:ut(N()),transactionCount:ut(N())}),Cl=j({slotsPerEpoch:N(),leaderScheduleSlotOffset:N(),warmup:He(),firstNormalEpoch:N(),firstNormalSlot:N()}),Ul=Qs(Z(),J(N())),wr=X(_e([j({}),Z()])),Ol=j({err:wr}),Fl=zt("receivedSignature"),Nl=j({"solana-core":Z(),"feature-set":ut(N())}),Yo=Ht(j({err:X(_e([j({}),Z()])),logs:X(J(Z())),accounts:ut(X(J(X(j({executable:He(),owner:Z(),lamports:N(),data:J(Z()),rentEpoch:ut(N())}))))),unitsConsumed:ut(N()),returnData:ut(X(j({programId:Z(),data:to([Z(),zt("base64")])})))})),Pl=Ht(j({byIdentity:Qs(Z(),J(N())),range:j({firstSlot:N(),lastSlot:N()})}));function ql(n,t,e,r,o,i){const s=e||bl;let u;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let d;return r&&(d=async(B,A)=>{const O=await new Promise((T,L)=>{try{r(B,A,(I,k)=>T([I,k]))}catch(I){L(I)}});return await s(...O)}),new Rf(async(B,A)=>{const O={method:"POST",body:B,agent:u,headers:Object.assign({"Content-Type":"application/json"},t||{},Dh)};try{let T=5,L,I=500;for(;d?L=await d(n,O):L=await s(n,O),!(L.status!==429||o===!0||(T-=1,T===0));)console.log(`Server responded with ${L.status} ${L.statusText}.  Retrying after ${I}ms delay...`),await Sr(I),I*=2;const k=await L.text();L.ok?A(null,k):A(new Error(`${L.status} ${L.statusText}: ${k}`))}catch(T){T instanceof Error&&A(T)}},{})}function Dl(n){return(t,e)=>new Promise((r,o)=>{n.request(t,e,(i,s)=>{if(i){o(i);return}r(s)})})}function zl(n){return t=>new Promise((e,r)=>{t.length===0&&e([]);const o=t.map(i=>n.request(i.methodName,i.args));n.request(o,(i,s)=>{if(i){r(i);return}e(s)})})}const $l=bt(kl),Kl=bt(Ll),Hl=bt(Rl),Wl=bt(Tl),jl=bt(Cl),Gl=bt(Ul),Vl=bt(N()),Zl=Ht(j({total:N(),circulating:N(),nonCirculating:N(),nonCirculatingAccounts:J(ce)})),Mi=j({amount:Z(),uiAmount:X(N()),decimals:N(),uiAmountString:ut(Z())}),Yl=Ht(J(j({address:ce,amount:Z(),uiAmount:X(N()),decimals:N(),uiAmountString:ut(Z())}))),Jl=Ht(J(j({pubkey:ce,account:j({executable:He(),owner:ce,lamports:N(),data:io,rentEpoch:N()})}))),Ri=j({program:Z(),parsed:Zr(),space:N()}),Xl=Ht(J(j({pubkey:ce,account:j({executable:He(),owner:ce,lamports:N(),data:Ri,rentEpoch:N()})}))),Ql=Ht(J(j({lamports:N(),address:ce}))),jr=j({executable:He(),owner:ce,lamports:N(),data:io,rentEpoch:N()}),th=j({pubkey:ce,account:jr}),eh=Yr(_e([Qi(rt.Buffer),Ri]),_e([_a,Ri]),n=>Array.isArray(n)?Y(n,io):n),Li=j({executable:He(),owner:ce,lamports:N(),data:eh,rentEpoch:N()}),rh=j({pubkey:ce,account:Li}),nh=j({state:_e([zt("active"),zt("inactive"),zt("activating"),zt("deactivating")]),active:N(),inactive:N()}),ih=bt(J(j({signature:Z(),slot:N(),err:wr,memo:X(Z()),blockTime:ut(X(N()))}))),oh=bt(J(j({signature:Z(),slot:N(),err:wr,memo:X(Z()),blockTime:ut(X(N()))}))),sh=j({subscription:N(),result:Bn(jr)}),ah=j({pubkey:ce,account:jr}),ch=j({subscription:N(),result:Bn(ah)}),uh=j({parent:N(),slot:N(),root:N()}),fh=j({subscription:N(),result:uh}),lh=_e([j({type:_e([zt("firstShredReceived"),zt("completed"),zt("optimisticConfirmation"),zt("root")]),slot:N(),timestamp:N()}),j({type:zt("createdBank"),parent:N(),slot:N(),timestamp:N()}),j({type:zt("frozen"),slot:N(),timestamp:N(),stats:j({numTransactionEntries:N(),numSuccessfulTransactions:N(),numFailedTransactions:N(),maxTransactionsPerEntry:N()})}),j({type:zt("dead"),slot:N(),timestamp:N(),err:Z()})]),hh=j({subscription:N(),result:lh}),dh=j({subscription:N(),result:Bn(_e([Ol,Fl]))}),ph=j({subscription:N(),result:N()}),gh=j({pubkey:Z(),gossip:X(Z()),tpu:X(Z()),rpc:X(Z()),version:X(Z())}),Jo=j({votePubkey:Z(),nodePubkey:Z(),activatedStake:N(),epochVoteAccount:He(),epochCredits:J(to([N(),N(),N()])),commission:N(),lastVote:N(),rootSlot:X(N())}),yh=bt(j({current:J(Jo),delinquent:J(Jo)})),mh=_e([zt("processed"),zt("confirmed"),zt("finalized")]),wh=j({slot:N(),confirmations:X(N()),err:wr,confirmationStatus:ut(mh)}),bh=Ht(J(X(wh))),vh=bt(N()),Ia=j({accountKey:ce,writableIndexes:J(N()),readonlyIndexes:J(N())}),oo=j({signatures:J(Z()),message:j({accountKeys:J(Z()),header:j({numRequiredSignatures:N(),numReadonlySignedAccounts:N(),numReadonlyUnsignedAccounts:N()}),instructions:J(j({accounts:J(N()),data:Z(),programIdIndex:N()})),recentBlockhash:Z(),addressTableLookups:ut(J(Ia))})}),ka=j({pubkey:ce,signer:He(),writable:He(),source:ut(_e([zt("transaction"),zt("lookupTable")]))}),Ma=j({accountKeys:J(ka),signatures:J(Z())}),Ra=j({parsed:Zr(),program:Z(),programId:ce}),La=j({accounts:J(ce),data:Z(),programId:ce}),xh=_e([La,Ra]),Eh=_e([j({parsed:Zr(),program:Z(),programId:Z()}),j({accounts:J(Z()),data:Z(),programId:Z()})]),Ta=Yr(xh,Eh,n=>"accounts"in n?Y(n,La):Y(n,Ra)),Ca=j({signatures:J(Z()),message:j({accountKeys:J(ka),instructions:J(Ta),recentBlockhash:Z(),addressTableLookups:ut(X(J(Ia)))})}),hn=j({accountIndex:N(),mint:Z(),owner:ut(Z()),uiTokenAmount:Mi}),Ua=j({writable:J(ce),readonly:J(ce)}),_n=j({err:wr,fee:N(),innerInstructions:ut(X(J(j({index:N(),instructions:J(j({accounts:J(N()),data:Z(),programIdIndex:N()}))})))),preBalances:J(N()),postBalances:J(N()),logMessages:ut(X(J(Z()))),preTokenBalances:ut(X(J(hn))),postTokenBalances:ut(X(J(hn))),loadedAddresses:ut(Ua),computeUnitsConsumed:ut(N())}),so=j({err:wr,fee:N(),innerInstructions:ut(X(J(j({index:N(),instructions:J(Ta)})))),preBalances:J(N()),postBalances:J(N()),logMessages:ut(X(J(Z()))),preTokenBalances:ut(X(J(hn))),postTokenBalances:ut(X(J(hn))),loadedAddresses:ut(Ua),computeUnitsConsumed:ut(N())}),Nr=_e([zt(0),zt("legacy")]),br=j({pubkey:Z(),lamports:N(),postBalance:X(N()),rewardType:X(Z()),commission:ut(X(N()))}),Sh=bt(X(j({blockhash:Z(),previousBlockhash:Z(),parentSlot:N(),transactions:J(j({transaction:oo,meta:X(_n),version:ut(Nr)})),rewards:ut(J(br)),blockTime:X(N()),blockHeight:X(N())}))),Bh=bt(X(j({blockhash:Z(),previousBlockhash:Z(),parentSlot:N(),rewards:ut(J(br)),blockTime:X(N()),blockHeight:X(N())}))),_h=bt(X(j({blockhash:Z(),previousBlockhash:Z(),parentSlot:N(),transactions:J(j({transaction:Ma,meta:X(_n),version:ut(Nr)})),rewards:ut(J(br)),blockTime:X(N()),blockHeight:X(N())}))),Ah=bt(X(j({blockhash:Z(),previousBlockhash:Z(),parentSlot:N(),transactions:J(j({transaction:Ca,meta:X(so),version:ut(Nr)})),rewards:ut(J(br)),blockTime:X(N()),blockHeight:X(N())}))),Ih=bt(X(j({blockhash:Z(),previousBlockhash:Z(),parentSlot:N(),transactions:J(j({transaction:Ma,meta:X(so),version:ut(Nr)})),rewards:ut(J(br)),blockTime:X(N()),blockHeight:X(N())}))),kh=bt(X(j({blockhash:Z(),previousBlockhash:Z(),parentSlot:N(),rewards:ut(J(br)),blockTime:X(N()),blockHeight:X(N())}))),Mh=bt(X(j({blockhash:Z(),previousBlockhash:Z(),parentSlot:N(),transactions:J(j({transaction:oo,meta:X(_n)})),rewards:ut(J(br)),blockTime:X(N())}))),Xo=bt(X(j({blockhash:Z(),previousBlockhash:Z(),parentSlot:N(),signatures:J(Z()),blockTime:X(N())}))),bi=bt(X(j({slot:N(),meta:_n,blockTime:ut(X(N())),transaction:oo,version:ut(Nr)}))),rn=bt(X(j({slot:N(),transaction:Ca,meta:X(so),blockTime:ut(X(N())),version:ut(Nr)}))),Rh=Ht(j({blockhash:Z(),feeCalculator:j({lamportsPerSignature:N()})})),Lh=Ht(j({blockhash:Z(),lastValidBlockHeight:N()})),Th=Ht(He()),Ch=j({slot:N(),numTransactions:N(),numSlots:N(),samplePeriodSecs:N()}),Uh=bt(J(Ch)),Oh=Ht(X(j({feeCalculator:j({lamportsPerSignature:N()})}))),Fh=bt(Z()),Nh=bt(Z()),Ph=j({err:wr,logs:J(Z()),signature:Z()}),qh=j({result:Bn(Ph),subscription:N()}),Dh={"solana-client":"js/0.0.0-development"};class cd{constructor(t,e){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const v={};return async B=>{const{commitment:A,config:O}=Pt(B),T=this._buildArgs([],A,void 0,O),L=jo(T);return v[L]=v[L]??(async()=>{try{const I=await this._rpcRequest("getBlockHeight",T),k=Y(I,bt(N()));if("error"in k)throw new ot(k.error,"failed to get block height information");return k.result}finally{delete v[L]}})(),await v[L]}})();let r,o,i,s,u,d;e&&typeof e=="string"?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,r=e.wsEndpoint,o=e.httpHeaders,i=e.fetch,s=e.fetchMiddleware,u=e.disableRetryOnRateLimit,d=e.httpAgent),this._rpcEndpoint=Al(t),this._rpcWsEndpoint=r||Bl(t),this._rpcClient=ql(t,o,i,s,u,d),this._rpcRequest=Dl(this._rpcClient),this._rpcBatchRequest=zl(this._rpcClient),this._rpcWebSocket=new vl(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,e){const{commitment:r,config:o}=Pt(e),i=this._buildArgs([t.toBase58()],r,void 0,o),s=await this._rpcRequest("getBalance",i),u=Y(s,Ht(N()));if("error"in u)throw new ot(u.error,`failed to get balance for ${t.toBase58()}`);return u.result}async getBalance(t,e){return await this.getBalanceAndContext(t,e).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+r)})}async getBlockTime(t){const e=await this._rpcRequest("getBlockTime",[t]),r=Y(e,bt(X(N())));if("error"in r)throw new ot(r.error,`failed to get block time for slot ${t}`);return r.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),e=Y(t,bt(N()));if("error"in e)throw new ot(e.error,"failed to get minimum ledger slot");return e.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),e=Y(t,Vl);if("error"in e)throw new ot(e.error,"failed to get first available block");return e.result}async getSupply(t){let e={};typeof t=="string"?e={commitment:t}:t?e={...t,commitment:t&&t.commitment||this.commitment}:e={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[e]),o=Y(r,Zl);if("error"in o)throw new ot(o.error,"failed to get supply");return o.result}async getTokenSupply(t,e){const r=this._buildArgs([t.toBase58()],e),o=await this._rpcRequest("getTokenSupply",r),i=Y(o,Ht(Mi));if("error"in i)throw new ot(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(t,e){const r=this._buildArgs([t.toBase58()],e),o=await this._rpcRequest("getTokenAccountBalance",r),i=Y(o,Ht(Mi));if("error"in i)throw new ot(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(t,e,r){const{commitment:o,config:i}=Pt(r);let s=[t.toBase58()];"mint"in e?s.push({mint:e.mint.toBase58()}):s.push({programId:e.programId.toBase58()});const u=this._buildArgs(s,o,"base64",i),d=await this._rpcRequest("getTokenAccountsByOwner",u),v=Y(d,Jl);if("error"in v)throw new ot(v.error,`failed to get token accounts owned by account ${t.toBase58()}`);return v.result}async getParsedTokenAccountsByOwner(t,e,r){let o=[t.toBase58()];"mint"in e?o.push({mint:e.mint.toBase58()}):o.push({programId:e.programId.toBase58()});const i=this._buildArgs(o,r,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",i),u=Y(s,Xl);if("error"in u)throw new ot(u.error,`failed to get token accounts owned by account ${t.toBase58()}`);return u.result}async getLargestAccounts(t){const e={...t,commitment:t&&t.commitment||this.commitment},r=e.filter||e.commitment?[e]:[],o=await this._rpcRequest("getLargestAccounts",r),i=Y(o,Ql);if("error"in i)throw new ot(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(t,e){const r=this._buildArgs([t.toBase58()],e),o=await this._rpcRequest("getTokenLargestAccounts",r),i=Y(o,Yl);if("error"in i)throw new ot(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(t,e){const{commitment:r,config:o}=Pt(e),i=this._buildArgs([t.toBase58()],r,"base64",o),s=await this._rpcRequest("getAccountInfo",i),u=Y(s,Ht(X(jr)));if("error"in u)throw new ot(u.error,`failed to get info about account ${t.toBase58()}`);return u.result}async getParsedAccountInfo(t,e){const{commitment:r,config:o}=Pt(e),i=this._buildArgs([t.toBase58()],r,"jsonParsed",o),s=await this._rpcRequest("getAccountInfo",i),u=Y(s,Ht(X(Li)));if("error"in u)throw new ot(u.error,`failed to get info about account ${t.toBase58()}`);return u.result}async getAccountInfo(t,e){try{return(await this.getAccountInfoAndContext(t,e)).value}catch(r){throw new Error("failed to get info about account "+t.toBase58()+": "+r)}}async getMultipleParsedAccounts(t,e){const{commitment:r,config:o}=Pt(e),i=t.map(v=>v.toBase58()),s=this._buildArgs([i],r,"jsonParsed",o),u=await this._rpcRequest("getMultipleAccounts",s),d=Y(u,Ht(J(X(Li))));if("error"in d)throw new ot(d.error,`failed to get info for accounts ${i}`);return d.result}async getMultipleAccountsInfoAndContext(t,e){const{commitment:r,config:o}=Pt(e),i=t.map(v=>v.toBase58()),s=this._buildArgs([i],r,"base64",o),u=await this._rpcRequest("getMultipleAccounts",s),d=Y(u,Ht(J(X(jr))));if("error"in d)throw new ot(d.error,`failed to get info for accounts ${i}`);return d.result}async getMultipleAccountsInfo(t,e){return(await this.getMultipleAccountsInfoAndContext(t,e)).value}async getStakeActivation(t,e,r){const{commitment:o,config:i}=Pt(e),s=this._buildArgs([t.toBase58()],o,void 0,{...i,epoch:r??i?.epoch}),u=await this._rpcRequest("getStakeActivation",s),d=Y(u,bt(nh));if("error"in d)throw new ot(d.error,`failed to get Stake Activation ${t.toBase58()}`);return d.result}async getProgramAccounts(t,e){const{commitment:r,config:o}=Pt(e),{encoding:i,...s}=o||{},u=this._buildArgs([t.toBase58()],r,i||"base64",s),d=await this._rpcRequest("getProgramAccounts",u),v=J(th),B=s.withContext===!0?Y(d,Ht(v)):Y(d,bt(v));if("error"in B)throw new ot(B.error,`failed to get accounts owned by program ${t.toBase58()}`);return B.result}async getParsedProgramAccounts(t,e){const{commitment:r,config:o}=Pt(e),i=this._buildArgs([t.toBase58()],r,"jsonParsed",o),s=await this._rpcRequest("getProgramAccounts",i),u=Y(s,bt(J(rh)));if("error"in u)throw new ot(u.error,`failed to get accounts owned by program ${t.toBase58()}`);return u.result}async confirmTransaction(t,e){let r;if(typeof t=="string")r=t;else{const i=t;if(i.abortSignal?.aborted)return Promise.reject(i.abortSignal.reason);r=i.signature}let o;try{o=pe.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return qt(o.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||this.commitment,signature:r}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:e||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((e,r)=>{t!=null&&(t.aborted?r(t.reason):t.addEventListener("abort",()=>{r(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:e}){let r,o,i=!1;const s=new Promise((d,v)=>{try{r=this.onSignature(e,(A,O)=>{r=void 0;const T={context:O,value:A};d({__type:rr.PROCESSED,response:T})},t);const B=new Promise(A=>{r==null?A():o=this._onSubscriptionStateChange(r,O=>{O==="subscribed"&&A()})});(async()=>{if(await B,i)return;const A=await this.getSignatureStatus(e);if(i||A==null)return;const{context:O,value:T}=A;if(T!=null)if(T?.err)v(T.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(T.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(T.confirmationStatus==="processed"||T.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,d({__type:rr.PROCESSED,response:{context:O,value:T}})}})()}catch(B){v(B)}});return{abortConfirmation:()=>{o&&(o(),o=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:r,signature:o}}){let i=!1;const s=new Promise(A=>{const O=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let T=await O();if(!i){for(;T<=r;)if(await Sr(1e3),i||(T=await O(),i))return;A({__type:rr.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:u,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:t,signature:o}),v=this.getCancellationPromise(e);let B;try{const A=await Promise.race([v,d,s]);if(A.__type===rr.PROCESSED)B=A.response;else throw new va(o)}finally{i=!0,u()}return B}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:e,minContextSlot:r,nonceAccountPubkey:o,nonceValue:i,signature:s}}){let u=!1;const d=new Promise(T=>{let L=i,I=null;const k=async()=>{try{const{context:F,value:q}=await this.getNonceAndContext(o,{commitment:t,minContextSlot:r});return I=F.slot,q?.nonce}catch{return L}};(async()=>{if(L=await k(),!u)for(;;){if(i!==L){T({__type:rr.NONCE_INVALID,slotInWhichNonceDidAdvance:I});return}if(await Sr(2e3),u||(L=await k(),u))return}})()}),{abortConfirmation:v,confirmationPromise:B}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),A=this.getCancellationPromise(e);let O;try{const T=await Promise.race([A,B,d]);if(T.__type===rr.PROCESSED)O=T.response;else{let L;for(;;){const I=await this.getSignatureStatus(s);if(I==null)break;if(I.context.slot<(T.slotInWhichNonceDidAdvance??r)){await Sr(400);continue}L=I;break}if(L?.value){const I=t||"finalized",{confirmationStatus:k}=L.value;switch(I){case"processed":case"recent":if(k!=="processed"&&k!=="confirmed"&&k!=="finalized")throw new qr(s);break;case"confirmed":case"single":case"singleGossip":if(k!=="confirmed"&&k!=="finalized")throw new qr(s);break;case"finalized":case"max":case"root":if(k!=="finalized")throw new qr(s);break;default:}O={context:L.context,value:{err:L.value.err}}}else throw new qr(s)}}finally{u=!0,v()}return O}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:e}){let r;const o=new Promise(d=>{let v=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{v=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>d({__type:rr.TIMED_OUT,timeoutMs:v}),v)}),{abortConfirmation:i,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:t,signature:e});let u;try{const d=await Promise.race([s,o]);if(d.__type===rr.PROCESSED)u=d.response;else throw new xa(e,d.timeoutMs/1e3)}finally{clearTimeout(r),i()}return u}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),e=Y(t,bt(J(gh)));if("error"in e)throw new ot(e.error,"failed to get cluster nodes");return e.result}async getVoteAccounts(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getVoteAccounts",e),o=Y(r,yh);if("error"in o)throw new ot(o.error,"failed to get vote accounts");return o.result}async getSlot(t){const{commitment:e,config:r}=Pt(t),o=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getSlot",o),s=Y(i,bt(N()));if("error"in s)throw new ot(s.error,"failed to get slot");return s.result}async getSlotLeader(t){const{commitment:e,config:r}=Pt(t),o=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getSlotLeader",o),s=Y(i,bt(Z()));if("error"in s)throw new ot(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(t,e){const r=[t,e],o=await this._rpcRequest("getSlotLeaders",r),i=Y(o,bt(J(ce)));if("error"in i)throw new ot(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(t,e){const{context:r,value:o}=await this.getSignatureStatuses([t],e);qt(o.length===1);const i=o[0];return{context:r,value:i}}async getSignatureStatuses(t,e){const r=[t];e&&r.push(e);const o=await this._rpcRequest("getSignatureStatuses",r),i=Y(o,bh);if("error"in i)throw new ot(i.error,"failed to get signature status");return i.result}async getTransactionCount(t){const{commitment:e,config:r}=Pt(t),o=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getTransactionCount",o),s=Y(i,bt(N()));if("error"in s)throw new ot(s.error,"failed to get transaction count");return s.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getInflationGovernor",e),o=Y(r,$l);if("error"in o)throw new ot(o.error,"failed to get inflation");return o.result}async getInflationReward(t,e,r){const{commitment:o,config:i}=Pt(r),s=this._buildArgs([t.map(v=>v.toBase58())],o,void 0,{...i,epoch:e??i?.epoch}),u=await this._rpcRequest("getInflationReward",s),d=Y(u,Ml);if("error"in d)throw new ot(d.error,"failed to get inflation reward");return d.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),e=Y(t,Kl);if("error"in e)throw new ot(e.error,"failed to get inflation rate");return e.result}async getEpochInfo(t){const{commitment:e,config:r}=Pt(t),o=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getEpochInfo",o),s=Y(i,Wl);if("error"in s)throw new ot(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),e=Y(t,jl);if("error"in e)throw new ot(e.error,"failed to get epoch schedule");const r=e.result;return new wl(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),e=Y(t,Gl);if("error"in e)throw new ot(e.error,"failed to get leader schedule");return e.result}async getMinimumBalanceForRentExemption(t,e){const r=this._buildArgs([t],e),o=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=Y(o,vh);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getRecentBlockhash",e),o=Y(r,Rh);if("error"in o)throw new ot(o.error,"failed to get recent blockhash");return o.result}async getRecentPerformanceSamples(t){const e=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),r=Y(e,Uh);if("error"in r)throw new ot(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(t,e){const r=this._buildArgs([t],e),o=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=Y(o,Oh);if("error"in i)throw new ot(i.error,"failed to get fee calculator");const{context:s,value:u}=i.result;return{context:s,value:u!==null?u.feeCalculator:null}}async getFeeForMessage(t,e){const r=Lr(t.serialize()).toString("base64"),o=this._buildArgs([r],e),i=await this._rpcRequest("getFeeForMessage",o),s=Y(i,Ht(X(N())));if("error"in s)throw new ot(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentPrioritizationFees(t){const e=t?.lockedWritableAccounts?.map(s=>s.toBase58()),r=e?.length?[e]:[],o=await this._rpcRequest("getRecentPrioritizationFees",r),i=Y(o,Hl);if("error"in i)throw new ot(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(t){const{commitment:e,config:r}=Pt(t),o=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getLatestBlockhash",o),s=Y(i,Lh);if("error"in s)throw new ot(s.error,"failed to get latest blockhash");return s.result}async isBlockhashValid(t,e){const{commitment:r,config:o}=Pt(e),i=this._buildArgs([t],r,void 0,o),s=await this._rpcRequest("isBlockhashValid",i),u=Y(s,Th);if("error"in u)throw new ot(u.error,"failed to determine if the blockhash `"+t+"`is valid");return u.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),e=Y(t,bt(Nl));if("error"in e)throw new ot(e.error,"failed to get version");return e.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),e=Y(t,bt(Z()));if("error"in e)throw new ot(e.error,"failed to get genesis hash");return e.result}async getBlock(t,e){const{commitment:r,config:o}=Pt(e),i=this._buildArgsAtLeastConfirmed([t],r,void 0,o),s=await this._rpcRequest("getBlock",i);try{switch(o?.transactionDetails){case"accounts":{const u=Y(s,_h);if("error"in u)throw u.error;return u.result}case"none":{const u=Y(s,Bh);if("error"in u)throw u.error;return u.result}default:{const u=Y(s,Sh);if("error"in u)throw u.error;const{result:d}=u;return d?{...d,transactions:d.transactions.map(({transaction:v,meta:B,version:A})=>({meta:B,transaction:{...v,message:wi(A,v.message)},version:A}))}:null}}}catch(u){throw new ot(u,"failed to get confirmed block")}}async getParsedBlock(t,e){const{commitment:r,config:o}=Pt(e),i=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",o),s=await this._rpcRequest("getBlock",i);try{switch(o?.transactionDetails){case"accounts":{const u=Y(s,Ih);if("error"in u)throw u.error;return u.result}case"none":{const u=Y(s,kh);if("error"in u)throw u.error;return u.result}default:{const u=Y(s,Ah);if("error"in u)throw u.error;return u.result}}}catch(u){throw new ot(u,"failed to get block")}}async getBlockProduction(t){let e,r;if(typeof t=="string")r=t;else if(t){const{commitment:u,...d}=t;r=u,e=d}const o=this._buildArgs([],r,"base64",e),i=await this._rpcRequest("getBlockProduction",o),s=Y(i,Pl);if("error"in s)throw new ot(s.error,"failed to get block production information");return s.result}async getTransaction(t,e){const{commitment:r,config:o}=Pt(e),i=this._buildArgsAtLeastConfirmed([t],r,void 0,o),s=await this._rpcRequest("getTransaction",i),u=Y(s,bi);if("error"in u)throw new ot(u.error,"failed to get transaction");const d=u.result;return d&&{...d,transaction:{...d.transaction,message:wi(d.version,d.transaction.message)}}}async getParsedTransaction(t,e){const{commitment:r,config:o}=Pt(e),i=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",o),s=await this._rpcRequest("getTransaction",i),u=Y(s,rn);if("error"in u)throw new ot(u.error,"failed to get transaction");return u.result}async getParsedTransactions(t,e){const{commitment:r,config:o}=Pt(e),i=t.map(d=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([d],r,"jsonParsed",o)}));return(await this._rpcBatchRequest(i)).map(d=>{const v=Y(d,rn);if("error"in v)throw new ot(v.error,"failed to get transactions");return v.result})}async getTransactions(t,e){const{commitment:r,config:o}=Pt(e),i=t.map(d=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([d],r,void 0,o)}));return(await this._rpcBatchRequest(i)).map(d=>{const v=Y(d,bi);if("error"in v)throw new ot(v.error,"failed to get transactions");const B=v.result;return B&&{...B,transaction:{...B.transaction,message:wi(B.version,B.transaction.message)}}})}async getConfirmedBlock(t,e){const r=this._buildArgsAtLeastConfirmed([t],e),o=await this._rpcRequest("getConfirmedBlock",r),i=Y(o,Mh);if("error"in i)throw new ot(i.error,"failed to get confirmed block");const s=i.result;if(!s)throw new Error("Confirmed block "+t+" not found");const u={...s,transactions:s.transactions.map(({transaction:d,meta:v})=>{const B=new Je(d.message);return{meta:v,transaction:{...d,message:B}}})};return{...u,transactions:u.transactions.map(({transaction:d,meta:v})=>({meta:v,transaction:nr.populate(d.message,d.signatures)}))}}async getBlocks(t,e,r){const o=this._buildArgsAtLeastConfirmed(e!==void 0?[t,e]:[t],r),i=await this._rpcRequest("getBlocks",o),s=Y(i,bt(J(N())));if("error"in s)throw new ot(s.error,"failed to get blocks");return s.result}async getBlockSignatures(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getBlock",r),i=Y(o,Xo);if("error"in i)throw new ot(i.error,"failed to get block");const s=i.result;if(!s)throw new Error("Block "+t+" not found");return s}async getConfirmedBlockSignatures(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getConfirmedBlock",r),i=Y(o,Xo);if("error"in i)throw new ot(i.error,"failed to get confirmed block");const s=i.result;if(!s)throw new Error("Confirmed block "+t+" not found");return s}async getConfirmedTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e),o=await this._rpcRequest("getConfirmedTransaction",r),i=Y(o,bi);if("error"in i)throw new ot(i.error,"failed to get transaction");const s=i.result;if(!s)return s;const u=new Je(s.transaction.message),d=s.transaction.signatures;return{...s,transaction:nr.populate(u,d)}}async getParsedConfirmedTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),o=await this._rpcRequest("getConfirmedTransaction",r),i=Y(o,rn);if("error"in i)throw new ot(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(t,e){const r=t.map(s=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([s],e,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(s=>{const u=Y(s,rn);if("error"in u)throw new ot(u.error,"failed to get confirmed transactions");return u.result})}async getConfirmedSignaturesForAddress(t,e,r){let o={},i=await this.getFirstAvailableBlock();for(;!("until"in o)&&(e--,!(e<=0||e<i));)try{const d=await this.getConfirmedBlockSignatures(e,"finalized");d.signatures.length>0&&(o.until=d.signatures[d.signatures.length-1].toString())}catch(d){if(d instanceof Error&&d.message.includes("skipped"))continue;throw d}let s=await this.getSlot("finalized");for(;!("before"in o)&&(r++,!(r>s));)try{const d=await this.getConfirmedBlockSignatures(r);d.signatures.length>0&&(o.before=d.signatures[d.signatures.length-1].toString())}catch(d){if(d instanceof Error&&d.message.includes("skipped"))continue;throw d}return(await this.getConfirmedSignaturesForAddress2(t,o)).map(d=>d.signature)}async getConfirmedSignaturesForAddress2(t,e,r){const o=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",o),s=Y(i,ih);if("error"in s)throw new ot(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(t,e,r){const o=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),i=await this._rpcRequest("getSignaturesForAddress",o),s=Y(i,oh);if("error"in s)throw new ot(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(t,e){const{context:r,value:o}=await this.getAccountInfoAndContext(t,e);let i=null;return o!==null&&(i=new Zo({key:t,state:Zo.deserialize(o.data)})),{context:r,value:i}}async getNonceAndContext(t,e){const{context:r,value:o}=await this.getAccountInfoAndContext(t,e);let i=null;return o!==null&&(i=no.fromAccountData(o.data)),{context:r,value:i}}async getNonce(t,e){return await this.getNonceAndContext(t,e).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+r)})}async requestAirdrop(t,e){const r=await this._rpcRequest("requestAirdrop",[t.toBase58(),e]),o=Y(r,Fh);if("error"in o)throw new ot(o.error,`airdrop to ${t.toBase58()} failed`);return o.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await Sr(100);const r=Date.now()-this._blockhashInfo.lastFetch>=_l;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),e=this._blockhashInfo.latestBlockhash,r=e?e.blockhash:null;for(let o=0;o<50;o++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await Sr(ul/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:e,config:r}=Pt(t),o=this._buildArgs([],e,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",o),s=Y(i,Ht(N()));if("error"in s)throw new ot(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(t,e,r){if("message"in t){const I=t.serialize(),k=rt.Buffer.from(I).toString("base64");if(Array.isArray(e)||r!==void 0)throw new Error("Invalid arguments");const F=e||{};F.encoding="base64","commitment"in F||(F.commitment=this.commitment);const q=[k,F],M=await this._rpcRequest("simulateTransaction",q),G=Y(M,Yo);if("error"in G)throw new Error("failed to simulate transaction: "+G.error.message);return G.result}let o;if(t instanceof nr){let L=t;o=new nr,o.feePayer=L.feePayer,o.instructions=t.instructions,o.nonceInfo=L.nonceInfo,o.signatures=L.signatures}else o=nr.populate(t),o._message=o._json=void 0;if(e!==void 0&&!Array.isArray(e))throw new Error("Invalid arguments");const i=e;if(o.nonceInfo&&i)o.sign(...i);else{let L=this._disableBlockhashCaching;for(;;){const I=await this._blockhashWithExpiryBlockHeight(L);if(o.lastValidBlockHeight=I.lastValidBlockHeight,o.recentBlockhash=I.blockhash,!i)break;if(o.sign(...i),!o.signature)throw new Error("!signature");const k=o.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(k)&&!this._blockhashInfo.transactionSignatures.includes(k)){this._blockhashInfo.simulatedSignatures.push(k);break}else L=!0}}const s=o._compile(),u=s.serialize(),v=o._serialize(u).toString("base64"),B={encoding:"base64",commitment:this.commitment};if(r){const L=(Array.isArray(r)?r:s.nonProgramIds()).map(I=>I.toBase58());B.accounts={encoding:"base64",addresses:L}}i&&(B.sigVerify=!0);const A=[v,B],O=await this._rpcRequest("simulateTransaction",A),T=Y(O,Yo);if("error"in T){let L;if("data"in T.error&&(L=T.error.data.logs,L&&Array.isArray(L))){const I=`
    `,k=I+L.join(I);console.error(T.error.message,k)}throw new Go("failed to simulate transaction: "+T.error.message,L)}return T.result}async sendTransaction(t,e,r){if("version"in t){if(e&&Array.isArray(e))throw new Error("Invalid arguments");const s=t.serialize();return await this.sendRawTransaction(s,e)}if(e===void 0||!Array.isArray(e))throw new Error("Invalid arguments");const o=e;if(t.nonceInfo)t.sign(...o);else{let s=this._disableBlockhashCaching;for(;;){const u=await this._blockhashWithExpiryBlockHeight(s);if(t.lastValidBlockHeight=u.lastValidBlockHeight,t.recentBlockhash=u.blockhash,t.sign(...o),!t.signature)throw new Error("!signature");const d=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(d))s=!0;else{this._blockhashInfo.transactionSignatures.push(d);break}}}const i=t.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(t,e){const r=Lr(t).toString("base64");return await this.sendEncodedTransaction(r,e)}async sendEncodedTransaction(t,e){const r={encoding:"base64"},o=e&&e.skipPreflight,i=e&&e.preflightCommitment||this.commitment;e&&e.maxRetries!=null&&(r.maxRetries=e.maxRetries),e&&e.minContextSlot!=null&&(r.minContextSlot=e.minContextSlot),o&&(r.skipPreflight=o),i&&(r.preflightCommitment=i);const s=[t,r],u=await this._rpcRequest("sendTransaction",s),d=Y(u,Nh);if("error"in d){let v;throw"data"in d.error&&(v=d.error.data.logs),new Go("failed to send transaction: "+d.error.message,v)}return d.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([e,r])=>{this._setSubscription(e,{...r,state:"pending"})})}_setSubscription(t,e){const r=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=e,r!==e.state){const o=this._subscriptionStateChangeCallbacksByHash[t];o&&o.forEach(i=>{try{i(e.state)}catch{}})}}_onSubscriptionStateChange(t,e){const r=this._subscriptionHashByClientSubscriptionId[t];if(r==null)return()=>{};const o=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return o.add(e),()=>{o.delete(e),o.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,e=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const o=this._subscriptionsByHash[r];if(o!==void 0)switch(o.state){case"pending":case"unsubscribed":if(o.callbacks.size===0){delete this._subscriptionsByHash[r],o.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[o.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:s}=o;try{this._setSubscription(r,{...o,state:"subscribing"});const u=await this._rpcWebSocket.call(s,i);this._setSubscription(r,{...o,serverSubscriptionId:u,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[u]=o.callbacks,await this._updateSubscriptions()}catch(u){if(u instanceof Error&&console.error(`${s} error for argument`,i,u.message),!e())return;this._setSubscription(r,{...o,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":o.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:s}=o;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...o,state:"unsubscribing"}),this._setSubscription(r,{...o,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[i])}catch(u){if(u instanceof Error&&console.error(`${s} error:`,u.message),!e())return;this._setSubscription(r,{...o,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...o,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,e){const r=this._subscriptionCallbacksByServerSubscriptionId[t];r!==void 0&&r.forEach(o=>{try{o(...e)}catch(i){console.error(i)}})}_wsOnAccountNotification(t){const{result:e,subscription:r}=Y(t,sh);this._handleServerNotification(r,[e.value,e.context])}_makeSubscription(t,e){const r=this._nextClientSubscriptionId++,o=jo([t.method,e],!0),i=this._subscriptionsByHash[o];return i===void 0?this._subscriptionsByHash[o]={...t,args:e,callbacks:new Set([t.callback]),state:"pending"}:i.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[r]=o,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const s=this._subscriptionsByHash[o];qt(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),s.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(t,e,r){const o=this._buildArgs([t.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:e,subscription:r}=Y(t,ch);this._handleServerNotification(r,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,r,o){const i=this._buildArgs([t.toBase58()],r||this._commitment||"finalized","base64",o?{filters:o}:void 0);return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,e,r){const o=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},o)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:e,subscription:r}=Y(t,qh);this._handleServerNotification(r,[e.value,e.context])}_wsOnSlotNotification(t){const{result:e,subscription:r}=Y(t,fh);this._handleServerNotification(r,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:e,subscription:r}=Y(t,hh);this._handleServerNotification(r,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,e){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${e}' events could not be found.`)}_buildArgs(t,e,r,o){const i=e||this._commitment;if(i||r||o){let s={};r&&(s.encoding=r),i&&(s.commitment=i),o&&(s=Object.assign(s,o)),t.push(s)}return t}_buildArgsAtLeastConfirmed(t,e,r,o){const i=e||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,r,o)}_wsOnSignatureNotification(t){const{result:e,subscription:r}=Y(t,dh);e.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,e.value==="receivedSignature"?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,r){const o=this._buildArgs([t],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(s,u)=>{if(s.type==="status"){e(s.result,u);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return i}onSignatureWithOptions(t,e,r){const{commitment:o,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([t],o,void 0,i),u=this._makeSubscription({callback:(d,v)=>{e(d,v);try{this.removeSignatureListener(u)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return u}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:e,subscription:r}=Y(t,ph);this._handleServerNotification(r,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:nt([at("instruction"),Tr("recentSlot"),_t("bumpSeed")])},FreezeLookupTable:{index:1,layout:nt([at("instruction")])},ExtendLookupTable:{index:2,layout:nt([at("instruction"),Tr(),ve(vt(),dr(at(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:nt([at("instruction")])},CloseLookupTable:{index:4,layout:nt([at("instruction")])}});new lt("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:nt([_t("instruction"),at("units"),at("additionalFee")])},RequestHeapFrame:{index:1,layout:nt([_t("instruction"),at("bytes")])},SetComputeUnitLimit:{index:2,layout:nt([_t("instruction"),at("units")])},SetComputeUnitPrice:{index:3,layout:nt([_t("instruction"),Tr("microLamports")])}});new lt("ComputeBudget111111111111111111111111111111");nt([_t("numSignatures"),_t("padding"),Ue("signatureOffset"),Ue("signatureInstructionIndex"),Ue("publicKeyOffset"),Ue("publicKeyInstructionIndex"),Ue("messageDataOffset"),Ue("messageDataSize"),Ue("messageInstructionIndex")]);new lt("Ed25519SigVerify111111111111111111111111111");eo.utils.isValidPrivateKey;eo.getPublicKey;nt([_t("numSignatures"),Ue("signatureOffset"),_t("signatureInstructionIndex"),Ue("ethAddressOffset"),_t("ethAddressInstructionIndex"),Ue("messageDataOffset"),Ue("messageDataSize"),_t("messageInstructionIndex"),Ft(20,"ethAddress"),Ft(64,"signature"),_t("recoveryId")]);new lt("KeccakSecp256k11111111111111111111111111111");var Oa;new lt("StakeConfig11111111111111111111111111111111");class Fa{constructor(t,e,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=r}}Oa=Fa;Fa.default=new Oa(0,0,lt.default);Object.freeze({Initialize:{index:0,layout:nt([at("instruction"),el(),rl()])},Authorize:{index:1,layout:nt([at("instruction"),vt("newAuthorized"),at("stakeAuthorizationType")])},Delegate:{index:2,layout:nt([at("instruction")])},Split:{index:3,layout:nt([at("instruction"),Ie("lamports")])},Withdraw:{index:4,layout:nt([at("instruction"),Ie("lamports")])},Deactivate:{index:5,layout:nt([at("instruction")])},Merge:{index:7,layout:nt([at("instruction")])},AuthorizeWithSeed:{index:8,layout:nt([at("instruction"),vt("newAuthorized"),at("stakeAuthorizationType"),Br("authoritySeed"),vt("authorityOwner")])}});new lt("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:nt([at("instruction"),nl()])},Authorize:{index:1,layout:nt([at("instruction"),vt("newAuthorized"),at("voteAuthorizationType")])},Withdraw:{index:3,layout:nt([at("instruction"),Ie("lamports")])},AuthorizeWithSeed:{index:10,layout:nt([at("instruction"),il()])}});new lt("Vote111111111111111111111111111111111111111");new lt("Va1idator1nfo111111111111111111111111111111");j({name:Z(),website:ut(Z()),details:ut(Z()),keybaseUsername:ut(Z())});new lt("Vote111111111111111111111111111111111111111");nt([vt("nodePubkey"),vt("authorizedWithdrawer"),_t("commission"),he(),ve(nt([he("slot"),at("confirmationCount")]),dr(at(),-8),"votes"),_t("rootSlotValid"),he("rootSlot"),he(),ve(nt([he("epoch"),vt("authorizedVoter")]),dr(at(),-8),"authorizedVoters"),nt([ve(nt([vt("authorizedPubkey"),he("epochOfLastAuthorizedSwitch"),he("targetEpoch")]),32,"buf"),he("idx"),_t("isEmpty")],"priorVoters"),he(),ve(nt([he("epoch"),he("credits"),he("prevCredits")]),dr(at(),-8),"epochCredits"),nt([he("slot"),he("timestamp")],"lastTimestamp")]);export{td as B,cd as C,lt as P,Sa as V,Jh as W,Xh as a,rt as b,Ir as c,Gh as d,Kh as e,Da as f,Cr as g,Hh as h,nd as i,jh as j,Yh as k,Vh as l,zr as m,rd as n,Zh as o,Re as p,Qh as q,Wh as r,ed as s,Ti as t,Et as w};
